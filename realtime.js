!function(){if("undefined"!=typeof console&&null!==console?console:console={log:function(){},info:function(){},warn:function(){},error:function(){}},void 0===window.Realtime){var t=function(){throw new Error("Requirejs has been hidden inside realtime.js")};require=function(){function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return i(e[s][1][t]||t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}return t}()({1:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./framework/Controller"),c=t("../../../../../lib/Jid"),u=t("bluebird"),l=t("lodash"),f=t("ltx"),p=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t._actives=null,t._updateQueue=[],t.server.on("rosterItem",function(e){var n=e.type;return t.emit(n)}),t.server.on("disconnect",function(){return t.onDisconnect()}),t.server.on("connect",function(){return t.onConnect()}),t._initialActivesListener=null,t._fallbackActiveRequestTimeout=null,t}return o(e,t),s(e,[{key:"_jidEvent",value:function(t,e){return(t+":"+e.split("@")[0]).toLowerCase()}}]),s(e,[{key:"subscribeOrUpdateResult",value:function(t){if(t.getChildByAttr("subscription","subscribed",null,!0))return this.emit("activeChatsSubscribed")}},{key:"onConnect",value:function(){var t=this;if(Realtime.debug("guest","ActiveChatController is active?",this.active),this.active)return this._fallbackActiveRequestTimeout=setTimeout(function(){t.realtime._logger.warn("Active chat list did not come from the server in less than 30 seconds. The list will be explicitly requested"),t._cleanupInitialActivesFallback(),t._sendRequest()},3e4),this._initialActivesListener=function(){return t._cleanupInitialActivesFallback()},this.once("actives",this._initialActivesListener)}},{key:"_cleanupInitialActivesFallback",value:function(){this._initialActivesListener&&(this.removeListener("actives",this._initialActivesListener),this._initialActivesListener=null),this._fallbackActiveRequestTimeout&&(clearTimeout(this._fallbackActiveRequestTimeout),this._fallbackActiveRequestTimeout=null)}},{key:"onDisconnect",value:function(){this._cleanupInitialActivesFallback(),this._actives=null,this._updateQueue=[]}},{key:"activeChatsResult",value:function(t){var e=this,n=t.getChildByAttr("node","orgspan:activeChats",null,!0);Realtime.debug("active","got activeChats result",n);var r=this._actives||{};this._actives={},n.getChildren("item").forEach(function(t){var n=t.attrs,r=n.type,i=n.last,o=n.id,s=n.closed,a=n.subject;i&&(i=new Date(i)),s&&(s=new Date(s));var c=!s;e._actives[o]={active:c,type:r,last:i,closed:s,subject:a},e.emit("activeChat",{jid:o,active:c,type:r,last:i,closed:s,subject:a})}),Object.keys(r).forEach(function(t){var n=r[t];if(!e._actives[t]){var i=n.type,o=n.last,s=n.closed,a=n.subject;e.emit("activeChat",{jid:t,active:!1,type:i,last:o,closed:s,subject:a})}});var i=this._updateQueue;this._updateQueue=[],i.forEach(function(t){return t()}),this.emit("actives")}},{key:"activeMessage",value:function(t){var e=this;Realtime.debug("active","activeMessage",t);var n=t.getChild("event","http://jabber.org/protocol/pubsub#event");n&&(n=n.getChild("items")),n.children.forEach(function(t){if(["item","retract"].includes(t.name)){var n=t.attrs,r=n.id,i=n.type,o=n.last,s=n.closed,a=n.subject,c=void 0;t.is("item")?c=!0:t.is("retract")&&(c=!1),Realtime.debug("active","set",{id:r,active:c,type:i,last:o,closed:s},t),o&&(o=new Date(o)),s?(e.emit(e._jidEvent("close",r)),s=new Date(s)):e.emit(e._jidEvent("open",r));var u={active:c,type:i,last:o,closed:s,subject:a};if(!e._actives)return void e._updateQueue.push(e._updateActives.bind(e,t.attrs.id,u));e._updateActives(t.attrs.id,u)}})}},{key:"_updateActives",value:function(t,e){this._actives[t]=e;var n=l.clone(e);return n.jid=t,this.emit("activeChat",n)}},{key:"_setOpen",value:function(t,n){if(!t||c.isConferenceJid(t)||c.isChatJid(t)||this.realtime._logger.error("Invalid set active jid received, jid: ",t),this.active){if(!this._actives)return void this._updateQueue.push(e.expose.setActive.bind(this,t));if(!this._actives[t]||!this._actives[t].active){Realtime.debug("active","setting",t,"as active");var r=void 0,i=void 0,o=new u(function(){r=arguments[0],i=arguments[1]}).asCallback(n);this.once(this._jidEvent("open",t),function(){return r()});var s=new f.Element("iq",{type:"set",to:"pubsub."+this.server.jid.domain,from:this.server.jid.toString(),id:"activeChatsSet"});return s.c("pubsub",{xmlns:"http://jabber.org/protocol/pubsub"}).c("publish",{node:"orgspan:activeChats"}).c("item",{id:t,type:t.match(/@conference/)?"room":"person"}),this.server.send(s,function(t){t&&i(t)}),o}}}},{key:"_setClosed",value:function(t,e){if(!t||c.isConferenceJid(t)||c.isChatJid(t)||this.realtime._logger.error("Invalid set closed jid received, jid: ",t),this.active){if(!this._actives)return void this._updateQueue.push(this._setClosed.bind(this,t));if(!this._actives[t]||this._actives[t].active){Realtime.debug("active","setting",t,"as inactive");var n=void 0,r=void 0,i=new u(function(){n=arguments[0],r=arguments[1]}).asCallback(e);this.once(this._jidEvent("close",t),function(){return n()});var o=new f.Element("iq",{type:"set",to:"pubsub."+this.server.jid.domain,from:this.server.jid.toString(),id:"activeChatsSet"});return o.c("pubsub",{xmlns:"http://jabber.org/protocol/pubsub"}).c("retract",{node:"orgspan:activeChats"}).c("item",{id:t,type:t.match(/@conference/)?"room":"person"}),this.server.send(o,function(t){t&&r(t)}),i}}}},{key:"_sendRequest",value:function(){var t=this;if(Realtime.debug("active","active _sendRequest",{discovered:this.server.discovered}),!this.realtime.connected)return this.server.once("connected",function(){return t._sendRequest()});this.realtime.features["orgspan:actives"]&&!this.server.discovered||this.realtime.getRoster(function(){t.realtime.getGroups(function(){Realtime.debug("active","sending activeChats request");var e=new f.Element("iq",{type:"set",from:t.server.jid.toString(),to:"pubsub."+t.server.jid.domain,id:"activeChatsSub"});return e.c("pubsub",{xmlns:"http://jabber.org/protocol/pubsub"}).c("subscribe",{node:"orgspan:activeChats",jid:t.server.jid.toString()}),t.server.send(e),e=new f.Element("iq",{from:t.server.jid.toString(),type:"get"}),e.c("pubsub",{xmlns:"http://jabber.org/protocol/pubsub"}).c("items",{node:"orgspan:activeChats"}),t.server.send(e)})})}}]),e}(a);p.exposeEvents=["activeChat","activeChatsSubscribed"],p.expose={setActive:function(t,e){return this._setOpen(t,e)},setOpen:function(t,e){return this._setOpen(t,e)},setInactive:function(t,e){return this._setClosed(t,e)},setClosed:function(t,e){return this._setClosed(t,e)},getActiveChats:function(t){var e=this;if(Realtime.debug("active","getActiveChats called",this.active),this._actives)return t(null,this._actives);this.active||(this.active=!0,this.realtime.features["orgspan:activeChats"]=!0,this._sendRequest()),Realtime.debug("active","waiting for _actives"),this.once("actives",function(){Realtime.debug("active","returning _actives",e._actives),t(null,e._actives)})}},p.stanzas={subscribeOrUpdateResult:function(t){return t.is("iq")&&"result"===t.attrs.type&&["activeChatsSet","activeChatsSub"].includes(t.attrs.id)},activeChatsResult:function(t){return t.is("iq")&&"result"===t.attrs.type&&t.getChildByAttr("node","orgspan:activeChats",null,!0)&&"activeChatsSub"!==t.attrs.id},activeMessage:function(t){var e=t.getChild("event","http://jabber.org/protocol/pubsub#event");return e&&(e=e.getChild("items")),t.is("message")&&"orgspan:activeChats"===l.get(e,"attrs.node",null)}},e.exports=p},{"../../../../../lib/Jid":20,"./framework/Controller":17,bluebird:55,lodash:468,ltx:470}],2:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){if(!t.is("iq")||"result"!==t.attrs.type)return!1;var e=t.getChild("pubsub","http://jabber.org/protocol/pubsub");return!!e&&((e=e.getChild("subscription"))&&"subscribed"===e.attrs.subscription&&e.attrs.jid===l&&e.attrs.node===f)}function a(t){if(!t.is("message")||t.attrs.from!==l)return!1;var e=t.getChild("event","http://jabber.org/protocol/pubsub#event");return!!e&&(e=e.getChild("items"),p.get(e,"attrs.node",null)===f)}var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t("./framework/Controller"),l="pubsub.inin.com",f="purecloud:carrierpigeon",p=t("lodash"),h=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),c(e,[{key:"handleSubscriptionConfirmation",value:function(t){return this.emit("carrierPigeonSubscribed")}},{key:"handleMessage",value:function(t){var e=this,n=t.getChild("event","http://jabber.org/protocol/pubsub#event");return n&&(n=n.getChild("items")),n.getChildren("item").forEach(function(t){var n=t.text(),r=void 0;try{r=JSON.parse(n)}catch(t){return void console.error("Failed to parse carrier pigeon message",n,t)}e.emit("carrierPigeonMessage",r)})}},{key:"_processEventItem",value:function(t){var e=void 0,n=t.text();try{e=JSON.parse(n)}catch(t){return void console.error("Failed to parse carrier pigeon message",n,t)}return this.emit("carrierPigeonMessage",e)}}]),e}(u);h.exposeEvents=["carrierPigeonMessage","carrierPigeonSubscribed"],h.stanzas={handleSubscriptionConfirmation:s,handleMessage:a},e.exports=h},{"./framework/Controller":17,lodash:468}],3:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./framework/Controller"),c=t("../../../../../lib/uuid"),u=t("ltx"),l=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"shouldFailResult",value:function(t){return this.emit("willFail:"+t.attr("id"))}},{key:"shouldFailError",value:function(t){return this.emit("willFail:"+t.attr("id"),this.createErrorFromStanza(t))}}]),e}(a);l.stanzas={shouldFailResult:function(t){return t.is("iq")&&"result"===t.attr("type")&&t.getChild("shouldFail")},shouldFailError:function(t){return t.is("iq")&&"error"===t.attr("type")&&t.getChild("shouldFail")}},l.expose={_setShouldFail:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=c.generate(),r=new u.Element("iq",{from:this.server.jid.toString(),type:"set",id:n});r.c("shouldFail"),this.server.send(r);var i=setTimeout(function(){t.removeListener("willFail:"+n,e);var r=new Error("Request timed out");return e(r)},1e4);this.once("willFail:"+n,function(){clearTimeout(i),e()})}},e.exports=l},{"../../../../../lib/uuid":24,"./framework/Controller":17,ltx:470}],4:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./framework/Controller"),c=t("../../../../../lib/uuid"),u=t("jingle-stanza"),l=t("lodash"),f=t("ltx"),p=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.server.on("disconnect",function(){t.server.discovered=!1}),t}return o(e,t),s(e,[{key:"discovery",value:function(t){var e=this;Realtime.debug("disco","discovery",t,l.invoke(this,"server.jid.toString")),this.createResult(t);var n=t.getChild("query");Object.keys(this.realtime.features).forEach(function(t){e.realtime.features[t]&&n.c("feature",{var:t})}),this.server.discovered=!0,this.server.send(t)}},{key:"serviceDiscovery",value:function(t){this.emit("serviceDiscoveryResult:"+t.attrs.id,null,u.getData(t).toJSON().services.services)}},{key:"set",value:function(t){}}]),e}(a);p.stanzas={discovery:function(t){var e=t.getChild("query")?t.getChild("query").toString():"";return t.is("iq")&&"get"===t.attrs.type&&e.match(/(disco#info|disco#items)/)},set:function(t){return t.is("iq")&&"set"===t.attrs.type},serviceDiscovery:function(t){return t.is("iq")&&t.getChild("services","urn:xmpp:extdisco:1")&&["set","result"].includes(t.attrs.type)}},p.expose={requestExternalServices:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t&&"function"==typeof t&&(e=t,t=null);var n=new f.Element("iq",{id:c.generate(),type:"get",to:this.server.jid.domain}),r=n.c("services",{xmlns:"urn:xmpp:extdisco:1"});t&&(r.attrs.type=t),this.once("serviceDiscoveryResult:"+n.attrs.id,e),this.server.send(n)}},e.exports=p},{"../../../../../lib/uuid":24,"./framework/Controller":17,"jingle-stanza":432,lodash:468,ltx:470}],5:[function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./framework/Controller"),c=t("../../../../../lib/uuid"),u=t("lodash"),l=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.pendingRetryTids={},t.server.on("disconnect",function(){return t.onDisconnect()}),t}return o(e,t),s(e,[{key:"_retryStanza",value:function(t){var e=this,n=c.generate();this.pendingRetryTids[n]=setTimeout(function(){if(e.realtime.connected){delete t.attrs.mark,delete t.attrs["xmlns:stream"],t.attrs.type=t.attrs.originalType,delete t.attrs.originalType;var r=t.attrs.to;t.attrs.to=t.attrs.from,t.attrs.from=r,t.remove("error"),e.server.send(t),delete e.pendingRetryTids[n]}},this.RETRY_DELAY)}},{key:"resourceConstraintError",value:function(t){var e=t.getChild("error");if(this.realtime._logger.warn("resourceConstraintError",{stanzaId:t.attrs.id},e),429===parseInt(e.attrs.code,10))return this._retryStanza(t)}},{key:"policyViolationError",value:function(t){this.realtime._logger.warn("policyViolationError",{stanzaId:t.attrs.id});var e=t.getChild("error");e&&(e=u.get(e,"attrs.type",null));var n=t.getChild("error")?t.getChild("error").getChild("text"):null;if(n&&(n=n.text()),"wait"===e&&/discovery reply is needed/.test(n))return this._retryStanza(t)}},{key:"onDisconnect",value:function(){var t=this;Object.keys(this.pendingRetryTids).forEach(function(e){var n=t.pendingRetryTids[e];clearTimeout(n)}),this.pendingRetryTids={}}}]),e}(a);l.prototype.RETRY_DELAY=5e3,l.exposeEvents=[],l.expose={},l.stanzas={},e.exports=l},{"../../../../../lib/uuid":24,"./framework/Controller":17,lodash:468}],6:[function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("ltx"),c=t("lodash"),u=t("./framework/Controller"),l=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.server.on("connect",function(){t.active&&t._sendSetup()}),t.server.on("disconnect",function(){t._setupSent=!1}),t.server.once("connect",function(){t.active&&t._focus()}),t.blurTimeout=3e5,t.setupWindowEvents(),t}return o(e,t),s(e,[{key:"setupWindowEvents",value:function(){var t=this;if(!this.realtime.options.guest){var e=null;this.focusEventHandler=function(){if(t.active)return Realtime.debug("focus","orgspan:focus","focused",t._focused),clearTimeout(e),t._focus()},this.blurEventHandler=function(){t.active&&(Realtime.debug("focus","orgspan:focus","blur"),e=setTimeout(function(){t._blur()},t.blurTimeout))},window&&(window.addEventListener("focus",this.focusEventHandler),window.addEventListener("blur",this.blurEventHandler))}}},{key:"removeWindowEvents",value:function(){var t=this.realtime.options.guest;window&&!t&&(window.removeEventListener("focus",this.focusEventHandler),window.removeEventListener("blur",this.blurEventHandler))}},{key:"ignoredResult",value:function(){}},{key:"focusResult",value:function(t){var e=this,n=t.getChildByAttr("node","orgspan:focus",null,!0);return Realtime.debug("focus","got focus result",n),n.getChildren("item").map(function(t){var n=t.attrs.focus;return e._focused=n===e.server.jid.resource,e._focused})}},{key:"focusMessage",value:function(t){var e=this;Realtime.debug("focus","focusMessage",t);var n=t.getChild("event","http://jabber.org/protocol/pubsub#event");n&&(n=n.getChild("items")),n.children.forEach(function(t){if(["item","retract"].includes(t.name)){var n=t.getChild("focus","orgspan:focus");if(n&&(n=n.text()),Realtime.debug("focus","focused resource is",n),t.is("item")){n===e.server.jid.resource&&(e._focused=!0);var r=t.getChild("focus","orgspan:focusV2");r&&r.getChildren("item").forEach(function(t){e.emit("chatFocus",{jid:t.attrs.id})})}else e._focused=!1}}),Realtime.debug("focus","am i focused?",this._focused)}},{key:"_focus",value:function(){if(Realtime.debug("focus","focusing?",!0!==this._focused,{active:this.active}),!this.realtime.connected)return void Realtime.debug("focus","failed to focus, realtime not connected");for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!0!==this._focused||e.length){this._sendSetup();var r=new a.Element("iq",{type:"set",to:"pubsub."+this.server.jid.domain,from:this.server.jid.toString(),id:"focusSet"}),i=r.c("pubsub",{xmlns:"http://jabber.org/protocol/pubsub"}).c("publish",{node:"orgspan:focus"}).c("item",{id:this.server.jid.bare().toString()});if(i.c("focus",{xmlns:"orgspan:focus"}).t(this.server.jid.resource),e.length){var o=i.c("focus",{xmlns:"orgspan:focusV2"});e.forEach(function(t){o.c("item",{id:t})})}this.server.send(r)}}},{key:"_blur",value:function(){if(Realtime.debug("focus","blurring?",!1!==this._focused,{active:this.active}),!this.realtime.connected)return void Realtime.debug("focus","failed to blur, realtime not connected");if(!1!==this._focused){this._sendSetup();var t=new a.Element("iq",{type:"set",to:"pubsub."+this.server.jid.domain,from:this.server.jid.toString(),id:"focusUnset"});t.c("pubsub",{xmlns:"http://jabber.org/protocol/pubsub"}).c("retract",{node:"orgspan:focus"}).c("item",{id:this.server.jid.bare().toString()}),this.server.send(t)}}},{key:"_sendSetup",value:function(){if(!this._setupSent&&(this.active=!0,this._setupSent=!0,!this.realtime.features["orgspan:focus"]||this.server.discovered)){Realtime.debug("focus","sending focus request");var t=new a.Element("iq",{type:"set",from:this.server.jid.toString(),to:"pubsub."+this.server.jid.domain,id:"focusSub"});t.c("pubsub",{xmlns:"http://jabber.org/protocol/pubsub"}).c("subscribe",{node:"orgspan:focus",jid:this.server.jid.toString()}),this.server.send(t),t=new a.Element("iq",{from:this.server.jid.toString(),type:"get"}),t.c("pubsub",{xmlns:"http://jabber.org/protocol/pubsub"}).c("items",{node:"orgspan:focus"}),this.server.send(t)}}}]),e}(u);l.exposeEvents=["chatFocus"],l.expose={takeFocus:function(){return this._focus()},releaseFocus:function(){return this._blur()},setFocused:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Realtime.debug("focus","setFocused",e),this._focus(e)}},l.stanzas={ignoredResult:function(t){return t.is("iq")&&"result"===t.attrs.type&&["focusSet","focusSub","focusUnset"].includes(t.attrs.id)},focusResult:function(t){return t.is("iq")&&"result"===t.attrs.type&&t.getChildByAttr("node","orgspan:focus",null,!0)&&"focusSub"!==t.attrs.id},focusMessage:function(t){var e=t.getChild("event","http://jabber.org/protocol/pubsub#event");return e&&(e=e.getChild("items")),t.is("message")&&"orgspan:focus"===c.get(e,"attrs.node","")}},e.exports=l},{"./framework/Controller":17,lodash:468,ltx:470}],7:[function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("ltx"),c=t("lodash"),u=t("./framework/Controller"),l=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.server.on("disconnect",function(){t.groups=null}),t.server.on("connect",function(){t.active&&t.realtime.options.fetchGroupsOnConnect&&t._sendRequest()}),t}return o(e,t),s(e,[{key:"ignoredResult",value:function(){}},{key:"groupsResult",value:function(t){var e=this;this.groups={},Realtime.debug("group","groupsResult",t),t.getChildByAttr("node","orgspan:groups",null,!0).getChildren("item").forEach(function(t){t=t.getChild("group");var n=t.attrs,r=n.name,i=n.jid;e.groups[i]=t.attrs,t.attrs.autojoin&&!e.realtime.features["orgspan:rooms"]&&e.realtime.joinRoom(i),e.emit("rosterItem",{name:r,jid:i,section:"groups",type:"room",event:"add"})}),this.emit("groups")}},{key:"groupMessage",value:function(t){var e=this;return Realtime.debug("group","groupsMessage",t),t.getChildByAttr("node","orgspan:groups",null,!0).children.forEach(function(t){if(["item","retract"].includes(t.name))if("item"===t.name){var n=t.getChild("group"),r=n.attrs,i=r.name,o=r.jid;e.groups[o]={name:i,jid:o},e.realtime.features["orgspan:rooms"]||e.realtime.joinRoom(o),e.emit("rosterItem",{name:i,jid:o,section:"groups",type:"room",event:"add"})}else{Realtime.debug("group","removing group",t.attrs.id);var s=t.attrs.id+"@conference."+e.server.jid.domain,a=e.groups[s];if(!a)return;delete e.groups[s],e.emit("rosterItem",{name:a,jid:s,section:"groups",type:"room",event:"remove"})}}),this.emit("groups")}},{key:"_sendRequest",value:function(){var t=this;if(!this.realtime.connected)return this.server.once("connected",function(){return t._sendRequest()});if(!this.realtime.features["orgspan:groups"]||this.server.discovered){Realtime.debug("group","sending group subscription");var e=new a.Element("iq",{type:"set",from:this.server.jid.toString(),to:"pubsub."+this.server.jid.domain,id:"groupSub"});return e.c("pubsub",{xmlns:"http://jabber.org/protocol/pubsub"}).c("subscribe",{node:"orgspan:groups",jid:this.server.jid.toString()}),this.server.send(e),Realtime.debug("group","sending group request"),e=new a.Element("iq",{from:this.server.jid.toString(),type:"get"}),e.c("pubsub",{xmlns:"http://jabber.org/protocol/pubsub"}).c("items",{node:"orgspan:groups"}),this.server.send(e)}}}]),e}(u);l.exposeEvents=["rosterItem"],l.expose={getGroups:function(t){var e=this;if(Realtime.debug("groups","getGroups called"),this.groups)return t(null,this.groups);this.active?(Realtime.debug("groups","waiting for groups"),this.once("groups",function(){Realtime.debug("groups","returning groups",e.groups),t(null,e.groups)})):(this.active=!0,this._sendRequest())}},l.stanzas={ignoredResult:function(t){return t.is("iq")&&"result"===t.attrs.type&&["focusSet","focusSub"].includes(t.attrs.id)},groupsResult:function(t){return t.is("iq")&&t.getChildByAttr("node","orgspan:groups",null,!0)&&"result"===t.attrs.type},groupMessage:function(t){var e=t.getChild("event","http://jabber.org/protocol/pubsub#event");return e&&(e=e.getChild("items")),t.is("message")&&"orgspan:groups"===c.get(e,"x.attrs.node","")}},e.exports=l},{"./framework/Controller":17,lodash:468,ltx:470}],8:[function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./framework/Controller"),c=t("ltx"),u=t("lodash"),l=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"sendLogs",value:function(t,e){var n=new c.Element("message");return n.attrs.to=this.server.jid.domain,n.attrs.type="normal",e&&n.c("request","urn:xmpp:receipts"),u.forEach(t,function(t){var e=n.c("log","urn:xmpp:eventlog"),r=t.opts,i=r.type,o=r.facility,s=r.level,a=r.object,c=r.subject,l=r.id;if(e.attrs={type:i,facility:o,level:s,object:a,subject:c,id:l,xmlns:e.attrs.xmlns},t.message){e.c("message").t(t.message)}return u.forIn(t.tags,function(t,n){var r=u.isString(t)?t:encodeURIComponent(JSON.stringify(t));return e.c("tag",{name:n,value:r})})}),this.server.send(n,e)}}]),e}(a);l.expose={sendLogs:function(t,e){return this.sendLogs(t,e)},sendLog:function(t,e){var n=t.opts,r=t.message,i=t.tags;return this.sendLogs([{opts:n,message:r,tags:i}],e)}},e.exports=l},{"./framework/Controller":17,lodash:468,ltx:470}],9:[function(t,e,n){function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return t.getChildren("attachment","orgspan:attachment").map(function(t){return r({},t.attrs.id,t.text())})}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=t("ltx"),p=t("../../../../../lib/uuid"),h=t("../../../../../lib/formatter"),d=t("lodash"),g=t("../../../../server/lib/asyncUtils"),m=g.createTimeoutFn,v=t("node-xmpp-core"),y=t("./framework/Controller"),_=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t._pending={},t._sendMessageWarnTimeout=2e3,t}return s(e,t),l(e,[{key:"handleChatHistory",value:function(t){Realtime.debug("recent",t);var e=t.getChild("chats");e=e?t.getChild("chat")||[]:[];var n=e.map(function(t){var e={with:t.attrs.with,type:t.attrs.type,id:t.attrs.id,time:new Date(t.attrs.utc),
subject:t.attrs.subject,participants:[],unread:t.attrs.unread||!1};return t.getChildren("participants").forEach(function(t){e.participants.push(t.text())}),e});return this.emit("history:"+t.attrs.id,null,n)}},{key:"handleChatHistoryError",value:function(t){return Realtime.debug("chat history error",t),this.emit("history:"+t.attrs.id,y.createErrorFromStanza(t))}},{key:"handleMessageWithBody",value:function(t){var e=void 0,n=void 0,r=void 0,i=void 0,o=void 0;Realtime.debug("message","message",t);var s=t.attrs.type;"chat"===s?(e=new v.JID(t.attrs.from).bare().toString(),o=new v.JID(t.attrs.to).bare().toString()):"groupchat"===s&&(e=new v.JID(t.attrs.ofrom).bare().toString(),o=new v.JID(t.attrs.from).bare().toString());var c=t.getChild("type")?t.getChild("type").text():null,l=t.getChild("replace","urn:xmpp:message-correct:0");l&&(l=l.attrs.id);var f=t.getChild("body");if(f){f.text().match(/^\?OTR/)&&o.resource&&(t.attrs.from=this.server.jid,t.attrs.to=t.attrs.from,f.text("?OTR The Recipient cannot handle OTR messages."),t.attrs.type="error",this.server.send(t)),i=f.text();var p=h.formatBody(i),d=u(p,2);f=d[0],r=d[1]}var g=e===this.server.jid.bare().toString()&&t.attrs.oid?t.attrs.oid:t.attrs.id;n=this.realtime.options.rawMessageIds?t.attrs.id:g,t.attrs.utc||Realtime.debug("message","message without timestamp",t);var m={id:n,from:e,to:o,body:f,links:r,files:a(t),time:new Date(t.attrs.utc||Date.now()),type:c,raw:i,stanza:t,corrects:l||void 0};return this.realtime.options.rawMessageIds&&(m.oid=t.attrs.oid),this._pending[t.attrs.oid]?(delete this._pending[t.attrs.oid],void this.emit("carbon:"+t.attrs.oid,null,m)):(Realtime.debug("message","emit",m),this.emit("message",m))}},{key:"handleMessageWithoutBody",value:function(t){var e=void 0,n=void 0;Realtime.debug("message","message",t);var r=t.attrs.type;"chat"===r?(e=new v.JID(t.attrs.from).bare().toString(),n=new v.JID(t.attrs.to).bare().toString()):"groupchat"===r&&(e=new v.JID(t.attrs.ofrom).bare().toString(),n=new v.JID(t.attrs.from).bare().toString());var i=t.getChild("type")?t.getChild("type").text():null;t.attrs.utc||Realtime.debug("message","message without timestamp",t);var o=t.attrs.id,s={id:o,from:e,to:n,files:a(t),time:new Date(t.attrs.utc||Date.now()),type:i,stanza:t};return this.realtime.options.rawMessageIds&&(s.oid=t.attrs.oid),this._pending[t.attrs.oid]?(delete this._pending[t.attrs.oid],void this.emit("carbon:"+t.attrs.oid,null,s)):(Realtime.debug("message","emit",s),this.emit("messageWithoutBody",s))}},{key:"handleMessageError",value:function(t){if(this._pending[t.attrs.oid])return delete this._pending[t.attrs.oid],this.emit("carbon:"+t.attrs.oid,y.createErrorFromStanza(t))}},{key:"handleChatstate",value:function(t){var e=void 0,n=void 0,r=t.getChildByAttr("xmlns","http://jabber.org/protocol/chatstates");if(Realtime.debug("chatstate","received",t.attrs.from,r.name),t.attrs.from!==this.server.jid.bare().toString())return t.attrs.from.match(/@conference/)?(e=t.attrs.ofrom,n=t.attrs.from.split("/")[0]):e=t.attrs.from,this.emit("chatState",{from:e,room:n,state:r.name})}},{key:"handleMessageHistory",value:function(t){var e=void 0,n=t.getChild("messages");if(Realtime.debug("archive","historyResult",t.attrs.id),!n)return void this.emit("history:"+t.attrs.id,null,{});var r={},i=this.server.jid.bare().toString(),o=!0,s=!1,c=void 0;try{for(var l,f=n.children[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var p=l.value,d=void 0;Realtime.debug("archive","child",p),p.attrs.utc||Realtime.debug("message","message without timestamp",p);var g=p.attrs.from===i&&p.attrs.oid?p.attrs.oid:p.attrs.id;e=this.realtime.options.rawMessageIds?p.attrs.id:g;var m=h.formatBody(d=p.getChild("body").text()),v=u(m,2),y=v[0],_=v[1],b=p.getChild("replace","urn:xmpp:message-correct:0");b&&(b=b.attrs.id);var w={id:e,from:p.attrs.from,to:p.attrs.to,body:y,raw:d,links:_,files:a(p),time:new Date(p.attrs.utc),stanza:p,corrects:b||void 0};r[e]=w}}catch(t){s=!0,c=t}finally{try{!o&&f.return&&f.return()}finally{if(s)throw c}}return this.emit("history:"+t.attrs.id,null,r)}},{key:"handleMessageHistoryError",value:function(t){return Realtime.debug("archive","historyResult error",t.attrs.id),this.emit("history:"+t.attrs.id,y.createErrorFromStanza(t))}}]),e}(y);_.exposeEvents=["message","messageWithoutBody","chatState"],_.expose={_clearMessages:function(t){},sendChatState:function(t,e){if(e.match(/@/)){var n=[e,t];t=n[0],e=n[1]}Realtime.debug("chatstates","sending",e,t);var r=new f.Element("message",{to:t,from:this.server.jid,type:t.match(/@conference/)?"groupchat":"chat"});return r.c(e,{xmlns:"http://jabber.org/protocol/chatstates"}),this.server.send(r)},sendMessage:function(t,e,n){var r=this,i=void 0,o=void 0,s=void 0,a=void 0,l=void 0,d=void 0;if(t.constructor!==v.JID&&(d=arguments[0])&&"object"===(void 0===d?"undefined":c(d))){n=arguments[1];var g=d;t=g.to,e=g.body,i=g.children,o=g.corrects,l=g.oid}if(n||(n=function(t){if(t)throw t}),n=m(n,function(){return r.realtime._logger.warn("Realtime MessageController: sendMessage took too long ("+r._sendMessageWarnTimeout+"ms)")},this._sendMessageWarnTimeout),!(e?e.trim().length:void 0)&&!o&&!i)return void n(new Error("no body, corrects, or children supplied"));if(!(t?t.toString().match(/@/):void 0))return n(new Error("to must be a full jid"));Realtime.debug("message","sending",t,e),l||(l=p.generate());var y=t.match(/@conference/)?"groupchat":"chat",_=new f.Element("message",{to:t,from:this.server.jid,type:y,oid:l});if(e||""===e){_.c("body").t(e);var b=h.formatBody(e),w=u(b,2);s=w[0],a=w[1]}if(_.c("active",{xmlns:"http://jabber.org/protocol/chatstates"}),o&&_.c("replace",{xmlns:"urn:xmpp:message-correct:0",id:o}),i&&i.length){var x=!0,S=!1,j=void 0;try{for(var E,k=i[Symbol.iterator]();!(x=(E=k.next()).done);x=!0){var C=E.value,T=_.c(C.name);C.attributes&&(T.attrs=C.attributes),C.contents&&T.t(C.contents)}}catch(t){S=!0,j=t}finally{try{!x&&k.return&&k.return()}finally{if(S)throw j}}}var O={id:l,from:this.server.jid.bare().toString(),to:t,body:s,links:a,time:new Date,raw:e,pending:!0,stanza:_,corrects:o};return this.realtime.options.rawMessageIds&&(O.id=null,O.oid=l),this.emit("message",O),this._pending[l]=!0,this.server.send(_),this.realtime._controllers.activeChatController.active&&this.realtime.takeFocus(),this.once("carbon:"+l,function(t,e){return delete O.pending,t?(O.err=t,n(t,O)):r.realtime.options.rawMessageIds?n(null,e):n(null,O)}),l},getMessages:function(t,e){if(!e)throw new Error("missing callback");"string"==typeof t&&(t={jid:t});var n=t,r=n.jid,i=n.before,o=n.after;if(i&&(i instanceof Date||(i=new Date(i)),isNaN(i.getTime())))return e(new Error("invalid date"));if(o&&(o instanceof Date||(o=new Date(o)),isNaN(o.getTime())))return e(new Error("invalid date"));if(!r)return e(new Error("missing jid"));var s=function(t,n){return n=n&&d.chain(n).values().sortBy(function(t){return t.time}).value(),e(t,n)},a=new f.Element("iq",{type:"get",id:p.generate(),from:this.server.jid.toString()}),c=a.c("messages",{xmlns:"orgspan:history",with:r,limit:t.limit||100});return i&&(c.attrs.end=i.toISOString()),o&&(c.attrs.start=o.toISOString()),"undefined"!=typeof navigator&&d.get(navigator,"userAgent","").match(/MSIE 8.0/)&&(c.attrs.limit=10),this.server.send(a),this.once("history:"+a.attrs.id,s)},getRecents:function(t,e){Realtime.debug("recent","getRecents",t,e),"function"==typeof t&&(e=t,t={});var n=new f.Element("iq",{type:"get",id:p.generate(),from:this.server.jid.toString()}),r=n.c("chats",{xmlns:"orgspan:history",end:(new Date).toISOString()});return t.jid&&(r.attrs.with=t.jid),t.before&&(r.attrs.end=t.before),t.after&&(r.attrs.start=t.after),r.attrs.limit=t.limit||20,this.server.send(n),this.once("history:"+n.attrs.id,function(t,n){return n=n&&d.chain(n).values().sortBy(function(t){return t.time}).value(),e(t,n)})}},_.stanzas={handleChatstate:function(t){return t.is("message")&&t.getChildByAttr("xmlns","http://jabber.org/protocol/chatstates",null,!0)&&"error"!==t.attrs.type},handleMessageWithBody:function(t){return!d.get(t.getChild("x","jabber:x:conference"),"x.attrs.jid",null)&&t.is("message")&&t.getChild("body")&&"error"!==t.attrs.type},handleMessageWithoutBody:function(t){return!d.get(t.getChild("x","jabber:x:conference"),"x.attrs.jid",null)&&t.is("message")&&!t.getChild("body")&&!t.getChild("subject")&&["chat","groupchat"].includes(t.attrs.type)&&"error"!==t.attrs.type},handleMessageError:function(t){return!d.get(t.getChild("x","jabber:x:conference"),"x.attrs.jid",null)&&t.is("message")&&"error"===t.attrs.type},handleMessageHistory:function(t){return t.is("iq")&&"error"!==t.attrs.type&&t.getChild("messages","orgspan:history")},handleMessageHistoryError:function(t){return t.is("iq")&&"error"===t.attrs.type&&t.getChild("messages","orgspan:history")},handleChatHistory:function(t){return t.is("iq")&&"error"!==t.attrs.type&&t.getChild("chats","orgspan:history")},handleChatHistoryError:function(t){return t.is("iq")&&"error"===t.attrs.type&&t.getChild("chats","orgspan:history")}},e.exports=_},{"../../../../../lib/formatter":21,"../../../../../lib/uuid":24,"../../../../server/lib/asyncUtils":19,"./framework/Controller":17,lodash:468,ltx:470,"node-xmpp-core":487}],10:[function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./framework/Controller"),c=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"ping",value:function(t){this.createResult(t),this.server.send(t)}}]),e}(a);c.stanzas={ping:function(t){return t.is("iq")&&"get"===t.attrs.type&&t.getChild("ping","urn:xmpp:ping")}},e.exports=c},{"./framework/Controller":17}],11:[function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n){var r=b.SELF_SUBSCRIBE_RETRY_OPTIONS.retries,i=m.operation(b.SELF_SUBSCRIBE_RETRY_OPTIONS),o=!1,s=setTimeout(function(){if(!o)return o=!0,n(new Error("Self subscription retries failed for more than "+b.SELF_SUBSCRIBE_MAX_TIME+" ms"))},b.SELF_SUBSCRIBE_MAX_TIME);return i.attempt(function(c){return a(t,e,function(t){if(t&&e.warn("Subscribing to self-presence failed on attempt "+(c+1)+" of "+(r+1),t),!i.retry(t)&&!o)return o=!0,clearTimeout(s),t?n(i.mainError()):n()})})}function a(t,e,n){var r="mepresence-"+d.generate(),i=new l.Element("presence",{id:r,from:t.jid.toString(),to:t.jid.bare().toString(),type:"subscribe"});return t.send(i,n)}var c=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=t("ltx"),f=t("../../../../../lib/Jid"),p=t("node-xmpp-core"),h=t("lodash"),d=t("../../../../../lib/uuid"),g=t("../../../../../lib/presenceUtils"),m=t("retry"),v=t("semaphore"),y=t("interval-buffer"),_=t("./framework/Controller"),b=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.extraSubscriptions=[],t.requestSubscriptionBuffer=new y({interval:10,maxSize:50},function(e){if(t.server.jid)return t._requestBulkSubscriptions(e)}),t.server.on("connect",function(){if(t._presences={},t._waitingOnReplies={},t._sendPresenceCallbacks={},t.active){t.server.presence=null,t.server.organizationPresenceId=null,t.server.status="",t.server.location="",t.server.receivedInitialPresence=!1,t.server.initialPresenceLock=new v(1),t.server.initialPresenceLock.take(function(){});var e=t.realtime._logger;s(t.server,e,function(n){if(n)return e.warn("Subscribing to self-presence failed on every retry. The connection will be dropped and reconnected",n),t.realtime.reconnect()}),t.extraSubscriptions.map(function(e){return t._requestSubscription(e)})}}),t}return o(e,t),u(e,[{key:"ignore",value:function(){}},{key:"onPresenceError",value:function(t){this._removeWaitingReply(t.attrs.id);var e=this._sendPresenceCallbacks[t.attrs.id];if(e){var n=_.createErrorFromStanza(t);return Realtime.debug("presence","Send presence failed: "+n.code+" - "+n.message),delete this._sendPresenceCallbacks[t.attrs.id],e(n)}}},{key:"onMePresence",value:function(t){if(!["subscribed","unsubscribed"].includes(t.attrs.type)){if(!this.server.receivedInitialPresence)if(f.isValidJid(t.attrs.from)){var e=new p.JID(t.attrs.from);e.bare().equals(this.server.jid.bare())&&(this.server.receivedInitialPresence=!0,this.server.initialPresenceLock.leave())}else Realtime._logger.warn("Invalid from attribute in stanza",t);var n=this._sendPresenceCallbacks[t.attrs.id];return n&&(n(),delete this._sendPresenceCallbacks[t.attrs.id]),this._postReplyReact=this._reactToStanza.bind(this,t),this._removeWaitingReply(t.attrs.id)}}},{key:"_removeWaitingReply",value:function(t){if(h.has(this._waitingOnReplies,t)){var e=this._waitingOnReplies[t];e&&clearTimeout(e),delete this._waitingOnReplies[t]}if(0===h.size(this._waitingOnReplies)&&this._postReplyReact){var n=this._postReplyReact;return this._postReplyReact=null,n()}}},{key:"_reactToStanza",value:function(t){var e=void 0;if(this.realtime.connected){var n=this._translatePresence(t),r=c(n,4),i=r[0],o=r[1],s=r[2],a=r[3];Realtime.debug("presence","onMePresence",i,o,t);return(i!==this.server.presence||a!==this.server.organizationPresenceId)&&["online","busy","away"].includes(i)&&(this._beforeIdlePresence?(this._beforeIdlePresence=i,this._beforeIdleOrgPresenceId=a):(this.server.presence=i,this.server.organizationPresenceId=a,e=!0)),this.server.presence||(this.server.presence="online",this.server.organizationPresenceId=g.PRESENCE_TO_PRESENCE_ID.online,e=!0),o!==this.server.status&&(this.server.status=o,e=!0),"mobile"===s?(this.server.location="",e=!0):s!==this.server.location&&(this.server.location=s,e=!0),e?(Realtime.debug("presence","me presence changed",this.server.presence,this.server.status),this._sendPresence(this.server.presence,this.server.status,this.server.jid,this.server.location,this.server.organizationPresenceId)):void 0}}},{key:"onPresence",value:function(t){if(Realtime.debug("presence",t.attrs.from,t.attrs.type),!["subscribed","unsubscribed"].includes(t.attrs.type)){var e=this._translatePresence(t),n=c(e,4),r=n[0],i=n[1],o=n[2],s=n[3],a={from:t.attrs.from,presence:r,status:i,location:o,organizationPresenceId:s};return this._presences[t.attrs.from]=a,this.emit("presence",a)}}},{key:"onSubscribe",value:function(t){return Realtime.debug("presence","onSubscribe")}},{key:"onUnSubscribe",value:function(t){return Realtime.debug("presence","onUnSubscribe")}},{key:"_extractPresenceValue",value:function(t){var e=this._translatePresence(t);return c(e,1)[0]}},{key:"_translatePresence",value:function(t){var e=t.getChild("show")?t.getChild("show").text():"online";"unavailable"===t.attrs.type&&(e="offline");var n=t.getChild("status")?t.getChild("status").text():"",r=t.getChild("location")?t.getChild("location").text():"",i=g.convertXMPPShowToDirectoryPresence(e),o=t.getChild("organizationPresenceId","urn:inin:purecloud:presence"),s=void 0;return s=o?o.text():g.PRESENCE_TO_PRESENCE_ID[e],[i,n,r,s]}},{key:"_sendPresence",value:function(t,e,n,r,i){var o=this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};return this.server.initialPresenceLock.take(function(){var a=void 0;if(o.server.initialPresenceLock.leave(),s=h.once(s),!o.realtime.connected)return a=new Error("not connected to the realtime service"),a.code=400,void s(a);Realtime.debug("presence","controller sending",t,e);var c=g.convertDirectoryPresenceToXMPPShow(t),u=new l.Element("presence",{from:n.toString(),"xml:lang":"en"});return c&&("offline"===c?u.attrs.type="unavailable":"online"!==c&&u.c("show").t(c)),u.c("status").t(e),(r||""===r)&&u.c("location").t(r),i&&(u.attrs["xmlns:pc"]="urn:inin:purecloud:presence",u.c("pc:organizationPresenceId").t(i)),u.attrs.id=d.generate(),o._waitingOnReplies[u.attrs.id]=setTimeout(function(){return o._removeWaitingReply(u.attrs.id),a=new Error("status update timed out"),a.code=500,s(a),delete o._sendPresenceCallbacks[u.attrs.id]},5e3),o._sendPresenceCallbacks[u.attrs.id]=s,o.server.send(u,function(n,s){if(n){var a="Presence change request failed. Stanza: "+s.toString();return o.realtime._logger.warn(a,n)}return o.server.presence=t||o._extractPresenceValue(s),o.server.status=e,o.server.location=r,o.server.organizationPresenceId=i,o._emitSelfPresence()})})}},{key:"_emitSelfPresence",value:function(){var t=this.server,e=t.presence,n=t.status,r=t.location,i=t.organizationPresenceId;this.emit("presence",{from:this.server.jid.bare().toString(),presence:e,status:n,location:r,organizationPresenceId:i})}},{key:"_getOrSubscribeToPresence",value:function(t){var e=this;if(t&&this.active&&!t.match(/@conference/)){Realtime.debug("presence","presence requested for",t);var n=this.server.jid?this.server.jid.bare().toString():"";return t===n?(Realtime.debug("presence","self presence requested"),void(this.server.presence&&this._emitSelfPresence())):this._presences[t]?this.emit("presence",h.extend(this._presences[t],{from:t})):this.realtime.getRoster(function(n,r){return n?"undefined"!=typeof console&&null!==console?console.error(n):void 0:r[t]?void 0:(h.indexOf(e.extraSubscriptions,t)<0&&e.extraSubscriptions.push(t),e._requestSubscription(t))})}}},{key:"_requestSubscription",value:function(t){return this.requestSubscriptionBuffer.push(t)}},{key:"_requestBulkSubscriptions",value:function(t){var e=new l.Element("presence",{type:"bulk-subscribe",from:this.server.jid.toString()});return h.uniq(t).forEach(function(t){e.c("subscribe",{to:t})}),this.server.send(e)}}]),e}(_);b.SELF_SUBSCRIBE_MAX_TIME=3e4,b.exposeEvents=["presence"],b.stanzas={onMePresence:function(t){var e=this.server.jid?this.server.jid.bare().toString():"";return t.is("presence")&&t.attrs.from===e},onPresence:function(t){var e=this.server.jid?this.server.jid.bare().toString():"";return t.is("presence")&&t.attrs.from!==e&&[void 0,"unavailable"].includes(t.attrs.type)&&!t.attrs.from.match(/@conference/)},onPresenceError:function(t){var e=this.server.jid?this.server.jid.toString():"";return t.is("presence")&&"error"===t.attrs.type&&t.attrs.to===e},ignore:function(t){var e=this.server.jid?this.server.jid.bare().toString():"";return t.is("presence")&&t.attrs.from!==e&&["subscribed","unsubscribed"].includes(t.attrs.type)}},b.SELF_SUBSCRIBE_RETRY_OPTIONS={retries:3,factor:11.717,minTimeout:200},b.expose={setIdle:function(t,e){var n=this;if(t){if(!["chat","online"].includes(this.server.presence))return;return this._beforeIdlePresence=this.server.presence,this._beforeIdleOrgPresenceId=this.server.organizationPresenceId,e?this._sendPresence("idle",this.server.status,this.server.jid,this.server.location,g.PRESENCE_TO_PRESENCE_ID.xa,e):this._sendPresence("idle",this.server.status,this.server.jid,this.server.location,g.PRESENCE_TO_PRESENCE_ID.xa)}if(this._beforeIdlePresence){if(e)return this._sendPresence(this._beforeIdlePresence,this.server.status,this.server.jid,this.server.location,this._beforeIdleOrgPresenceId,function(t){return n._beforeIdlePresence=null,n._beforeIdleOrgPresenceId=null,e(t)});this._sendPresence(this._beforeIdlePresence,this.server.status,this.server.jid,this.server.location,this._beforeIdleOrgPresenceId),this._beforeIdlePresence=null,this._beforeIdleOrgPresenceId=null}},subscribeToPresence:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(e){t._getOrSubscribeToPresence(e)})},requestPresence:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(e){t._getOrSubscribeToPresence(e)})},unsubscribeFromPresence:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];Realtime.debug("presence","unsubscribeFromPresence",n);var i=this.server.jid.bare();n.forEach(function(e){if("string"==typeof e){if(!f.isValidJid(e))throw new Error("Invalid Jid "+e);e=new p.JID(e)}i.equals(e.bare())?Realtime.debug("presence","unable to unsubscribe from mepresence for self",e.toString()):(t.server.send(new l.Element("presence",{from:i,to:e,type:"unsubscribe"})),delete t._presences[e.toString()])})},setPresence:function(t){if(Realtime.debug("presence","setPresence",t,this.server.presence),"offline"===t)throw Error("Do not set your presence to offline, please use disconnect() instead.");if(!["online","away","busy"].includes(t))throw Error("invalid presence "+t);t!==this.server.presence&&(Realtime.debug("presence","lib setPresence",t),this._sendPresence(t,this.server.status,this.server.jid,this.server.location,g.PRESENCE_TO_PRESENCE_ID[g.convertDirectoryPresenceToXMPPShow(t)]))},setOrganizationPresenceId:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};Realtime.debug("presence","setOrganizationPresenceId",t,this.server.organizationPresenceId);var n=g.PRESENCE_ID_TO_PRESENCE[t],r=null;if(n){if("offline"===(r=g.convertXMPPShowToDirectoryPresence(n)))throw Error("Do not set your presence to offline, please use disconnect() instead.")}else Realtime.debug("The organization presence id "+t+" is not known without fetching from presence service");if(t===this.server.organizationPresenceId)return void e();Realtime.debug("presence","lib setOrganizationPresenceId",r,t),this._sendPresence(r,this.server.status,this.server.jid,this.server.location,t,e)},setStatus:function(t,e){if(t||(t=""),Realtime.debug("presence","setStatus",t,this.server.status),t===this.server.status)return"function"==typeof e?e(null):void 0;this._sendPresence(this.server.presence,t,this.server.jid,this.server.location,this.server.organizationPresenceId,e)},setLocation:function(t,e){if(t||(t=""),Realtime.debug("presence","setLocation",t,this.server.location),t===this.server.location)return"function"==typeof e?e(null):void 0;this._sendPresence(this.server.presence,this.server.status,this.server.jid,t,this.server.organizationPresenceId,e)}},e.exports=b},{"../../../../../lib/Jid":20,"../../../../../lib/presenceUtils":22,"../../../../../lib/uuid":24,"./framework/Controller":17,"interval-buffer":423,lodash:468,ltx:470,"node-xmpp-core":487,retry:510,semaphore:522}],12:[function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./framework/Controller"),c=t("ltx"),u=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"setReconnectId",value:function(t){var e=t.getChild("reconnectId","urn:realtime");this.realtime._reconnectId=e.text()}},{key:"handleRequestReconnect",value:function(){var t=this,e=setTimeout(this.realtime.reconnect,6e5),n=setTimeout(function(){clearTimeout(e),t.realtime.reconnect()},1e3);this.emit("requestReconnect",function(r){!0===r.pending&&clearTimeout(n),r.done&&(clearTimeout(n),clearTimeout(e),t.realtime.reconnect())})}},{key:"setReconnectToken",value:function(t){var e=t.getChild("reconnectToken","urn:realtime"),n=e.text();this.realtime.options.reconnectToken=n,this.emit("reconnectToken",n)}},{key:"_requestReconnectToken",value:function(){var t=new c.Element("iq",{type:"get",from:this.server.jid.toString()});t.c("reconnectTokenRequest",{xmlns:"urn:realtime"}),this.server.send(t)}}]),e}(a);u.expose={requestReconnectToken:function(){return this._requestReconnectToken()}},u.exposeEvents=["requestReconnect","reconnectToken"],u.stanzas={setReconnectId:function(t){return t.is("iq")&&"set"===t.attrs.type&&t.getChild("reconnectId","urn:realtime")},handleRequestReconnect:function(t){return t.is("iq")&&"set"===t.attrs.type&&t.attrs.to===this.server.jid.toString()&&t.attrs.from===this.server.jid.domain&&t.getChild("query","urn:xmpp:cxfr")},setReconnectToken:function(t){var e=this.realtime?this.realtime.options:null;return(e?e.guest:null)&&t.is("iq")&&"set"===t.attrs.type&&t.getChild("reconnectToken","urn:realtime")}},e.exports=u},{"./framework/Controller":17,ltx:470}],13:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e=t.getChildren("mediastream"),n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var c=s.value,u=c.attrs,l={};for(var f in u)"true"===u[f]?l[f]=!0:"false"===u[f]?l[f]=!1:l[f]=u[f];n.push(l)}}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}var a=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t("ltx"),l=t("../../../../../lib/uuid"),f=t("node-xmpp-core"),p=t("lodash"),h=t("bluebird"),d=t("async"),g=t("./framework/Controller"),m=t("limiter"),v=m.RateLimiter,y=t("../../../../../lib/Jid"),_=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t._rooms={},t._occupants={},t._occupantsMedia={},t._attributes={},t._pendingOccupants={},t._roomInfoLimiter=new v(10,"second"),t.server.on("connect",function(){var n=p.keys(t._rooms);t._rooms={},t._attributes={},t._pendingOccupants={},t._nick=t.server.jid.bare().toString().replace("@","#");var r="No response from room join request after "+e.ROOM_REJOIN_TIMEOUT+" ms",i=function(n,i){return t._joinRoom(n).timeout(e.ROOM_REJOIN_TIMEOUT,r).catch(function(e){return t.realtime._logger.error({message:"Failed to join room after connection",roomJid:n,error:e})}).nodeify(i)};return d.eachLimit(n,10,i,function(){return t.emit("roomsRejoined")})}),t}return o(e,t),c(e,[{key:"_jidEvent",value:function(t,e){return(t+":"+e.split("@")[0]).toLowerCase()}},{key:"_sanitizeJid",value:function(t){return t.toString().split("@")[0]+"@conference."+this.server.jid.domain}}]),c(e,[{key:"handleInfo",value:function(t){var e=void 0,n=t.getChild("query"),r=n.getChild("attributes")||{children:[]},i=r.children.reduce(function(t,e){return e.name&&(t[e.name]=e.text()),t},{}),o=n.getChild("participants");o&&(o=o.getChildren("participant").map(function(t){return t.text()}));var a=n.getChild("occupants");a&&(a=a.getChildren("occupant").map(function(t){return t.text()}));var c=n.getChild("mediaInfos");c?(e={},c.getChildren("occupant").forEach(function(t){var n=s(t);return e[t.attrs.jid]=n,n})):e=void 0;var u=n.getChild("subject");return u&&(u=u.text()),this.emit("roomInfo:"+t.attrs.id,null,{subject:u,occupants:a,participants:o,attributes:i,occupantsMedia:e})}},{key:"handleInfoError",value:function(t){var e=g.createErrorFromStanza(t);return this.emit("roomInfo:"+t.attrs.id,e,null)}},{key:"handleSubject",value:function(t){var e={room:new f.JID(t.attrs.from).bare().toString(),from:t.attrs.ofrom,subject:t.getChild("subject").text()};return Realtime.debug("room","subjectChange",e),Realtime.debug("subject","subjectChange",e),this.emit("subjectChange",e)}},{key:"handleInvite",value:function(t){Realtime.debug("room","got invite",t);var e=t.getChild("x","http://jabber.org/protocol/muc#user");return e&&e.getChild("invite")?this.emit("invite",{from:t.attrs.from,room:t.attrs.to}):this.emit("invite",{from:t.attrs.from,room:t.getChild("x","jabber:x:conference").attrs.jid})}},{key:"handleData",value:function(t){Realtime.debug("data","handleData",t);var e=JSON.parse(t.getChild("data").text());return Realtime.debug("data","handleData","data",e),this.emit("data",{data:e,room:t.attrs.from,from:t.attrs.ofrom})}},{key:"handleRoomAttributes",value:function(t){var e=void 0,n=t.attrs.from,r=t.getChild("attributes").text();try{e=JSON.parse(r)}catch(t){throw this.realtime._logger.error("Unable to parse room attributes",{attrText:r,err:t}),t}return this.emit("onSetAttributes",{roomJid:n,attributes:e})}},{key:"handlePresence",value:function(t){var e=void 0,n=void 0,r=t.attrs.ofrom.split("/"),i=a(r,1),o=i[0],c=t.attrs.from.split("/"),u=a(c,1),l=u[0],f=t.attrs.to.split("/"),p=a(f,1),h=p[0],d=t.getChild("x","orgspan:mediastream");if(this._occupants[l]||(this._occupants[l]={}),this._pendingOccupants[l]||(this._pendingOccupants[l]={}),this._occupantsMedia[l]||(this._occupantsMedia[l]={}),"unavailable"===t.attrs.type){if(n="leave",o===this.server.jid.bare().toString()&&this.emit(this._jidEvent("leave",l)),!this._occupants[l][o])return;delete this._occupants[l][o],delete this._pendingOccupants[l][o]}else if(d&&d.getChildren("mediastream").length)n="media",e=s(t.getChild("x","orgspan:mediastream")),this._occupantsMedia[l][o]=e,o===this.server.jid.bare().toString()&&this.emit(this._jidEvent("media",l));else{if(n="join",o===this.server.jid.bare().toString()&&this.emit(this._jidEvent("join",l)),this._pendingOccupants[l][o])return;this._occupants[l][o]=!0,
this._pendingOccupants[l][o]=!0}if("media"===n?(Realtime.debug("room","mediaChange",{room:l,from:o,mediaInfo:e}),this.emit("mediaChange",{room:l,from:o,mediaInfo:e})):(Realtime.debug("room","occupantChange",{room:l,from:o,type:n}),this.emit("occupantChange",{room:l,from:o,type:n})),o===h)return this.handleJoinRoomConfirmation(t)}},{key:"handlePresenceError",value:function(t){var e=t.attrs.from.split("/")[0],n=e.split("@")[0],r=g.createErrorFromStanza(t),i=t.attrs.originalType;return"unavailable"===i?this.emit("leave:"+n,r):void 0===i?this.emit("join:"+n,r):Realtime.debug("room","Unexpected presence error type",i)}},{key:"handleJoinRoomConfirmation",value:function(t){var e=t.attrs.from.split("/"),n=a(e,1),r=n[0];if(this._occupants[r]&&this._pendingOccupants[r]){for(var i in this._occupants[r])this._pendingOccupants[r][i]||this.emit("occupantChange",{room:r,from:i,type:"leave"});var o=this._pendingOccupants[r];return this._occupants[r]=o,o}}},{key:"handleMention",value:function(t){Realtime.debug("room","got mention",t);var e=t.getChild("mention").getChild("subject");return e&&(e=e.text()),this.emit("mention",{from:t.attrs.ofrom,room:t.attrs.from,subject:e})}},{key:"_joinRoom",value:function(t){var e=this;if(this._rooms[t])return this._rooms[t].isFulfilled()?this._rooms[t]:(this._rooms[t]=this._rooms[t].catch(function(){return e._requestJoinRoom(t)}),this._rooms[t]);var n=this._requestJoinRoom(t);return this._rooms[t]=n,n}},{key:"_requestJoinRoom",value:function(t){var e=this;return new h(function(n,r){var i=function(t){return t?r(t):n()},o=e._jidEvent("join",t);e.once(o,i);var s=new u.Element("presence",{from:e.server.jid.toString(),to:t+"/"+e._nick,id:l.generate()});return s.c("x",{xmlns:"http://jabber.org/protocol/muc"}),e.server.send(s,function(t){if(t)return e.removeListener(o,i),r(t)})})}},{key:"_updateMediaPresence",value:function(t,e,n){var r=this,i=t.jid,o=new Error("Attempting to update media presence for an unjoined room");if(!this._rooms[i])return n(o);this._rooms[i].then(function(){var o=new u.Element("presence",{from:r.server.jid.toString(),to:i,id:l.generate()}),s=o.c("x",{xmlns:"orgspan:mediastream"}),a=s.c("mediastream");t.conversationId&&(s.attrs.conversationId=t.conversationId),t.sourceCommunicationId&&(s.attrs.sourceCommunicationId=t.sourceCommunicationId),e.length&&(o.attrs.type="upgradeMedia",o.attrs["last-n"]=r.realtime.options.rtcLastN||2);var c=!0,f=!1,p=void 0;try{for(var h,d=e[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var g=h.value;a.attrs[g.media]="true"}}catch(t){f=!0,p=t}finally{try{!c&&d.return&&d.return()}finally{if(f)throw p}}return r.server.send(o,n)}).catch(function(){return n(o)})}},{key:"getRoomInfo",value:function(t,e){var n=this;return t=this._sanitizeJid(t),this._roomInfoLimiter.removeTokens(1,function(r){if(r)return void e(r);var i=l.generate(),o=new u.Element("iq",{id:i,to:t,type:"get"});return o.c("query",{xmlns:"http://jabber.org/protocol/disco#info"}),n.server.send(o),n.once("roomInfo:"+i,e)})}},{key:"_repairRoomPresences",value:function(t,e){var n=this;return this.realtime._logger.info("Starting repair of room",t),this.getRoomInfo(t,function(r,i){var o=void 0;if(r)return n.realtime._logger.error("Repair of room failed",t,r),void e(r);n._occupants[t]||(n._occupants[t]={}),n._pendingOccupants[t]||(n._pendingOccupants[t]={}),n._occupantsMedia[t]||(n._occupantsMedia[t]={});var s=i.occupants,a=i.occupantsMedia,c=!0,u=!1,l=void 0;try{for(var f,h=s[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var d=f.value;n._pendingOccupants[t][d]||(n._occupants[t][d]||(n._occupants[t][d]=!0,n._pendingOccupants[t][d]=!0,o={room:t,from:d,type:"join"},n.realtime._logger.warn("Missing occupantChange event was detected and will now be emitted",o),n.emit("occupantChange",o)))}}catch(t){u=!0,l=t}finally{try{!c&&h.return&&h.return()}finally{if(u)throw l}}a&&p.forEach(a,function(e,r){var i=n._occupantsMedia[t][r];if(!p.isEqual(i,e))return n._occupantsMedia[t][r]=e,o={room:t,from:r,mediaInfo:e},n.realtime._logger.warn("Missing mediaChange event was detected and will now be emitted",o),n.emit("mediaChange",o)});var g=!0,m=!1,v=void 0;try{for(var y,_=p.keys(n._occupants[t])[Symbol.iterator]();!(g=(y=_.next()).done);g=!0){var b=y.value;p.includes(s,b)||(delete n._occupants[t][b],delete n._pendingOccupants[t][b],o={room:t,from:b,type:"leave"},n.realtime._logger.warn("Missing occupantChange event was detected and will now be emitted",o),n.emit("occupantChange",o))}}catch(t){m=!0,v=t}finally{try{!g&&_.return&&_.return()}finally{if(m)throw v}}return n.realtime._logger.info("Repair of room done",t),e()})}}]),e}(g);_.ROOM_REJOIN_TIMEOUT=5e3,_.exposeEvents=["invite","subjectChange","data","occupantChange","mediaChange","mention","onSetAttributes"],_.stanzas={handleInvite:function(t){var e=t.getChild("x","jabber:x:conference");return e&&e.attrs.jid&&t.is("message")},handleMention:function(t){return t.is("message")&&t.getChild("mention","urn:realtime:mention")},handleSubject:function(t){var e=t.getChild("subject");return e&&t.is("message")&&e.text().length>0},handleData:function(t){var e=t.getChild("data");return e&&t.is("message")&&e.text().length>0&&"groupchat"===t.attrs.type},handleRoomAttributes:function(t){var e=t.getChild("attributes"),n=this.server.jid?this.server.jid.toString():"";return e&&t.is("message")&&"result"===t.attrs.type&&"groupchat"===t.attrs.originalType&&t.attrs.to===n&&e.text().length>0},handleInfo:function(t){return t.is("iq")&&"result"===t.attrs.type&&t.attrs.from&&t.attrs.from.match(/@conference/)&&t.getChild("query","http://jabber.org/protocol/disco#info")},handleInfoError:function(t){return t.is("iq")&&"error"===t.attrs.type&&t.attrs.from&&t.attrs.from.match(/@conference/)&&t.getChild("query","http://jabber.org/protocol/disco#info")},handlePresence:function(t){var e=this.server.jid?this.server.jid.bare().toString():"";return t.is("presence")&&t.attrs.from!==e&&[void 0,"unavailable"].includes(t.attrs.type)&&t.attrs.from.match(/@conference/)},handlePresenceError:function(t){var e=this.server.jid?this.server.jid.toString():"";return t.is("presence")&&"error"===t.attrs.type&&t.attrs.to===e&&t.attrs.from&&t.attrs.from.match(/@conference/)}},_.expose={createRoom:function(t){return Realtime.debug("room","createRoom"),t(null,l.generate()+"-z@conference."+this.server.jid.domain)},inviteToRoom:function(t,e){Realtime.debug("room","inviteToRoom",t,e);var n=new u.Element("message",{from:this.server.jid.toString(),to:e});return n.c("x",{xmlns:"jabber:x:conference",jid:t}),this.server.send(n)},joinRoom:function(t,e){t||Realtime._logger.error("joinRoom called with no jid."),!t||y.isConferenceJid(t)||y.isChatJid(t)||Realtime.debug("room","Invalid room jid received, jid: ",t),t=this._sanitizeJid(t),Realtime.debug("room","joining",t);var n=this._joinRoom(t);return"function"==typeof e?n.done(e,e):n},updateMediaPresence:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("string"==typeof t&&(t={jid:t}),!t.jid)return r(new Error("roomJid required to update media presence"));Realtime.debug("room","updating media presence",t,e);var i=this._jidEvent("media",t.jid);return this.once(i,r),this._updateMediaPresence(t,e,function(t){return t?(n.removeListener(i,r),r(t)):r(null)})},leaveRoom:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t||Realtime._logger.error("leaveRoom called with no jid."),t=this._sanitizeJid(t),Realtime.debug("room","joining",t);var r=new u.Element("presence",{from:this.server.jid.toString(),to:t+"/"+this._nick,id:l.generate(),type:"unavailable"}),i=this._jidEvent("leave",t),o=function(r){return r?n(r):(delete e._rooms[t],n())};return this.server.send(r,function(t){if(t)return e.removeListener(i,o),n(t)}),this.once(i,o)},setRoomSubject:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};t=this._sanitizeJid(t);var r=new u.Element("message",{from:this.server.jid.toString(),to:t,type:"groupchat"});return r.c("subject").t(e),this.server.send(r,function(t){return t?n(t):n()})},getRoomInfo:function(t,e){return this.getRoomInfo(t,e)},setAttributes:function(t,e){t=this._sanitizeJid(t);var n=new u.Element("message",{to:t,type:"groupchat"});if(this._attributes[t]&&(this._attributes[t]={}),!p.isEqual(this._attributes[t],e))return this._attributes[t]=e,n.c("attributes").t(JSON.stringify(e)),this.server.send(n)},_repairRoomPresences:function(t,e){return this._repairRoomPresences(t,e)}},e.exports=_},{"../../../../../lib/Jid":20,"../../../../../lib/uuid":24,"./framework/Controller":17,async:42,bluebird:55,limiter:452,lodash:468,ltx:470,"node-xmpp-core":487}],14:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("ltx"),c=t("./framework/Controller"),u=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t._rosterFetchRequested=!1,t.roster=null,t.setMaxListeners(0),t.server.on("disconnect",function(){t._rosterFetchRequested=!1,t.roster=null,t.requested=!1}),t.server.on("connect",function(){t.active&&t.realtime.options.fetchRosterOnConnect&&t._sendRequest()}),t}return o(e,t),s(e,[{key:"rosterResult",value:function(t){Realtime.debug("roster","message",t),this.roster={};var e=t.getChild("query","jabber:iq:roster"),n=!0,r=!1,i=void 0;try{for(var o,s=e.getChildren("item")[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value,c=a.attrs,u=c.jid,l=c.name;this.roster[u]={name:l,jid:u},this.emit("rosterItem",{name:l,jid:u,section:"favorites",type:"person",event:"add"})}}catch(t){r=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}this.emit("roster")}},{key:"rosterUpdate",value:function(t){Realtime.debug("roster","message",t),this.roster={};var e=t.getChild("query","jabber:iq:roster"),n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e.getChildren("item")[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var c=s.value,u=c.attrs,l=u.jid,f=u.name,p=u.subscription;["to","both"].includes(p)?(this.roster[l]={name:f,jid:l},n.push(this.emit("rosterItem",{name:f,jid:l,section:"favorites",type:"person",event:"add"}))):["remove","none"].includes(p)?(delete this.roster[l],n.push(this.emit("rosterItem",{name:f,jid:l,section:"favorites",type:"person",event:"remove"}))):n.push(void 0)}}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}},{key:"_sendRequest",value:function(){var t=this;if(this._rosterFetchRequested=!0,!this.realtime.connected)return this.server.once("connected",function(){return t._sendRequest()});if(!this.realtime.features["orgspan:roster"]||this.server.discovered){var e=new a.Element("iq",{type:"get",from:this.server.jid.toString()});return e.c("query",{xmlns:"jabber:iq:roster"}),this.server.send(e)}}}]),e}(c);u.expose={getRoster:function(t){var e=this;return Realtime.debug("roster","getRoster called",this.active),this.roster?t(null,this.roster):(this._rosterFetchRequested||this._sendRequest(),Realtime.debug("roster","waiting for roster"),this.once("roster",function(){Realtime.debug("roster","returning roster"),t(null,e.roster)}))},addToRoster:function(t,e){console.error("addToRoster not implemented"),e(new Error("addToRoster not implemented"))},removeFromRoster:function(t,e){console.error("removeFromRoster not implemented"),e(new Error("removeFromRoster not implemented"))}},u.exposeEvents=["rosterItem"],u.stanzas={rosterResult:function(t){return t.is("iq")&&t.getChild("query","jabber:iq:roster")&&"result"===t.attrs.type},rosterUpdate:function(t){return t.is("iq")&&t.getChild("query","jabber:iq:roster")&&"set"===t.attrs.type}},e.exports=u},{"./framework/Controller":17,ltx:470}],15:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("ltx"),c=t("lodash"),u=t("node-xmpp-core"),l=t("./framework/Controller"),f=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"joinVideo",value:function(t){var e=new u.JID(t.attrs.from).bare().toString(),n=new u.JID(t.getChild("video","orgspan:video").attrs.from).bare().toString();return Realtime.debug("video","video join",n),this.emit("videoJoin",{from:n,room:e})}},{key:"leaveVideo",value:function(t){var e=new u.JID(t.attrs.from).bare().toString(),n=new u.JID(t.getChild("video","orgspan:video").attrs.from).bare().toString();return Realtime.debug("video","video leave",n),this.emit("videoLeave",{from:n,room:e})}}]),e}(l);f.exposeEvents=["videoJoin","videoLeave"],f.expose={joinVideo:function(t){Realtime.debug("video","startVideoChat",t);var e=t.match(/@conference/)?"groupchat":"chat",n=new a.Element("message",{from:this.server.jid.bare().toString(),to:t,type:e});return n.c("video",{xmlns:"orgspan:video",from:this.server.jid.bare().toString(),type:"start"}),Realtime.debug("video","sending join",n),this.server.send(n)},leaveVideo:function(t){Realtime.debug("video","leaveVideoChat",t);var e=t.match(/@conference/)?"groupchat":"chat",n=new a.Element("message",{from:this.server.jid.bare().toString(),to:t,type:e});return n.c("video",{xmlns:"orgspan:video",from:this.server.jid.bare().toString(),type:"leave"}),Realtime.debug("video","sending leave",n),this.server.send(n)}},f.stanzas={joinVideo:function(t){var e=t.getChild("video","orgspan:video");return e&&(e=c.get(e,"attrs.type",null)),t.is("message")&&"start"===e},leaveVideo:function(t){var e=t.getChild("video","orgspan:video");return e&&(e=c.get(e,"attrs.type",null)),t.is("message")&&"leave"===e}},e.exports=f},{"./framework/Controller":17,lodash:468,ltx:470,"node-xmpp-core":487}],16:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("node-xmpp-core"),c=t("jingle-purecloud"),u=t("jingle-stanza"),l=t("../../../../../lib/uuid"),f=t("lodash"),p=t("limiter"),h=p.TokenBucket,d=t("jingle-media-data-session-purecloud"),g=t("jingle-media-session-purecloud"),m=t("./framework/Controller"),v=t("lru-cache"),y=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return n.app=t,n._stanzaLimiter=new h(20,25,1e3),n._stanzaLimiter.content=20,n.app.on("disconnect",function(){if(!0!==n.realtime.options.rtcSessionSurvivability)return n.pendingSessions={},n.pendingIqs={},n.sessionManager.endAllSessions("disconnect")}),n.ignoredSessions=v({max:10,maxAge:216e5}),n.sessionManager=new c({iceServers:[],iceTransportPolicy:n.realtime.options.iceTransportPolicy||"all",disableEOCShortCircuit:n.realtime.options.disableEOCShortCircuit||!1,prepareSession:function(t){if(n.realtime.options.iceTransportPolicy&&(t.iceTransportPolicy=n.realtime.options.iceTransportPolicy),n.realtime.options.disableEOCShortCircuit&&(t.disableEOCShortCircuit=n.realtime.options.disableEOCShortCircuit),t.signalEndOfCandidates=!0,t.peerID.toString().indexOf("@conference")>-1){var e=new g(t);return e.on("addChannel",function(t){e.lastNChannel=t,t.onmessage=function(t){t&&t.data&&e.emit("lastNChange",JSON.parse(t.data))}}),e}if(t.applicationTypes.includes("rtp"))return t.applicationTypes.includes("datachannel")?new d(t):new g(t)}}),n.sessionManager.on("send",function(t){if(t.jingle&&t.jingle.sid&&n.ignoredSessions.get(t.jingle.sid))return void n.realtime._logger.debug("Ignoring outbound stanza for webrtc session",t.jingle.sid);["get","set"].includes(t.type)&&(t.id=l.generate(),n.pendingIqs[t.id]=t);var e=u.getXml(t).xml;return n._stanzaLimiter.removeTokens(1,function(){return n.server.send(e)})}),n.sessionManager.on("outgoing",function(t){return n.emit("outgoingRtcSession",t)}),n.sessionManager.on("incoming",function(t){return n.emit("incomingRtcSession",t)}),n.sessionManager.on("log:*",function(t,e,r,i){return n.emit("traceRtcSession",t.split(":")[1],e,r,i)}),n.sessionManager.on("error",function(t){return n.emit("rtcSessionError",t.error,t)}),n.pendingSessions={},n.pendingIqs={},n}return o(e,t),s(e,[{key:"handleEndRtcSessionsWithJid",value:function(t,e){var n=this;return f.forEach(this.sessionManager.peers,function(r,i){i.indexOf(t)<0||(n.sessionManager.endPeerSessions(i,e),Object.keys(n.pendingSessions).forEach(function(t){n.pendingSessions[t].to===i&&delete n.pendingSessions[t]}))})}},{key:"jingle",value:function(t){var e=u.getData(t);if(e){var n=e.toJSON();if(n&&n.jingle&&n.jingle.sid&&this.ignoredSessions.get(n.jingle.sid))return void this.realtime._logger.debug("Ignoring inbound jingle stanza for webrtc session",e.jingle.sid);if(["result","error"].includes(e.type)){var r=this.pendingIqs[e.id];if(!r)return;e.jingle=r.jingle,delete this.pendingIqs[e.id]}return this.sessionManager.process(e.toJSON())}}},{key:"requestWebrtcDump",value:function(t){return this.emit("requestWebrtcDump",t.attrs.requestId)}},{key:"jingleMessageInit",value:function(t){var e=void 0,n=u.getData(t).toJSON();if(n.from.bare!==this.server.jid.bare().toString()){if(t.attrs.ofrom){if(e=new a.JID(t.attrs.ofrom),e.bare().toString()===this.server.jid.bare().toString())return;n.from=e.toString()}this.pendingSessions[n.propose.id]=n;var r=f.get(n,"ofrom.full",null);return r||(r=f.get(n,"from.full",null)),this.emit("requestIncomingRtcSession",{sessionId:n.propose.id,conversationId:t.getChild("propose").attrs["inin-cid"],autoAnswer:"true"===t.getChild("propose").attrs["inin-autoanswer"],persistentConnectionId:t.getChild("propose").attrs["inin-persistent-cid"],roomJid:r,fromJid:n.from.full||n.from})}}},{key:"jingleMessageRetract",value:function(t){var e=u.getData(t);return this.emit("cancelIncomingRtcSession",e.retract.id),delete this.pendingSessions[e.retract.id]}},{key:"jingleMessageAccept",value:function(t){var e=u.getData(t);e.from.toString()!==this.server.jid.toString()&&(this.emit("handledIncomingRtcSession",e.accept.id),delete this.pendingSessions[e.accept.id])}},{key:"jingleMessageProceed",value:function(t){var e=u.getData(t);this.emit("outgoingRtcSessionProceed",e.proceed.id,e.from.full)}},{key:"jingleMessageReject",value:function(t){var e=u.getData(t);e.from.toString()!==this.server.jid.toString()&&(e.from.bare===this.server.jid.bare().toString()?this.emit("handledIncomingRtcSession",e.reject.id):this.emit("outgoingRtcSessionRejected",e.reject.id),delete this.pendingSessions[e.reject.id])}},{key:"iceServers",value:function(t){var e=this,n=u.getData(t),r=n.services,i=r.services;if(r.type){r.type.split(",").forEach(function(t){return f.remove(e.sessionManager.iceServers,{type:t})})}else this.sessionManager.iceServers||(this.sessionManager.iceServers=[]);return i.forEach(function(t){if(["stun","stuns","turn","turns"].includes(t.type)){var n={type:t.type},r=t.port?":"+t.port:"";n.urls=t.type+":"+t.host+r,["turn","turns"].includes(t.type)&&(t.transport&&"udp"!==t.transport&&(n.urls+="?transport="+t.transport),t.username&&(n.username=t.username),t.password&&(n.credential=t.password));var i=f.find(e.sessionManager.iceServers,function(t){return t.type===n.type&&t.urls===n.urls});return i&&f.remove(e.sessionManager.iceServers,i),e.sessionManager.addICEServer(n)}}),this.emit("rtcIceServers",this.sessionManager.iceServers)}},{key:"upgradeError",value:function(t){this.emit("upgradeMediaError",m.createErrorFromStanza(t))}}]),e}(m);y.exposeEvents=["requestWebrtcDump","requestIncomingRtcSession","cancelIncomingRtcSession","handledIncomingRtcSession","outgoingRtcSessionProceed","outgoingRtcSessionRejected","rtcIceServers","incomingRtcSession","outgoingRtcSession","rtcSessionError","traceRtcSession","upgradeMediaError"],y.expose={createRtcSession:function(t,e,n,r,i){Realtime.debug("video","startVideoChat",t),r=r||{offerToReceiveAudio:!0,offerToReceiveVideo:!0},i=i||this.sessionManager.config.peerConnectionConstraints;try{var o=void 0,s={sid:e,peer:t,initiator:!0,stream:n,parent:this.sessionManager,iceServers:this.sessionManager.iceServers,constraints:i,signalEndOfCandidates:!0};return this.realtime.options.iceTransportPolicy&&(s.iceTransportPolicy=this.realtime.options.iceTransportPolicy),this.realtime.options.disableEOCShortCircuit&&(s.disableEOCShortCircuit=this.realtime.options.disableEOCShortCircuit),o=r.offerToReceiveAudio||r.offerToReceiveVideo?new d(s):new g(s),this.sessionManager.addSession(o),o.start(r)}catch(t){this.emit("rtcSessionError",t)}},leaveRtcSessions:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};"function"==typeof t&&(e=t,t=null),this.realtime.endRtcSessions({jid:t},"success",e)},endRtcSessions:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};"function"==typeof t?(n=t,t={jid:null}):"string"==typeof t?t={jid:t}:t||(t={}),"function"==typeof e&&(n=e,e="success");var r=t.jid||t.oneToOneJid;if(r)return this.handleEndRtcSessionsWithJid(r,e),r.match(/@conference/)?this.realtime.updateMediaPresence({jid:r},[],n):n();this.sessionManager.endAllSessions(e),this.pendingSessions={},this.ignoredSessions.reset(),n(null)},startRtcSession:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return this.realtime.initiateRtcSession({jid:t,stream:e},n)},initiateRtcSession:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={to:t.jid,propose:{id:l.generate(),descriptions:[]}};if(t.stream&&t.stream.getTracks().forEach(function(t){n.propose.descriptions.push({media:t.kind})}),t.mediaPurpose&&n.propose.descriptions.push({media:t.mediaPurpose}),t.jid.match(/@conference/)){var r=n.propose.descriptions;0===r.length&&(r=[{media:"listener"}]),this.realtime.updateMediaPresence(t,r,e)}else this.server.send(u.getMessageXml(n).xml),this.pendingSessions[n.propose.id]=n,e(null);return n.propose.id},cancelRtcSession:function(t){var e=this.pendingSessions[t];if(!e)return void this.emit("rtcSessionError","Cannot cancel session because it is not pending or does not exist");var n={to:e.to,retract:{id:t}};return this.server.send(u.getMessageXml(n).xml),delete this.pendingSessions[t]},acceptRtcSession:function(t){var e=this.pendingSessions[t];if(!e)return void this.emit("rtcSessionError","Cannot accept session because it is not pending or does not exist");var n={to:this.server.jid.bare().toString(),accept:{id:t}};this.server.send(u.getMessageXml(n).xml);var r={to:e.from.toString(),proceed:{id:t}};this.server.send(u.getMessageXml(r).xml),delete this.pendingSessions[t]},rejectRtcSession:function(t,e){var n=this.pendingSessions[t];if(!n)return void this.emit("rtcSessionError","Cannot reject session because it is not pending or does not exist");if(e)this.ignoredSessions.set(t,!0);else{var r={to:this.server.jid.bare().toString(),reject:{id:t}};this.server.send(u.getMessageXml(r).xml),r.to=n.from.toString(),this.server.send(u.getMessageXml(r).xml)}delete this.pendingSessions[t]}},y.stanzas={jingle:function(t){var e="set"===t.attrs.type&&t.getChild("jingle","urn:xmpp:jingle:1"),n="result"===t.attrs.type&&0===t.children.length,r="error"===t.attrs.type&&t.getChild("error"),i=e||n||r;return t.is("iq")&&i},requestWebrtcDump:function(t){return t.is("iq")&&"get"===t.attrs.type&&"webrtcDump"===t.attrs.kind},iceServers:function(t){return t.is("iq")&&t.getChild("services","urn:xmpp:extdisco:1")&&["set","result"].includes(t.attrs.type)},jingleMessageInit:function(t){return t.is("message")&&t.getChild("propose","urn:xmpp:jingle-message:0")},jingleMessageRetract:function(t){return t.is("message")&&t.getChild("retract","urn:xmpp:jingle-message:0")},jingleMessageAccept:function(t){return t.is("message")&&t.getChild("accept","urn:xmpp:jingle-message:0")},jingleMessageProceed:function(t){return t.is("message")&&t.getChild("proceed","urn:xmpp:jingle-message:0")},jingleMessageReject:function(t){return t.is("message")&&t.getChild("reject","urn:xmpp:jingle-message:0")},upgradeError:function(t){var e=this.server.jid?this.server.jid.toString():"";return t.is("presence")&&"error"===t.attrs.type&&"upgradeMedia"===t.attrs.originalType&&t.attrs.to===e&&f.invoke(t,"attrs.from.match",/@conference/)}},e.exports=y},{"../../../../../lib/uuid":24,"./framework/Controller":17,"jingle-media-data-session-purecloud":427,"jingle-media-session-purecloud":428,"jingle-purecloud":429,"jingle-stanza":432,limiter:452,lodash:468,"lru-cache":469,"node-xmpp-core":487}],17:[function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("events"),c=a.EventEmitter,u=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return o.server=t,o.realtime=n,o.setMaxListeners(0),o}return o(e,t),s(e,null,[{key:"createErrorFromStanza",value:function(t){var e=t.getChild("error"),n=e.getChild("text");n=n?n.getText():"The Realtime server reported an error";var r=new Error(n);e.attrs.code&&(r.code=parseInt(e.attrs.code,10)||e.attrs.code);var i=e.getChildrenByFilter(function(t){return"urn:ietf:params:xml:ns:xmpp-stanzas"===t.getNS()});i.length>0&&(r.xmppType=i[0].getName());var o=e.getChildrenByFilter(function(t){return"urn:realtime:errors"===t.getNS()});return o.length>0&&(r.realtimeType=o[0].getName()),r}}]),s(e,[{key:"createResult",value:function(t){t.attrs.to=t.attrs.from,t.attrs.from=this.server.jid.toString(),t.attrs.type="result"}}]),e}(c);u.stanzas={},u.exposeEvents=[],u.expose={},e.exports=u},{events:409}],18:[function(t,e,n){(function(n){"use strict";var r,i,o,s,a,c,u,l,f,p,h,d,g,m,v,y,_,b,w,x,S,j,E=[].slice;window.Realtime||(o=t("events").EventEmitter,h=t("lodash").noConflict(),_=t("ltx"),x=t("../../../../lib/uuid"),y=t("socket.io-client"),w=t("socket.io-sticky-headers"),w(t("engine.io-client/lib/transports/polling-xhr"),"Realtime-Session-Id",!0),m=t("extend-helper"),a=t("jingle-purecloud"),s=t("./controllers/framework/Controller"),b=t("../../../../lib/stanzaUtils"),j=t("node-xmpp-core"),g=t("jwt-decode"),r={debugController:t("./controllers/DebugController"),activeChatController:t("./controllers/ActiveChatController"),carrierPigeonController:t("./controllers/CarrierPigeonController"),discoveryController:t("./controllers/DiscoveryController"),focusController:t("./controllers/FocusController"),groupController:t("./controllers/GroupController"),messageController:t("./controllers/MessageController"),pingController:t("./controllers/PingController"),presenceController:t("./controllers/PresenceController"),reconnectController:t("./controllers/ReconnectController"),roomController:t("./controllers/RoomController"),rosterController:t("./controllers/RosterController"),videoController:t("./controllers/VideoController"),webrtcController:t("./controllers/WebrtcController"),errorController:t("./controllers/ErrorController"),loggingController:t("./controllers/LoggingController")},S="__wrapped_"+x.generate(),d=function(){return l.debug.apply(l,arguments)},v=[],c=3e4,p=9,i=2e3,u=5e4,l=function(){function e(t){var n,o,c,u,l,p,g,m,y;null==t&&(t={}),this.version="1.2.816",this.manifestVersion="1.2",this.connected=!1,this.socket=null,this._connectedAndBound=!1,this._disconnectRequested=!0,this._controllers={},this._reconnectId=null,this._stanzaCount=0,this._lastServerStanzaId=null,this._lastClientStanzaId=null,this._errors=0,this._focused=!0,this._defaultConnectTimeout=i,this._server=new f,this._id=x.generate(),v.push(this),this.options=t,"debug"in this.options||(this.options.debug=[]),this.options.debug&&(e.debugNS=this.options.debug),null==(n=this.options).fetchGroupsOnConnect&&(n.fetchGroupsOnConnect=!0),null==(o=this.options).fetchRosterOnConnect&&(o.fetchRosterOnConnect=!0),this.setMaxListeners(0),this.features={"orgspan:location":!0,"orgspan:history":!0,"urn:xmpp:carbons:2":!0,"http://jabber.org/protocol/chatstates":!0,"jabber:x:conference":!0,"orgspan:carbons":!0,"orgspan:focus":!1,"orgspan:groups":!1,"orgspan:rooms":!1,"orgspan:activeChats":!1,"orgspan:recentlyClosed":!1,"purecloud:reconnect":!0,"purecloud:presence":!0,"purecloud:offline-role":!1,"urn:xmpp:reference:0":!1},p=new a,y=p.capabilities;for(l=0,g=y.length;l<g;l++)u=y[l],this.features[u]=!0;t.roomsV2&&(this.features["orgspan:rooms"]=!0),t.focusV2&&(this.features["orgspan:focusV2"]=!0,this.features["orgspan:lastRead"]=!0),t.offlineJoinNotifications&&(this.features["purecloud:offline-role"]=!0),t.carrierPigeon&&(this.features["purecloud:carrierpigeon:raw"]=!0),h.has(t,"fastReconnects")&&(this.features["purecloud:reconnect"]=t.fastReconnects),t.recentlyClosed&&(this.features["orgspan:recentlyClosed"]=!0),t.referenceStanza&&(this.features["urn:xmpp:reference:0"]=!0),this.focusEventHandler=function(t){return function(){if(e.debug("connect","realtime focus",!t.connected,!t._disconnectRequested),t._focused=!0,t._connectTid)return t._errors=0,clearTimeout(t._connectTid),t._connectTid=null,t.connect()}}(this),this.blurEventHandler=function(t){return function(){return e.debug("connect","realtime blur"),t._focused=!1}}(this),window&&(window.addEventListener("focus",this.focusEventHandler),window.addEventListener("blur",this.blurEventHandler)),m=t.logger,this._logger=m?{warn:function(){
return m.warn.apply(m,arguments)},log:function(){return m.log.apply(m,arguments)},error:function(){return m.error.apply(m,arguments)},info:function(){return m.info.apply(m,arguments)},debug:function(){return m.debug.apply(m,arguments)}}:{warn:function(){return console.warn.apply(console,arguments)},log:function(){return console.log.apply(console,arguments)},error:function(){return console.error.apply(console,arguments)},info:function(){return console.info.apply(console,arguments)},debug:function(){return console.debug.apply(console,arguments)}},Function.prototype.bind||console.warn("Function.prototype.bind is not defined (perhaps you're running in PhantomJS v1). Some Realtime functionality may not work unless this is polyfilled."),c=function(t){return t.substr(0,1).toUpperCase()+t.substr(1)},h.each(r,function(t){return function(e,n){return t._controllers[n]=new e(t._server,t),h.each(e.expose,function(e,r){return d("handler","registering exposed controller method",r),t[r]=function(){var i,o;return o=1<=arguments.length?E.call(arguments,0):[],i=function(){return d("handle","executing",r),e.apply(t._controllers[n],o)},t.connected?i():(d("handle","deferring call to",r,t.connected),t.once("connect",function(){return i()}))}}),e.exposeEvents.forEach(function(e){return t["on"+c(e)]=function(n){return t.on(e,n)},t._controllers[n].on(e,function(){var n;t.emit.apply(t,[e].concat(E.call(arguments))),(n=t._server).emit.apply(n,[e].concat(E.call(arguments)))})})}}(this)),this._server.send=function(t){return function(e,n){var r,i,o,a,c,u,l;if(!t._connectedAndBound)return void t.once("_connectedAndBound",function(){return t._server.send(e,n)});for(e=e.toString().replace(/('|&apos;)/g,"\\27"),e=_.parse(e),u=e.getChildrenByFilter(function(){return!0}),a=0,c=u.length;a<c;a++)i=u[a],i.text()&&i.text(i.text().replace(/\\27/g,"'"));return null==(r=e.attrs).id&&(r.id=x.generate()),t._lastClientStanzaId=e.attrs.id,l=e.toString(),d("stanza","[out]",l),t.socket.emit("stanza",l),n?(o=h.once(function(e){var r;return t.removeListener("result:"+e.attrs.id,o),t.removeListener("receipt:"+e.attrs.id,o),r=null,"error"===e.attrs.type&&(r=s.createErrorFromStanza(e)),n(r,e)}),t.once("result:"+e.attrs.id,o),t.once("receipt:"+e.attrs.id,o)):void 0}}(this),this._server.sendEvent=function(t){return function(){var e;return(e=t.socket).emit.apply(e,arguments)}}(this),this._server.onEvent=function(t){return function(e,n){return d("status","onEvent",e,typeof n),t.socket.on(e,n)}}(this),d("connect","realtime constructed")}var l;return e.debugNS=!1,e.debug=function(){var t,e,n,r,i;if(r=arguments[0],t=2<=arguments.length?E.call(arguments,1):[],null!=("undefined"!=typeof console&&null!==console&&null!=(i=console.log)?i.apply:void 0))return null!=this.debugNS&&(!0===this.debugNS||"string"==typeof this.debugNS&&this.debugNS===r||"object"==typeof this.debugNS&&("function"==typeof(e=this.debugNS).indexOf?e.indexOf(r):void 0)>=0)?(n=new Date,console.log.apply(console,[("function"==typeof n.toLocaleString?n.toLocaleString():void 0)||n.toString(),Date.now(),"["+r+"]"].concat(E.call(t)))):void 0},e._instances=function(){return v},l=t("ltx/lib/parsers/sax-js"),_.Parser.prototype.DefaultParser=l,e.ltx=_,e.uuid=x,e.JID=j.JID,e.version="1.2.816",e.manifestVersion="1.2",m.extends(e,o),e.prototype.connect=function(){var t,n,r,o,s,a,l,f,m;if(d("connect","connect called",this.connected,this._connectTid,this.options),this._controllers.reconnectController.pendingReconnect=!1,clearTimeout(this._connectTid),this._connectTid=null,!this.socket){if(d("connect","connecting..."),this._disconnectRequested=!1,f={reconnection:!1,"force new connection":!0,path:"/realtime/socket.io-1.x/",query:this.options.query},m=this.options.transports,m&&h.isArray(m)&&(f.transports=m),"undefined"!=typeof window&&null!==window?window.localStorage:void 0){s=window.localStorage.getItem("realtimeIoOpts");try{s=JSON.parse(s),f=h.extend(f,s)}catch(t){this._logger.warn("realtimeIoOpts is not valid JSON. Using default options.")}}return null!=this.options.reconnectToken&&(n=g(this.options.reconnectToken).exp,Date.now()>1e3*n)?(a=new Error("Guest Session Expired"),a.status=410,void this.emit("error",a)):(d("connect","Connecting to socket.io with",f),o=this.options.host||window.location.protocol+"//"+window.location.host,l=this.socket=y(o+"/realtime",f),w.setSocket(l),this._connectedAndBound=!1,l.once("connect",function(e){return function(){var n,r,i;if(e._logger.info("realtime connected, but not bound yet"),e.socket===l&&(e._connectTid&&(clearTimeout(e._connectTid),e._connectTid=null),i=(null!=(r=e._server.jid)?r.resource:void 0)||(e.options.jidResource||"sio")+"-"+Math.floor(1e4*Math.random()),e.options.statusOnly&&(e.connected=!0),e._server.emit("sioConnect"),!e.options.statusOnly))return n={guest:e.options.guest,resource:i,version:e.version,orgId:e.options.orgId,jidRouting:e.options.roomsV2||e.options.jidRouting,clientId:e._id},["orgGuid","reconnectToken","webchatAuthenticationToken","webchatDeploymentKey","testOpts","authKey"].forEach(function(t){if(null!=e.options[t])return n[t]=e.options[t]}),e._reconnectId&&e._stanzaCount>0&&(n.reconnectId=e._reconnectId,n.reconnectStanzaCount=e._stanzaCount,n.reconnectLastServerStanzaId=e._lastServerStanzaId,n.reconnectLastClientStanzaId=e._lastClientStanzaId),l.emit("bind",n,function(n,r){var i;if(d("bind",n,r),n){if(401===(i=n.status)||403===i||429===i)return void t(n);if(412===n.status)e.emit("versionUpdate")||document.location.reload(!0);else{if(e._reconnectId)return void t(new Error("Failed to fast reconnect"));try{e.emit("error",n)}catch(t){t,h.noop()}}"undefined"!=typeof console&&null!==console&&console.error(n)}return r?(d("connect","**************** realtime connected ****************"),e._errors=0,e._server.jid=e.jid=new j.JID(r),e._controllers.presenceController.active=!0,e._connectedAndBound=!0,e.emit("_connectedAndBound"),e.options.guest&&(e._reconnectTokenRefreshInterval=setInterval(e.requestReconnectToken,u)),e.connected?void 0:(e.connected=!0,e._server.emit("connect"),e.emit("connect"))):e.disconnect()})}}(this)),l.once("disconnect",function(t){return function(){var e;return t.socket=null,t._connectedAndBound=!1,t._server.emit("sioDisconnect"),clearInterval(t._reconnectTokenRefreshInterval),t.features["purecloud:reconnect"]&&t._reconnectId?void setTimeout(function(){return t.connect()},0):(e=t.connected,t.connected=!1,t._server.jid=null,t._server.discovered=!1,d("connect","realtime disconnected!",t._connectTid,t._disconnectRequested),t._connectTid||(t._reconnectId=null,t._stanzaCount=0,t._lastServerStanzaId=null,t._lastClientStanzaId=null,e&&(t._logger.info("realtime disconnected"),t._server.emit("disconnect"),t.emit("disconnect")),t._disconnectRequested)?void 0:t._connectTid=setTimeout(function(){return t.connect()},r(t._errors,t._focused)))}}(this)),r=function(t,e){var n,r;return t<=p||e?i:(r=1e3*Math.pow(2,t-p),n=i+Math.random()*r,n=Math.min(n,c),Math.ceil(n))},t=function(t){return function(n){var i,o;return d("connect","error",n.toString(),t.connected,t._disconnectRequested,t._connectTid,t._focused,t._errors),t._errors++,401===(o=n.status||n.description)||403===o||n.toString().match(/unauthorized/i)?(t._logger.error("unauthorized",n),t.emit("unauthorized"),void t.disconnect()):t._disconnectRequested?void 0:(t.disconnect(),t._connectTid?e.debug("connect","reconnect already pending",t._connectTid):(i=r(t._errors,t._focused),t._logger.warn("realtime failed to connect "+t._errors+" times, retrying in "+i+" ms"),t._connectTid=setTimeout(function(){return t.connect()},i)))}}(this),l.on("connect_error",t),l.on("error",t),l.on("stanza",function(t){return function(e){return t.connected?t._handleStanza(e):(d("handler","deferred",e),t.once("connect",function(){return d("handler","deferred resume",e),t._handleStanza(e)}))}}(this)),this)}},e.prototype.disconnect=function(){var t,e;if(d("connect","disconnect called",this.connected),e=this.connected,this._disconnectRequested=!0,this._reconnectId=null,this._stanzaCount=0,this._lastServerStanzaId=null,this._lastClientStanzaId=null,this.connected=!1,clearTimeout(this._connectTid),t=this.socket,this.socket=null,this._connectedAndBound=!1,t)return t.connected&&t.disconnect(),e&&(this._logger.info("realtime disconnected"),this._server.emit("disconnect"),this.emit("disconnect")),this},e.prototype.reconnect=function(){return this.socket?(this.socket.once("disconnect",function(t){return function(){return t.connect()}}(this)),this.disconnect()):this.connect(),this},e.prototype.onConnect=function(t){return this.on("connect",t)},e.prototype.onDisconnect=function(t){return this.on("disconnect",t)},e.prototype.addListener=function(){return this.on.apply(this,arguments)},e.prototype._handleStanza=function(t){var e,n,r,i,o,s,a,c,u,l,f,p;if(d("stanza","[in]",t.toString()),t=t.replace(/\\27/g,"&apos;"),t=_.parse(t),this._stanzaCount++,this._lastServerStanzaId=t.attrs.id,"error"===t.attrs.type)if(null!=t.getChildByAttr("code",403,null,!0))this.emit("unauthorized");else if(null!=t.getChildByAttr("code",501,null,!0))this.emit("unhandled",t);else{if(null!=(null!=(a=t.getChild("error"))?a.getChild("resource-constraint"):void 0))return void this._controllers.errorController.resourceConstraintError(t);if(null!=(null!=(c=t.getChild("error"))?c.getChild("policy-violation"):void 0))return void this._controllers.errorController.policyViolationError(t);b.hasChildWithAttr(t,"xmlns","urn:xmpp:jingle:errors:1")?this._logger.warn("jingle error",t.toString()):this._logger.error("server error",t.toString())}if((s=t.getChild("received","urn:xmpp:receipts"))?(this.emit("receipt:"+s.attrs.id,t),r=!0):(this.emit("result:"+this._lastServerStanzaId,t),r=!1),d("handler","stanza in",t,null!=(u=this._server.jid)?u.toString():void 0),!this.connected)return void this._logger.warn("A stanza with id "+t.attrs.id+" was seen while the client was not connected");i=[],l=this._controllers;for(o in l){e=l[o],d("handler","checking",e.constructor.name),f=e.constructor.stanzas;for(n in f)p=f[n],d("handler",e.constructor.name,n),p.call(e,t)&&(d("handled","handled by",e.constructor.name+"."+n),r=!0,i.push(e[n].bind(e)))}return i.forEach(function(e){return e(t)}),r?void 0:this._logger.error("[stanza]","unhandled stanza",t.toString())},e.prototype.destroy=function(){var t;return window&&(window.removeEventListener("blur",this.blurEventHandler),window.removeEventListener("focus",this.focusEventHandler)),this._controllers.focusController.removeWindowEvents(),this.connected&&this.disconnect(),t=v.indexOf(this),v.splice(t,1)},e.prototype.removeListener=function(t,n){var r;return r=n[S],r&&(arguments[1]=r),e.__super__.removeListener.apply(this,arguments)},e.prototype.on=function(t,r){var i;return i=function(){var t;try{return r.apply(this,arguments)}catch(e){return t=e,n.nextTick(function(){throw t})}},r.listener&&(i.listener=r.listener),arguments[1]=i,r[S]=i,"connect"===t||"unhandled"===t?e.__super__.on.apply(this,arguments):("rosterItem"===t?(this.features["orgspan:groups"]=!0,this.features["orgspan:focus"]=!0,this.features["orgspan:roster"]=!0,d("guest","setting controllers to active",this.connected),this._controllers.focusController.active=!0,this._controllers.groupController.active=!0,this._controllers.rosterController.active=!0,this.connected&&(d("guest","triggering events",this._controllers.focusController.takeFocus),this.takeFocus(),this._controllers.groupController._sendRequest(),this._controllers.rosterController._sendRequest())):"activeChat"===t&&(this.features["orgspan:activeChats"]=!0,this._controllers.activeChatController.active=!0,this.connected&&this._controllers.activeChatController._sendRequest()),e.__super__.on.apply(this,arguments))},e}(),f=function(){function t(){this.setMaxListeners(0),this.jid=null,this.discovered=!1}return m.extends(t,o),t}(),e.exports=window.Realtime=l)}).call(this,t("_process"))},{"../../../../lib/stanzaUtils":23,"../../../../lib/uuid":24,"./controllers/ActiveChatController":1,"./controllers/CarrierPigeonController":2,"./controllers/DebugController":3,"./controllers/DiscoveryController":4,"./controllers/ErrorController":5,"./controllers/FocusController":6,"./controllers/GroupController":7,"./controllers/LoggingController":8,"./controllers/MessageController":9,"./controllers/PingController":10,"./controllers/PresenceController":11,"./controllers/ReconnectController":12,"./controllers/RoomController":13,"./controllers/RosterController":14,"./controllers/VideoController":15,"./controllers/WebrtcController":16,"./controllers/framework/Controller":17,_process:492,"engine.io-client/lib/transports/polling-xhr":400,events:409,"extend-helper":"extend-helper","jingle-purecloud":429,"jwt-decode":444,lodash:468,ltx:470,"ltx/lib/parsers/sax-js":481,"node-xmpp-core":487,"socket.io-client":"socket.io-client","socket.io-sticky-headers":543}],19:[function(t,e,n){var r,i,o,s,a=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty,u=[].slice;o=t("assert"),s=t("../../../lib/uuid"),i=function(t,e){return t.length<1?void e(null,!1):(0,t[0])(function(n,r){return n?void e(n):r?e(null,r):i(t.slice(1,t.length),e)})},r=function(t){function e(t){Object.defineProperty(this,"message",{value:t,writable:!0,enumerable:!1,configurable:!0}),Error.captureStackTrace(this,this.constructor)}return a(e,t),e.prototype.name="AsyncTimeoutError",e}(Error),e.exports={AsyncTimeoutError:r,ensureCallback:function(t,e,n){return function(){var i,o,a,c,u,l,f;i=Array.prototype.slice.apply(arguments),u=i[arguments.length-1],f=Date.now(),c=s.generate(),o=!1,l=null,a=function(){l=null,u.apply(null,arguments),u=null,a=null},l=setTimeout(function(){var n,i;l&&(i="The "+e+" function took longer than "+t+" ms to compete",logError(i,{id:c}),n=new r(i),n.alreadyLogged=!0,a(n))},t),i[i.length-1]=function(){var t;return o?void logError("The "+e+" function called the callback more than once",{id:c}):(o=!0,l?(clearTimeout(l),void a.apply(null,arguments)):(t=Date.now(),void logError("The "+e+" function finally completed after "+(t-f)+" ms with args",{id:c})))},n.apply(this,i),i=null}},createTimeoutFn:function(t,e,n){var r;return r=setTimeout(e,n),function(){return clearTimeout(r),t.apply(null,arguments)}},addSuccessCallbackArgs:function(){var t,e;return t=arguments[0],e=2<=arguments.length?u.call(arguments,1):[],function(){var n;return n=Array.prototype.slice.apply(arguments),0===n.length&&n.push(null),n[0]||n.push.apply(n,e),t.apply(this,n)}},preventSync:function(t){return function(){var e,n,r,i;e=Array.prototype.slice.apply(arguments),i=e[e.length-1],o("function"==typeof i),r=!0,n=function(){var t;r?(t=this,e=arguments,setImmediate(function(){return i.apply(t,e),i=null,t=null,e=null})):(i.apply(this,arguments),i=null)},e[e.length-1]=n,t.apply(this,e),r=!1,e=null,n=null}},or:i}},{"../../../lib/uuid":24,assert:41}],20:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("node-xmpp-core"),s=/^([a-z0-9\.\-_\+\*%\(\)]|\\27|\\22|\\26|\\2f|\\3a|\\5c)+@([-a-z0-9\._]+)(\/[a-z0-9\-\.]+)?$/i,a=/^[0-9a-f]{24}@(?:[-a-z0-9\._]+)\.orgspan\.com$/i,c=/^[0-9a-z-A-z]{24}@/,u=/^(?:[a-z]+-)?[0-9a-f-]{24,36}(-z)?@(?:[-a-z0-9._]+)\.orgspan\.com$/i,l=/@conference/,f=/@guest.orgspan.com($|\/)/,p=/(jitsi-videobridge*)/i,h=/(gjoll*)/i,d=function(){function t(){r(this,t)}return i(t,null,[{key:"escaped",value:function(t){return t.toString(!1)}},{key:"unescaped",value:function(t){return t.toString(!0)}},{key:"isChatJid",value:function(t){return null!=t&&a.test(t)&&!l.test(t)}},{key:"isValidActiveChatJid",value:function(t){return t&&u.test(t)}},{key:"isGuestJid",value:function(e){return t.isValidJid(e)&&f.test(e.toString())}},{key:"isValidJid",value:function(t){return s.test(t)}},{key:"isJitsiJid",value:function(t){return p.test(t)}},{key:"isGjollJid",value:function(t){return h.test(t)}},{key:"isNotAdhocChatJid",value:function(t){return c.test(t)}},{key:"isConferenceJid",value:function(t){return l.test(t.toString())}},{key:"isConferenceShortJid",value:function(t){return!!t.toString().match(/^[0-9a-f]{24}@conference$/)}},{key:"getBareJid",value:function(t){return("function"==typeof t.bare?t.bare():void 0)||new o.JID(t).bare()}}]),t}();e.exports=d},{"node-xmpp-core":487}],21:[function(t,e,n){(function(n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=void 0,a=t("ltx"),c=t("underscore.string");s="undefined"!=typeof window?function(){var t;return(t=Realtime).debug.apply(t,arguments)}:void 0!==n&&null!==n?n.debug:void 0;var u=function(){function t(){r(this,t)}return o(t,[{key:"format",value:function(t){var e=void 0;try{var n=void 0,r=t.getChild("body"),o=r.text().replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F]/gi,""),s=Array.from(this.formatBody(o)),c=i(s,2);e=c[0],n=c[1],t.remove("html");var u=t.c("html",{xmlns:"http://jabber.org/protocol/xhtml-im"}),l=a.parse("<body xmlns='http://www.w3.org/1999/xhtml'>"+e+"</body>");l.parent=u,u.children.push(l);var f=t.c("links"),p=!0,h=!1,d=void 0;try{for(var g,m=Array.from(n||[])[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){var v=g.value;f.c("link").t(v)}}catch(t){h=!0,d=t}finally{try{!p&&m.return&&m.return()}finally{if(h)throw d}}}catch(t){logError("error formatting stanza",t)}return t}},{key:"formatBody",value:function(t){for(var e=[],n=[{name:"email",regex:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.(?:com|org|net|edu|gov|mil|biz|info|mobi|name|aero|asia|jobs|museum|[A-Z]{2})$/i,replace:function(t){return"<a href='mailto:"+t+"' rel='external' target='_blank'>"+t+"</a>"}},{name:"mention",regex:/^(@[A-Z]+)(.?)$/i,replace:function(t,e,n){return"<span class='mention'>"+e+"</span>"+(n||"")}},{name:"MAGIC!",regex:/^http:\/\/gatherer.wizards.com\/Pages\/Card\/Details\.aspx[?]multiverseid=([0-9]+)$/,replace:function(t,n){var r=void 0;return e.push(r="http://gatherer.wizards.com/Handlers/Image.ashx?multiverseid="+n+"&type=card#.jpg"),s("link",r),"<a href='"+t+"' rel='external' target='_blank'>"+decodeURIComponent(c.escapeHTML(t))+"</a>"}},{name:"http link",regex:/^([\(])?((https?|ftp|www):\/\/.*?)([,)]*)$/i,replace:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments[2],i=(arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:""),o=void 0,a=r;a.match(/^http/i)||(a="http://"+a),s("link","Pushing link into list",a);try{o=decodeURIComponent(c.escapeHTML(r))}catch(t){return null}return e.push(a),n+"<a href='"+c.escapeHTML(a)+"' rel='external' target='_blank'>"+o+"</a>"+i}},{name:"tld link",regex:/^([\(])?(([-A-Z0-9-]+\.)+(?:com|org|net|edu|gov|mil|biz|info|mobi|name|aero|asia|jobs|museum|[A-Z]{2})(?::[0-9]+)?(?:\/[-A-Z0-9-\/.%_]*)?(?:\?[-A-Z0-9+&@\#\\\/%?=~_\.]+)?)([,\)]*)$/i,replace:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments[2],i=(arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:""),o=void 0,s=r;s.match(/^http/)||(s="http://"+s);try{o=decodeURIComponent(c.escapeHTML(r))}catch(t){return null}return e.push(s),n+"<a href='"+c.escapeHTML(s)+"' rel='external' target='_blank'>"+o+"</a>"+i}}],r=t.split("\n"),i=0;i<r.length;i++){for(var o=r[i],a=o.split(" "),u=0;u<a.length;u++){var l=a[u];s("link","linking",l);var f=!1,p=!0,h=!1,d=void 0;try{for(var g,m=Array.from(n)[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){var v=g.value;if(l.match(v.regex)){s("link","'"+l+"'","linked with",v.name);var y=l.replace(v.regex,v.replace);if("null"===y)continue;a[u]=y,f=!0;break}}}catch(t){h=!0,d=t}finally{try{!p&&m.return&&m.return()}finally{if(h)throw d}}s("link","token has match?",f),f||(a[u]=c.escapeHTML(a[u]))}s("link","formatting",o),r[i]=a.join(" ");var _={_:"em","\\*":"strong","-":"del"};for(var b in _){var w=_[b],x="&quot;|&#39;|[\\s\\(\\)\\[\\]\\{\\}*_.,;:?!'\"-]|</?(?:em|strong|del)>".replace(new RegExp(b,"g"),""),S=new RegExp("(^|"+x+")(?:"+b+")(\\S{1,2}|(?:\\S).+?(?:\\S))(?:"+b+")("+x+"|$)","g");s("link","regex",S),r[i]=r[i].replace(S,"$1<"+w+">$2</"+w+">$3")}}return t=r.join("\n"),[t,e]}}]),t}();e.exports=new u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{ltx:470,"underscore.string":572}],22:[function(t,e,n){"use strict";e.exports={ON_QUEUE_ID:"e08eaf1b-ee47-4fa9-a231-1200e284798f",EXTENDED_AWAY_ID:"7ffa01cd-7866-4ad7-8faa-31e11b42f51f",OLD_DND_PRESENCE:"6d5c55bd-667d-43b2-a440-443d893df631",PRESENCE_TO_PRESENCE_ID:{dnd:"31fe3bac-dea6-44b7-bed7-47f91660a1a0",chat:"6a3af858-942f-489d-9700-5f9bcdcdae9b",online:"6a3af858-942f-489d-9700-5f9bcdcdae9b",away:"5e5c5c66-ea97-4e7f-ac41-6424784829f2",xa:"7ffa01cd-7866-4ad7-8faa-31e11b42f51f",offline:"ccf3c10a-aa2c-4845-8e8d-f59fa48c58e5"},PRESENCE_ID_TO_PRESENCE:{"6a3af858-942f-489d-9700-5f9bcdcdae9b":"chat","5e5c5c66-ea97-4e7f-ac41-6424784829f2":"away","31fe3bac-dea6-44b7-bed7-47f91660a1a0":"dnd","3e36d2b0-1f1e-4a65-b55e-c24bf6e2273f":"away","ccf3c10a-aa2c-4845-8e8d-f59fa48c58e5":"offline","e08eaf1b-ee47-4fa9-a231-1200e284798f":"dnd","7ffa01cd-7866-4ad7-8faa-31e11b42f51f":"xa","3fd96123-badb-4f69-bc03-1b1ccc6d8014":"away","d2390a99-8546-bad9-8f0a-219548e8aeb0":"away","bbdff279-7ae1-48ea-bade-7831d7234c64":"dnd","227b37e2-f1d0-4dd0-8f50-badd7cf6d158":"away"},PRESENCE_NAME_TO_PRESENCE_ID:{Available:"6a3af858-942f-489d-9700-5f9bcdcdae9b",Away:"5e5c5c66-ea97-4e7f-ac41-6424784829f2",Busy:"31fe3bac-dea6-44b7-bed7-47f91660a1a0","Out of Office":"3e36d2b0-1f1e-4a65-b55e-c24bf6e2273f",Offline:"ccf3c10a-aa2c-4845-8e8d-f59fa48c58e5","On Queue":"e08eaf1b-ee47-4fa9-a231-1200e284798f",Idle:"7ffa01cd-7866-4ad7-8faa-31e11b42f51f",Meal:"3fd96123-badb-4f69-bc03-1b1ccc6d8014",Training:"d2390a99-8546-bad9-8f0a-219548e8aeb0",Meeting:"bbdff279-7ae1-48ea-bade-7831d7234c64",Break:"227b37e2-f1d0-4dd0-8f50-badd7cf6d158"},convertXMPPShowToDirectoryPresence:function(t){switch(t){case"offline":return"offline";case"chat":return"online";case"away":return"away";case"dnd":return"busy";case"xa":return"idle";default:return"online"}},convertDirectoryPresenceToXMPPShow:function(t){switch(t){case"idle":return"xa";case"busy":return"dnd";case"online":return"chat";default:return t}}}},{}],23:[function(t,e,n){"use strict";e.exports={format:function(t){return"\n"+t.toString().replace("\n","").replace(/>/g,">\n")},deformat:function(t){return t.toString().replace("\n","")},hasChildWithAttr:function(t,e,n){return t.getChildrenByFilter(function(t){return(t.attrs?t.attrs[e]:void 0)===n},!0).length}}},{}],24:[function(t,e,n){(function(t){"use strict";var e=Math.floor(32767*Math.random());t.pid||(t.pid=Math.floor(99999*Math.random()));var r=t.pid.toString(16);n.generate=function(){e++>=32767&&(e=0);for(var t=Math.round(Date.now()/1e3).toString(16),n=r+e.toString(16);n.length<12;)n="0"+n;return t+=n.substr(0,12),t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1),t.substr(0,24)}}).call(this,t("_process"))},{_process:492}],25:[function(t,e,n){"use strict";var r=t("./lib/JID"),i=t("./lib/tag");e.exports=function(t,e,n){return Array.isArray(t)?i.apply(null,arguments):new r(t,e,n)},e.exports.JID=r,e.exports.tag=i,e.exports.equal=function(t,e){return t.equals(e)},e.exports.is=function(t){return t instanceof r}},{"./lib/JID":26,"./lib/tag":28}],26:[function(t,e,n){"use strict";function r(t,e,n){if(this._local=null,this.user=null,this._domain=null,this._resource=null,!t||e||n){if(!e)throw new Error("Argument error");this.setLocal(t),this.setDomain(e),this.setResource(n)}else this.parseJID(t)}var i=t("./escaping");r.prototype.parseJID=function(t){var e=t.indexOf("/");-1!==e&&(this.setResource(t.substr(e+1)),t=t.substr(0,e));var n=t.indexOf("@");-1!==n&&(this.setLocal(t.substr(0,n)),t=t.substr(n+1)),this.setDomain(t)},r.prototype.toString=function(t){var e=this._domain;return this._local&&(e=this.getLocal(t)+"@"+e),this._resource&&(e=e+"/"+this._resource),e},r.prototype.bare=function(){return this._resource?new r(this._local,this._domain,null):this},r.prototype.equals=function(t){return this._local===t._local&&this._domain===t._domain&&this._resource===t._resource},r.prototype.setLocal=function(t,e){return e=e||i.detect(t),e&&(t=i.escape(t)),this._local=t&&t.toLowerCase(),this.user=this._local,this},r.prototype.setUser=function(){console.log("JID.setUser: Use JID.setLocal instead"),this.setLocal.apply(this,arguments)},r.prototype.getUser=function(){return console.log("JID.getUser: Use JID.getLocal instead"),this.getLocal.apply(this,arguments)},r.prototype.getLocal=function(t){t=t||!1;return t?i.unescape(this._local):this._local},Object.defineProperty(r.prototype,"local",{get:r.prototype.getLocal,set:r.prototype.setLocal}),r.prototype.setDomain=function(t){return this._domain=t.toLowerCase(),this},r.prototype.getDomain=function(){return this._domain},Object.defineProperty(r.prototype,"domain",{get:r.prototype.getDomain,set:r.prototype.setDomain}),r.prototype.setResource=function(t){return this._resource=t,this},r.prototype.getResource=function(){return this._resource},Object.defineProperty(r.prototype,"resource",{get:r.prototype.getResource,set:r.prototype.setResource}),r.prototype.detectEscape=i.detectEscape,r.prototype.escapeLocal=i.escape,r.prototype.unescapeLocal=i.unescape,e.exports=r},{"./escaping":27}],27:[function(t,e,n){"use strict";e.exports.detect=function(t){return!!t&&-1!==t.replace(/\\20/g,"").replace(/\\22/g,"").replace(/\\26/g,"").replace(/\\27/g,"").replace(/\\2f/g,"").replace(/\\3a/g,"").replace(/\\3c/g,"").replace(/\\3e/g,"").replace(/\\40/g,"").replace(/\\5c/g,"").search(/\\| |"|&|'|\/|:|<|>|@/g)},e.exports.escape=function(t){return null===t?null:t.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/"/g,"\\22").replace(/&/g,"\\26").replace(/'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40").replace(/\3a/g,"c3a")},e.exports.unescape=function(t){return null===t?null:t.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")}},{}],28:[function(t,e,n){"use strict";var r=t("./JID");e.exports=function(){for(var t=arguments[0],e=Array.prototype.slice.call(arguments,1),n="",i=0;i<e.length;i++)n+=t[i],n+=e[i];return n+=t[t.length-1],new r(n)}},{"./JID":26}],29:[function(t,e,n){"use strict";function r(t){o.call(this);var e=this,n=t&&t.Element||u,r=t&&t.Parser||s;this.maxStanzaSize=t&&t.maxStanzaSize,this.parser=new r,this.bytesParsed=0,this.bytesParsedOnStanzaBegin=0,this.parser.on("startElement",function(t,r){if(e.element||(e.emit("startElement",t,r),e.emit("start",new u(t,r))),e.element||"stream:stream"!==t){var i;e.element?(i=new n(t,r),e.element=e.element.cnode(i)):(i=new c(t,r),e.element=i,e.bytesParsedOnStanzaBegin=e.bytesParsed)}else e.emit("streamStart",r)}),this.parser.on("endElement",function(t){e.element||e.emit("endElement",t),e.element||"stream:stream"!==t?e.element&&t===e.element.name?e.element.parent?e.element=e.element.parent:(e.emit("element",e.element),e.emit("stanza",e.element),delete e.element,delete e.bytesParsedOnStanzaBegin):e.error("xml-not-well-formed","XML parse error"):e.end()}),this.parser.on("text",function(t){e.element&&e.element.t(t)}),this.parser.on("entityDecl",function(){e.error("xml-not-well-formed","No entity declarations allowed"),e.end()}),this.parser.on("error",this.emit.bind(this,"error"))}var i=t("inherits"),o=t("events").EventEmitter,s=t("ltx/lib/parsers/ltx"),a=t("@xmpp/xml"),c=a.Stanza,u=a.Element;i(r,o),r.prototype.checkXMLHeader=function(t){var e=t.indexOf("<?xml");if(-1!==e){var n=t.indexOf("?>");if(e>=0&&n>=0&&e<n+2){var r=t.substring(e,n+2);t=t.replace(r,"")}}return t},r.prototype.write=function(t){if(this.parser){if(t=t.toString("utf8"),t=this.checkXMLHeader(t),this.bytesParsedOnStanzaBegin&&this.maxStanzaSize&&this.bytesParsed>this.bytesParsedOnStanzaBegin+this.maxStanzaSize)return void this.error("policy-violation","Maximum stanza size exceeded");this.bytesParsed+=t.length,this.parser.write(t)}},r.prototype.end=function(t){t&&this.write(t),delete this.parser,this.emit("end")},r.prototype.error=function(t,e){var n=new Error(e);n.condition=t,this.emit("error",n)},e.exports=r},{"@xmpp/xml":30,events:409,inherits:421,"ltx/lib/parsers/ltx":480}],30:[function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=t("ltx"),o=t("./lib/tag");n=e.exports=function(){return o.apply(null,arguments)},r(n,i),n.IQ=t("./lib/IQ"),n.Message=t("./lib/Message"),n.Presence=t("./lib/Presence"),n.Stanza=t("./lib/Stanza"),n.createStanza=t("./lib/createStanza"),n.parse=t("./lib/parse"),n.Parser=t("./lib/Parser"),n.tag=t("./lib/tag"),n.ltx=i},{"./lib/IQ":31,"./lib/Message":32,"./lib/Parser":33,"./lib/Presence":34,"./lib/Stanza":35,"./lib/createStanza":36,"./lib/parse":37,"./lib/tag":38,ltx:470}],31:[function(t,e,n){"use strict";function r(t){i.call(this,"iq",t)}var i=t("./Stanza");t("inherits")(r,i),e.exports=r},{"./Stanza":35,inherits:421}],32:[function(t,e,n){"use strict";function r(t){i.call(this,"message",t)}var i=t("./Stanza");t("inherits")(r,i),e.exports=r},{"./Stanza":35,inherits:421}],33:[function(t,e,n){"use strict";function r(t){s.call(this,t)}var i=t("inherits"),o=t("./createStanza"),s=t("ltx").Parser;i(r,s),r.prototype.DefaultElement=o,e.exports=r},{"./createStanza":36,inherits:421,ltx:470}],34:[function(t,e,n){"use strict";function r(t){i.call(this,"presence",t)}var i=t("./Stanza");t("inherits")(r,i),e.exports=r},{"./Stanza":35,inherits:421}],35:[function(t,e,n){"use strict";function r(t,e){o.call(this,t,e)}var i=t("inherits"),o=t("ltx").Element;i(r,o),Object.defineProperty(r.prototype,"from",{get:function(){return this.attrs.from},set:function(t){this.attrs.from=t}}),Object.defineProperty(r.prototype,"to",{get:function(){return this.attrs.to},set:function(t){this.attrs.to=t}}),Object.defineProperty(r.prototype,"id",{get:function(){return this.attrs.id},set:function(t){this.attrs.id=t}}),Object.defineProperty(r.prototype,"type",{get:function(){return this.attrs.type},set:function(t){this.attrs.type=t}}),e.exports=r},{inherits:421,ltx:470}],36:[function(t,e,n){"use strict";var r=t("./Stanza"),i=t("ltx").Element;e.exports=function(t,e){var n;switch(t){case"presence":case"message":case"iq":n=new r(t,e);break;default:n=new i(t,e)}return Array.prototype.slice.call(arguments,2).forEach(function(t){n.cnode(t)}),n}},{"./Stanza":35,ltx:470}],37:[function(t,e,n){"use strict";var r=t("./Parser"),i=t("ltx").parse;e.exports=function(t){return i(t,r)}},{"./Parser":33,ltx:470}],38:[function(t,e,n){"use strict";var r=t("ltx").tagString,i=t("./parse");e.exports=function(){return i(r.apply(null,arguments))}},{"./parse":37,ltx:470}],39:[function(t,e,n){function r(t,e,n){function r(t,i){if(r.count<=0)throw new Error("after called too many times")
;--r.count,t?(o=!0,e(t),e=n):0!==r.count||o||e(null,i)}var o=!1;return n=n||i,r.count=t,0===t?e():r}function i(){}e.exports=r},{}],40:[function(t,e,n){e.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer}},{}],41:[function(t,e,n){(function(n){"use strict";function r(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function i(t){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function o(t){return Object.prototype.toString.call(t)}function s(t){return!i(t)&&("function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function a(t){if(w.isFunction(t)){if(j)return t.name;var e=t.toString(),n=e.match(k);return n&&n[1]}}function c(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function u(t){if(j||!w.isFunction(t))return w.inspect(t);var e=a(t);return"[Function"+(e?": "+e:"")+"]"}function l(t){return c(u(t.actual),128)+" "+t.operator+" "+c(u(t.expected),128)}function f(t,e,n,r,i){throw new E.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function p(t,e){t||f(t,!0,e,"==",E.ok)}function h(t,e,n,a){if(t===e)return!0;if(i(t)&&i(e))return 0===r(t,e);if(w.isDate(t)&&w.isDate(e))return t.getTime()===e.getTime();if(w.isRegExp(t)&&w.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"===(void 0===t?"undefined":b(t))||null!==e&&"object"===(void 0===e?"undefined":b(e))){if(s(t)&&s(e)&&o(t)===o(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;a=a||{actual:[],expected:[]};var c=a.actual.indexOf(t);return-1!==c&&c===a.expected.indexOf(e)||(a.actual.push(t),a.expected.push(e),g(t,e,n,a))}return n?t===e:t==e}function d(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function g(t,e,n,r){if(null===t||void 0===t||null===e||void 0===e)return!1;if(w.isPrimitive(t)||w.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=d(t),o=d(e);if(i&&!o||!i&&o)return!1;if(i)return t=S.call(t),e=S.call(e),h(t,e,n);var s,a,c=C(t),u=C(e);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),a=c.length-1;a>=0;a--)if(c[a]!==u[a])return!1;for(a=c.length-1;a>=0;a--)if(s=c[a],!h(t[s],e[s],n,r))return!1;return!0}function m(t,e,n){h(t,e,!0)&&f(t,e,n,"notDeepStrictEqual",m)}function v(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function y(t){var e;try{t()}catch(t){e=t}return e}function _(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=y(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&f(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!t&&w.isError(i),a=!t&&i&&!n;if((s&&o&&v(i,n)||a)&&f(i,n,"Got unwanted exception"+r),t&&i&&n&&!v(i,n)||!t&&i)throw i}var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w=t("util/"),x=Object.prototype.hasOwnProperty,S=Array.prototype.slice,j=function(){return"foo"===function(){}.name}(),E=e.exports=p,k=/\s*function\s+([^\(\s]*)\s*/;E.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var e=t.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=a(e),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},w.inherits(E.AssertionError,Error),E.fail=f,E.ok=p,E.equal=function(t,e,n){t!=e&&f(t,e,n,"==",E.equal)},E.notEqual=function(t,e,n){t==e&&f(t,e,n,"!=",E.notEqual)},E.deepEqual=function(t,e,n){h(t,e,!1)||f(t,e,n,"deepEqual",E.deepEqual)},E.deepStrictEqual=function(t,e,n){h(t,e,!0)||f(t,e,n,"deepStrictEqual",E.deepStrictEqual)},E.notDeepEqual=function(t,e,n){h(t,e,!1)&&f(t,e,n,"notDeepEqual",E.notDeepEqual)},E.notDeepStrictEqual=m,E.strictEqual=function(t,e,n){t!==e&&f(t,e,n,"===",E.strictEqual)},E.notStrictEqual=function(t,e,n){t===e&&f(t,e,n,"!==",E.notStrictEqual)},E.throws=function(t,e,n){_(!0,t,e,n)},E.doesNotThrow=function(t,e,n){_(!1,t,e,n)},E.ifError=function(t){if(t)throw t};var C=Object.keys||function(t){var e=[];for(var n in t)x.call(t,n)&&e.push(n);return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":621}],42:[function(e,n,r){(function(e,r){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function o(){}function s(t){return t}function a(t){return!!t}function c(t){return!t}function u(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}function l(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}function f(t){return U(t)||"number"==typeof t.length&&t.length>=0&&t.length%1==0}function p(t,e){for(var n=-1,r=t.length;++n<r;)e(t[n],n,t)}function h(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function d(t){return h(Array(t),function(t,e){return e})}function g(t,e,n){return p(t,function(t,r,i){n=e(n,t,r,i)}),n}function m(t,e){p(W(t),function(n){e(t[n],n)})}function v(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function y(t){var e,n,r=-1;return f(t)?(e=t.length,function(){return r++,r<e?r:null}):(n=W(t),e=n.length,function(){return r++,r<e?n[r]:null})}function _(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r)}}}function b(t){return function(e,n,r){return t(e,r)}}function w(t){return function(e,n,r){r=l(r||o),e=e||[];var i=y(e);if(t<=0)return r(null);var s=!1,a=0,c=!1;!function o(){if(s&&a<=0)return r(null);for(;a<t&&!c;){var l=i();if(null===l)return s=!0,void(a<=0&&r(null));a+=1,n(e[l],l,u(function(t){a-=1,t?(r(t),c=!0):o()}))}}()}}function x(t){return function(e,n,r){return t(F.eachOf,e,n,r)}}function S(t){return function(e,n,r,i){return t(w(n),e,r,i)}}function j(t){return function(e,n,r){return t(F.eachOfSeries,e,n,r)}}function E(t,e,n,r){r=l(r||o),e=e||[];var i=f(e)?[]:{};t(e,function(t,e,r){n(t,function(t,n){i[e]=n,r(t)})},function(t){r(t,i)})}function k(t,e,n,r){var i=[];t(e,function(t,e,r){n(t,function(n){n&&i.push({index:e,value:t}),r()})},function(){r(h(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})}function C(t,e,n,r){k(t,e,function(t,e){n(t,function(t){e(!t)})},r)}function T(t,e,n){return function(r,i,o,s){function a(){s&&s(n(!1,void 0))}function c(t,r,i){if(!s)return i();o(t,function(r){s&&e(r)&&(s(n(!0,t)),s=o=!1),i()})}arguments.length>3?t(r,i,c,a):(s=o,o=i,t(r,c,a))}}function O(t,e){return e}function A(t,e,n){n=n||o;var r=f(e)?[]:{};t(e,function(t,e,n){t(_(function(t,i){i.length<=1&&(i=i[0]),r[e]=i,n(t)}))},function(t){n(t,r)})}function R(t,e,n,r){var i=[];t(e,function(t,e,r){n(t,function(t,e){i=i.concat(e||[]),r(t)})},function(t){r(t,i)})}function I(t,e,n){function r(t,e,n,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(t.started=!0,U(e)||(e=[e]),0===e.length&&t.idle())return F.setImmediate(function(){t.drain()});p(e,function(e){var i={data:e,callback:r||o};n?t.tasks.unshift(i):t.tasks.push(i),t.tasks.length===t.concurrency&&t.saturated()}),F.setImmediate(t.process)}function i(t,e){return function(){s-=1;var n=!1,r=arguments;p(e,function(t){p(a,function(e,r){e!==t||n||(a.splice(r,1),n=!0)}),t.callback.apply(t,r)}),t.tasks.length+s===0&&t.drain(),t.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var s=0,a=[],c={tasks:[],concurrency:e,payload:n,saturated:o,empty:o,drain:o,started:!1,paused:!1,push:function(t,e){r(c,t,!1,e)},kill:function(){c.drain=o,c.tasks=[]},unshift:function(t,e){r(c,t,!0,e)},process:function(){for(;!c.paused&&s<c.concurrency&&c.tasks.length;){var e=c.payload?c.tasks.splice(0,c.payload):c.tasks.splice(0,c.tasks.length),n=h(e,function(t){return t.data});0===c.tasks.length&&c.empty(),s+=1,a.push(e[0]);var r=u(i(c,e));t(n,r)}},length:function(){return c.tasks.length},running:function(){return s},workersList:function(){return a},idle:function(){return c.tasks.length+s===0},pause:function(){c.paused=!0},resume:function(){if(!1!==c.paused){c.paused=!1;for(var t=Math.min(c.concurrency,c.tasks.length),e=1;e<=t;e++)F.setImmediate(c.process)}}};return c}function P(t){return _(function(e,n){e.apply(null,n.concat([_(function(e,n){"object"===("undefined"==typeof console?"undefined":i(console))&&(e?console.error&&console.error(e):console[t]&&p(n,function(e){console[t](e)}))})]))})}function D(t){return function(e,n,r){t(d(e),n,r)}}function N(t){return _(function(e,n){var r=_(function(n){var r=this,i=n.pop();return t(e,function(t,e,i){t.apply(r,n.concat([i]))},i)});return n.length?r.apply(this,n):r})}function L(t){return _(function(e){var n=e.pop();e.push(function(){var t=arguments;r?F.setImmediate(function(){n.apply(null,t)}):n.apply(null,t)});var r=!0;t.apply(this,e),r=!1})}var M,F={},B="object"===("undefined"==typeof self?"undefined":i(self))&&self.self===self&&self||"object"===(void 0===r?"undefined":i(r))&&r.global===r&&r||this;null!=B&&(M=B.async),F.noConflict=function(){return B.async=M,F};var z=Object.prototype.toString,U=Array.isArray||function(t){return"[object Array]"===z.call(t)},q=function(t){var e=void 0===t?"undefined":i(t);return"function"===e||"object"===e&&!!t},W=Object.keys||function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},J="function"==typeof setImmediate&&setImmediate,V=J?function(t){J(t)}:function(t){setTimeout(t,0)};"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.nextTick?F.nextTick=e.nextTick:F.nextTick=V,F.setImmediate=J?V:F.nextTick,F.forEach=F.each=function(t,e,n){return F.eachOf(t,b(e),n)},F.forEachSeries=F.eachSeries=function(t,e,n){return F.eachOfSeries(t,b(e),n)},F.forEachLimit=F.eachLimit=function(t,e,n,r){return w(e)(t,b(n),r)},F.forEachOf=F.eachOf=function(t,e,n){function r(t){a--,t?n(t):null===i&&a<=0&&n(null)}n=l(n||o),t=t||[];for(var i,s=y(t),a=0;null!=(i=s());)a+=1,e(t[i],i,u(r));0===a&&n(null)},F.forEachOfSeries=F.eachOfSeries=function(t,e,n){function r(){var o=!0;if(null===s)return n(null);e(t[s],s,u(function(t){if(t)n(t);else{if(null===(s=i()))return n(null);o?F.setImmediate(r):r()}})),o=!1}n=l(n||o),t=t||[];var i=y(t),s=i();r()},F.forEachOfLimit=F.eachOfLimit=function(t,e,n,r){w(e)(t,n,r)},F.map=x(E),F.mapSeries=j(E),F.mapLimit=S(E),F.inject=F.foldl=F.reduce=function(t,e,n,r){F.eachOfSeries(t,function(t,r,i){n(e,t,function(t,n){e=n,i(t)})},function(t){r(t,e)})},F.foldr=F.reduceRight=function(t,e,n,r){var i=h(t,s).reverse();F.reduce(i,e,n,r)},F.transform=function(t,e,n,r){3===arguments.length&&(r=n,n=e,e=U(t)?[]:{}),F.eachOf(t,function(t,r,i){n(e,t,r,i)},function(t){r(t,e)})},F.select=F.filter=x(k),F.selectLimit=F.filterLimit=S(k),F.selectSeries=F.filterSeries=j(k),F.reject=x(C),F.rejectLimit=S(C),F.rejectSeries=j(C),F.any=F.some=T(F.eachOf,a,s),F.someLimit=T(F.eachOfLimit,a,s),F.all=F.every=T(F.eachOf,c,c),F.everyLimit=T(F.eachOfLimit,c,c),F.detect=T(F.eachOf,s,O),F.detectSeries=T(F.eachOfSeries,s,O),F.detectLimit=T(F.eachOfLimit,s,O),F.sortBy=function(t,e,n){function r(t,e){var n=t.criteria,r=e.criteria;return n<r?-1:n>r?1:0}F.map(t,function(t,n){e(t,function(e,r){e?n(e):n(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);n(null,h(e.sort(r),function(t){return t.value}))})},F.auto=function(t,e,n){function r(t){d.unshift(t)}function i(t){var e=v(d,t);e>=0&&d.splice(e,1)}function s(){c--,p(d.slice(0),function(t){t()})}"function"==typeof arguments[1]&&(n=e,e=null),n=l(n||o);var a=W(t),c=a.length;if(!c)return n(null);e||(e=c);var u={},f=0,h=!1,d=[];r(function(){c||n(null,u)}),p(a,function(o){function a(){return f<e&&g(y,function(t,e){return t&&u.hasOwnProperty(e)},!0)&&!u.hasOwnProperty(o)}function c(){a()&&(f++,i(c),p[p.length-1](d,u))}if(!h){for(var l,p=U(t[o])?t[o]:[t[o]],d=_(function(t,e){if(f--,e.length<=1&&(e=e[0]),t){var r={};m(u,function(t,e){r[e]=t}),r[o]=e,h=!0,n(t,r)}else u[o]=e,F.setImmediate(s)}),y=p.slice(0,p.length-1),b=y.length;b--;){if(!(l=t[y[b]]))throw new Error("Has nonexistent dependency in "+y.join(", "));if(U(l)&&v(l,o)>=0)throw new Error("Has cyclic dependencies")}a()?(f++,p[p.length-1](d,u)):r(c)}})},F.retry=function(t,e,n){function r(t,e){for(;c.times;){var n=!(c.times-=1);a.push(function(t,n){return function(r){t(function(t,e){r(!t||n,{err:t,result:e})},e)}}(c.task,n)),!n&&c.interval>0&&a.push(function(t){return function(e){setTimeout(function(){e(null)},t)}}(c.interval))}F.series(a,function(e,n){n=n[n.length-1],(t||c.callback)(n.err,n.result)})}var o=5,s=0,a=[],c={times:o,interval:s},u=arguments.length;if(u<1||u>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return u<=2&&"function"==typeof t&&(n=e,e=t),"function"!=typeof t&&function(t,e){if("number"==typeof e)t.times=parseInt(e,10)||o;else{if("object"!==(void 0===e?"undefined":i(e)))throw new Error("Unsupported argument type for 'times': "+(void 0===e?"undefined":i(e)));t.times=parseInt(e.times,10)||o,t.interval=parseInt(e.interval,10)||s}}(c,t),c.callback=n,c.task=e,c.callback?r():r},F.waterfall=function(t,e){function n(t){return _(function(r,i){if(r)e.apply(null,[r].concat(i));else{var o=t.next();o?i.push(n(o)):i.push(e),L(t).apply(null,i)}})}if(e=l(e||o),!U(t)){var r=new Error("First argument to waterfall must be an array of functions");return e(r)}if(!t.length)return e();n(F.iterator(t))()},F.parallel=function(t,e){A(F.eachOf,t,e)},F.parallelLimit=function(t,e,n){A(w(e),t,n)},F.series=function(t,e){A(F.eachOfSeries,t,e)},F.iterator=function(t){function e(n){function r(){return t.length&&t[n].apply(null,arguments),r.next()}return r.next=function(){return n<t.length-1?e(n+1):null},r}return e(0)},F.apply=_(function(t,e){return _(function(n){return t.apply(null,e.concat(n))})}),F.concat=x(R),F.concatSeries=j(R),F.whilst=function(t,e,n){if(n=n||o,t()){var r=_(function(i,o){i?n(i):t.apply(this,o)?e(r):n.apply(null,[null].concat(o))});e(r)}else n(null)},F.doWhilst=function(t,e,n){var r=0;return F.whilst(function(){return++r<=1||e.apply(this,arguments)},t,n)},F.until=function(t,e,n){return F.whilst(function(){return!t.apply(this,arguments)},e,n)},F.doUntil=function(t,e,n){return F.doWhilst(t,function(){return!e.apply(this,arguments)},n)},F.during=function(t,e,n){n=n||o;var r=_(function(e,r){e?n(e):(r.push(i),t.apply(this,r))}),i=function(t,i){t?n(t):i?e(r):n(null)};t(i)},F.doDuring=function(t,e,n){var r=0;F.during(function(t){r++<1?t(null,!0):e.apply(this,arguments)},t,n)},F.queue=function(t,e){return I(function(e,n){t(e[0],n)},e,1)},F.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}function r(t,e,n){for(var r=-1,i=t.length-1;r<i;){var o=r+(i-r+1>>>1);n(e,t[o])>=0?r=o:i=o-1}return r}function i(t,e,i,s){if(null!=s&&"function"!=typeof s)throw new Error("task callback must be a function");if(t.started=!0,U(e)||(e=[e]),0===e.length)return F.setImmediate(function(){t.drain()});p(e,function(e){var a={data:e,priority:i,callback:"function"==typeof s?s:o};t.tasks.splice(r(t.tasks,a,n)+1,0,a),t.tasks.length===t.concurrency&&t.saturated(),F.setImmediate(t.process)})}var s=F.queue(t,e);return s.push=function(t,e,n){i(s,t,e,n)},delete s.unshift,s},F.cargo=function(t,e){return I(t,1,e)},F.log=P("log"),F.dir=P("dir"),F.memoize=function(t,e){var n={},r={},i=Object.prototype.hasOwnProperty;e=e||s;var o=_(function(o){var s=o.pop(),a=e.apply(null,o);i.call(n,a)?F.setImmediate(function(){s.apply(null,n[a])}):i.call(r,a)?r[a].push(s):(r[a]=[s],t.apply(null,o.concat([_(function(t){n[a]=t;var e=r[a];delete r[a];for(var i=0,o=e.length;i<o;i++)e[i].apply(null,t)})])))});return o.memo=n,o.unmemoized=t,o},F.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},F.times=D(F.map),F.timesSeries=D(F.mapSeries),F.timesLimit=function(t,e,n,r){return F.mapLimit(d(t),e,n,r)},F.seq=function(){var t=arguments;return _(function(e){var n=this,r=e[e.length-1];"function"==typeof r?e.pop():r=o,F.reduce(t,e,function(t,e,r){e.apply(n,t.concat([_(function(t,e){r(t,e)})]))},function(t,e){r.apply(n,[t].concat(e))})})},F.compose=function(){return F.seq.apply(null,Array.prototype.reverse.call(arguments))},F.applyEach=N(F.eachOf),F.applyEachSeries=N(F.eachOfSeries),F.forever=function(t,e){function n(t){if(t)return r(t);i(n)}var r=u(e||o),i=L(t);n()},F.ensureAsync=L,F.constant=_(function(t){var e=[null].concat(t);return function(t){return t.apply(this,e)}}),F.wrapSync=F.asyncify=function(t){return _(function(e){var n,r=e.pop();try{n=t.apply(this,e)}catch(t){return r(t)}q(n)&&"function"==typeof n.then?n.then(function(t){r(null,t)}).catch(function(t){r(t.message?t:new Error(t))}):r(null,n)})},"object"===(void 0===n?"undefined":i(n))&&n.exports?n.exports=F:"function"==typeof t&&t.amd?t([],function(){return F}):B.async=F}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:492}],43:[function(t,e,n){(function(e){"use strict";function n(t,e,n){t[e]||Object[r](t,e,{writable:!0,configurable:!0,value:n})}if(t("core-js/shim"),t("regenerator-runtime/runtime"),t("core-js/fn/regexp/escape"),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var r="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&n(Array,t,Function.call.bind([][t]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/fn/regexp/escape":64,"core-js/shim":387,"regenerator-runtime/runtime":44}],44:[function(t,e,n){(function(t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){"use strict";function r(t,e,n,r){var i=e&&e.prototype instanceof o?e:o,s=Object.create(i.prototype),a=new d(r||[]);return s._invoke=l(t,n,a),s}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function o(){}function s(){}function a(){}function c(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(e){function r(t,o,s,a){var c=i(e[t],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"===(void 0===l?"undefined":n(l))&&_.call(l,"__await")?Promise.resolve(l.__await).then(function(t){r("next",t,s,a)},function(t){r("throw",t,s,a)}):Promise.resolve(l).then(function(t){u.value=t,s(u)},a)}a(c.arg)}function o(t,e){function n(){return new Promise(function(n,i){r(t,e,n,i)})}return s=s?s.then(n,n):n()}"object"===n(t.process)&&t.process.domain&&(r=t.process.domain.bind(r));var s;this._invoke=o}function l(t,e,n){var r=k;return function(o,s){if(r===T)throw new Error("Generator is already running");if(r===O){if("throw"===o)throw s;return m()}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var c=f(a,n);if(c){if(c===A)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===k)throw r=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=T;var u=i(t,e,n);if("normal"===u.type){if(r=n.done?O:C,u.arg===A)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=O,n.method="throw",n.arg=u.arg)}}}function f(t,e){var n=t.iterator[e.method];if(n===v){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=v,f(t,e),"throw"===e.method))return A;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var r=i(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,A;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=v),e.delegate=null,A):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,A)}function p(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(p,this),this.reset(!0)}function g(t){if(t){var e=t[w];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(_.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=v,e.done=!0,e};return r.next=r}}return{next:m}}function m(){return{value:v,done:!0}}var v,y=Object.prototype,_=y.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},w=b.iterator||"@@iterator",x=b.asyncIterator||"@@asyncIterator",S=b.toStringTag||"@@toStringTag",j="object"===(void 0===e?"undefined":n(e)),E=t.regeneratorRuntime;if(E)return void(j&&(e.exports=E));E=t.regeneratorRuntime=j?e.exports:{},E.wrap=r;var k="suspendedStart",C="suspendedYield",T="executing",O="completed",A={},R={};R[w]=function(){return this};var I=Object.getPrototypeOf,P=I&&I(I(g([])));P&&P!==y&&_.call(P,w)&&(R=P);var D=a.prototype=o.prototype=Object.create(R);s.prototype=D.constructor=a,a.constructor=s,a[S]=s.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===s||"GeneratorFunction"===(e.displayName||e.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,S in t||(t[S]="GeneratorFunction")),t.prototype=Object.create(D),t},E.awrap=function(t){return{__await:t}},c(u.prototype),u.prototype[x]=function(){return this},E.AsyncIterator=u,E.async=function(t,e,n,i){var o=new u(r(t,e,n,i));return E.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},c(D),D[S]="Generator",D[w]=function(){return this},D.toString=function(){return"[object Generator]"},E.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=g,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&_.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var s=_.call(i,"catchLoc"),a=_.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&_.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),A},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),A}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:g(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=v),A}}}("object"===(void 0===t?"undefined":n(t))?t:"object"===("undefined"==typeof window?"undefined":n(window))?window:"object"===("undefined"==typeof self?"undefined":n(self))?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(t,e,n){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}e.exports=r,r.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}},{}],46:[function(t,e,n){var r=t("./lib/backoff"),i=t("./lib/strategy/exponential"),o=t("./lib/strategy/fibonacci"),s=t("./lib/function_call.js");e.exports.Backoff=r,e.exports.FunctionCall=s,e.exports.FibonacciStrategy=o,e.exports.ExponentialStrategy=i,e.exports.fibonacci=function(t){return new r(new o(t))},e.exports.exponential=function(t){return new r(new i(t))},e.exports.call=function(t,e,n){var r=Array.prototype.slice.call(arguments);return t=r[0],e=r.slice(1,r.length-1),n=r[r.length-1],new s(t,e,n)}},{"./lib/backoff":47,"./lib/function_call.js":48,"./lib/strategy/exponential":49,"./lib/strategy/fibonacci":50}],47:[function(t,e,n){function r(t){i.EventEmitter.call(this),this.backoffStrategy_=t,this.maxNumberOfRetry_=-1,this.backoffNumber_=0,this.backoffDelay_=0,this.timeoutID_=-1,this.handlers={backoff:this.onBackoff_.bind(this)}}var i=t("events");t("util").inherits(r,i.EventEmitter),r.prototype.failAfter=function(t){if(t<1)throw new Error("Maximum number of retry must be greater than 0. Actual: "+t);this.maxNumberOfRetry_=t},r.prototype.backoff=function(t){if(-1!==this.timeoutID_)throw new Error("Backoff in progress.");this.backoffNumber_===this.maxNumberOfRetry_?(this.emit("fail",t),this.reset()):(this.backoffDelay_=this.backoffStrategy_.next(),this.timeoutID_=setTimeout(this.handlers.backoff,this.backoffDelay_),this.emit("backoff",this.backoffNumber_,this.backoffDelay_,t))},r.prototype.onBackoff_=function(){this.timeoutID_=-1,this.emit("ready",this.backoffNumber_,this.backoffDelay_),this.backoffNumber_++},r.prototype.reset=function(){this.backoffNumber_=0,this.backoffStrategy_.reset(),clearTimeout(this.timeoutID_),this.timeoutID_=-1},e.exports=r},{events:409,util:621}],48:[function(t,e,n){function r(t){return"function"==typeof t}function i(t,e,n){if(s.EventEmitter.call(this),!r(t))throw new Error("fn should be a function.Actual: "+(void 0===t?"undefined":o(t)));if(!r(n))throw new Error("callback should be a function.Actual: "+(void 0===t?"undefined":o(t)));this.function_=t,this.arguments_=e,this.callback_=n,this.results_=[],this.backoff_=null,this.strategy_=null,this.failAfter_=-1,this.state_=i.State_.PENDING}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t("events"),a=t("util"),c=t("./backoff"),u=t("./strategy/fibonacci");a.inherits(i,s.EventEmitter),i.State_={PENDING:0,RUNNING:1,COMPLETED:2,ABORTED:3},i.prototype.isPending=function(){return this.state_==i.State_.PENDING},i.prototype.isRunning=function(){return this.state_==i.State_.RUNNING},i.prototype.isCompleted=function(){return this.state_==i.State_.COMPLETED},i.prototype.isAborted=function(){return this.state_==i.State_.ABORTED},i.prototype.setStrategy=function(t){if(!this.isPending())throw new Error("FunctionCall in progress.");return this.strategy_=t,this},i.prototype.getResults=function(){return this.results_.concat()},i.prototype.failAfter=function(t){if(!this.isPending())throw new Error("FunctionCall in progress.");return this.failAfter_=t,this},i.prototype.abort=function(){if(this.isCompleted())throw new Error("FunctionCall already completed.");this.isRunning()&&this.backoff_.reset(),this.state_=i.State_.ABORTED},i.prototype.start=function(t){if(this.isAborted())throw new Error("FunctionCall aborted.");if(!this.isPending())throw new Error("FunctionCall already started.");var e=this.strategy_||new u;this.backoff_=t?t(e):new c(e),this.backoff_.on("ready",this.doCall_.bind(this)),this.backoff_.on("fail",this.doCallback_.bind(this)),this.backoff_.on("backoff",this.handleBackoff_.bind(this)),this.failAfter_>0&&this.backoff_.failAfter(this.failAfter_),this.state_=i.State_.RUNNING,this.doCall_()},i.prototype.doCall_=function(){var t=["call"].concat(this.arguments_);s.EventEmitter.prototype.emit.apply(this,t);var e=this.handleFunctionCallback_.bind(this);this.function_.apply(null,this.arguments_.concat(e))},i.prototype.doCallback_=function(){var t=this.results_[this.results_.length-1];this.callback_.apply(null,t)},i.prototype.handleFunctionCallback_=function(){if(!this.isAborted()){var t=Array.prototype.slice.call(arguments);this.results_.push(t),s.EventEmitter.prototype.emit.apply(this,["callback"].concat(t)),t[0]?this.backoff_.backoff(t[0]):(this.state_=i.State_.COMPLETED,this.doCallback_())}},i.prototype.handleBackoff_=function(t,e,n){this.emit("backoff",t,e,n)},e.exports=i},{"./backoff":47,"./strategy/fibonacci":50,events:409,util:621}],49:[function(t,e,n){function r(t){o.call(this,t),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()}var i=t("util"),o=t("./strategy");i.inherits(r,o),r.prototype.next_=function(){return this.backoffDelay_=Math.min(this.nextBackoffDelay_,this.getMaxDelay()),this.nextBackoffDelay_=2*this.backoffDelay_,this.backoffDelay_},r.prototype.reset_=function(){this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()},e.exports=r},{"./strategy":51,util:621}],50:[function(t,e,n){function r(t){o.call(this,t),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()}var i=t("util"),o=t("./strategy");i.inherits(r,o),r.prototype.next_=function(){var t=Math.min(this.nextBackoffDelay_,this.getMaxDelay());return this.nextBackoffDelay_+=this.backoffDelay_,this.backoffDelay_=t,t},r.prototype.reset_=function(){this.nextBackoffDelay_=this.getInitialDelay(),this.backoffDelay_=0},e.exports=r},{"./strategy":51,util:621}],51:[function(t,e,n){function r(t){
return void 0!==t&&null!==t}function i(t){if(t=t||{},r(t.initialDelay)&&t.initialDelay<1)throw new Error("The initial timeout must be greater than 0.");if(r(t.maxDelay)&&t.maxDelay<1)throw new Error("The maximal timeout must be greater than 0.");if(this.initialDelay_=t.initialDelay||100,this.maxDelay_=t.maxDelay||1e4,this.maxDelay_<=this.initialDelay_)throw new Error("The maximal backoff delay must be greater than the initial backoff delay.");if(r(t.randomisationFactor)&&(t.randomisationFactor<0||t.randomisationFactor>1))throw new Error("The randomisation factor must be between 0 and 1.");this.randomisationFactor_=t.randomisationFactor||0}t("events"),t("util");i.prototype.getMaxDelay=function(){return this.maxDelay_},i.prototype.getInitialDelay=function(){return this.initialDelay_},i.prototype.next=function(){var t=this.next_(),e=1+Math.random()*this.randomisationFactor_;return Math.round(t*e)},i.prototype.next_=function(){throw new Error("BackoffStrategy.next_() unimplemented.")},i.prototype.reset=function(){this.reset_()},i.prototype.reset_=function(){throw new Error("BackoffStrategy.reset_() unimplemented.")},e.exports=i},{events:409,util:621}],52:[function(t,e,n){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),r=0;r<t.length;r++)e[t.charCodeAt(r)]=r;n.encode=function(e){var n,r=new Uint8Array(e),i=r.length,o="";for(n=0;n<i;n+=3)o+=t[r[n]>>2],o+=t[(3&r[n])<<4|r[n+1]>>4],o+=t[(15&r[n+1])<<2|r[n+2]>>6],o+=t[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},n.decode=function(t){var n,r,i,o,s,a=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),f=new Uint8Array(l);for(n=0;n<c;n+=4)r=e[t.charCodeAt(n)],i=e[t.charCodeAt(n+1)],o=e[t.charCodeAt(n+2)],s=e[t.charCodeAt(n+3)],f[u++]=r<<2|i>>4,f[u++]=(15&i)<<4|o>>2,f[u++]=(3&o)<<6|63&s;return l}}()},{}],53:[function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function i(t){var e=r(t),n=e[0],i=e[1];return 3*(n+i)/4-i}function o(t,e,n){return 3*(e+n)/4-n}function s(t){for(var e,n=r(t),i=n[0],s=n[1],a=new p(o(t,i,s)),c=0,u=s>0?i-4:i,l=0;l<u;l+=4)e=f[t.charCodeAt(l)]<<18|f[t.charCodeAt(l+1)]<<12|f[t.charCodeAt(l+2)]<<6|f[t.charCodeAt(l+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=255&e;return 2===s&&(e=f[t.charCodeAt(l)]<<2|f[t.charCodeAt(l+1)]>>4,a[c++]=255&e),1===s&&(e=f[t.charCodeAt(l)]<<10|f[t.charCodeAt(l+1)]<<4|f[t.charCodeAt(l+2)]>>2,a[c++]=e>>8&255,a[c++]=255&e),a}function a(t){return l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}function c(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(a(r));return i.join("")}function u(t){for(var e,n=t.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(c(t,o,o+16383>s?s:o+16383));return 1===r?(e=t[n-1],i.push(l[e>>2]+l[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(l[e>>10]+l[e>>4&63]+l[e<<2&63]+"=")),i.join("")}n.byteLength=i,n.toByteArray=s,n.fromByteArray=u;for(var l=[],f=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,g=h.length;d<g;++d)l[d]=h[d],f[h.charCodeAt(d)]=d;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},{}],54:[function(t,e,n){(function(t){function n(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}t[e]=r}}}function r(t,e){e=e||{};var r=new o;n(t);for(var i=0;i<t.length;i++)r.append(t[i]);return e.type?r.getBlob(e.type):r.getBlob()}function i(t,e){return n(t),new Blob(t,e||{})}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,s=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),a=s&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),c=o&&o.prototype.append&&o.prototype.getBlob;e.exports=function(){return s?a?t.Blob:i:c?r:void 0}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],55:[function(e,n,r){(function(e,i){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(e){if("object"==(void 0===r?"undefined":o(r))&&void 0!==n)n.exports=e();else if("function"==typeof t&&t.amd)t([],e);else{var s;"undefined"!=typeof window?s=window:void 0!==i?s=i:"undefined"!=typeof self&&(s=self),s.Promise=e()}}(function(){var t,n,r;return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof _dereq_&&_dereq_;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n||t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new l(16),this._normalQueue=new l(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=u}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function s(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function a(t){this._normalQueue._pushOne(t),this._queueTick()}var c;try{throw new Error}catch(t){c=t}var u=t("./schedule"),l=t("./queue"),f=t("./util");i.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},f.hasDevTools?(i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?s.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},i.prototype.settlePromises=function(t){this._trampolineEnabled?a.call(this,t):this._schedule(function(){t._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=s,i.prototype.settlePromises=a),i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=c},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},c=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var u=n(o),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(u),u instanceof t){var p={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:u};f._then(e,s,void 0,l,p),u._then(a,c,void 0,l,p),l._setOnCancel(u)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=r,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){return n(t,this.pop()).apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var s,a=t("./util"),c=a.canEvaluate;a.isIdentifier;e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(c){var r=s(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,c=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=s(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,a){return function(c){var u=a._boundValue();t:for(var l=0;l<t.length;++l){var f=t[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(c instanceof f)return o(n).call(u,c)}else if("function"==typeof f){var p=o(f).call(u,c);if(p===s)return p;if(p)return o(n).call(u,c)}else if(r.isObject(c)){for(var h=i(f),d=0;d<h.length;++d){var g=h[d];if(f[g]!=c[g])continue t}return o(n).call(u,c)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,s=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){if(i)return new e}function r(){var t=o.length-1;if(t>=0)return o[t]}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,c=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=c,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){function i(t,e){return{promise:e}}function s(){return!1}function a(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+z.toString(t));r._attachCancellationCallback(t)})}catch(t){return t}}function c(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?z.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function l(t){this._onCancelField=t}function f(){this._cancellationParent=void 0,this._onCancelField=void 0}function p(t,e){if(0!=(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function d(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function g(){this._trace=new P(this._peekContext())}function m(t,e){if(U(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=E(t);z.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),z.notEnumerableProp(t,"__stackCleaned__",!0)}}}function v(t,e,n,r,i){if(void 0===t&&null!==e&&Q){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),c=S(a),u=c.length-1;u>=0;--u){var l=c[u];if(!W.test(l)){var f=l.match(J);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(c.length>0)for(var p=c[0],u=0;u<a.length;++u)if(a[u]===p){u>0&&(s="\n"+a[u-1]);break}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(h,!0,e)}}function y(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),_(n)}function _(t,e,r){if(at.warnings){var i,o=new B(t);if(e)r._attachExtraTrace(o);else if(at.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var s=E(o);o.stack=s.message+"\n"+s.stack.join("\n")}nt("warning",o)||k(o,"",!0)}}function b(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function w(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function x(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(var a=s;a>=0;--a){var c=r[a];if(e[i]!==c)break;e.pop(),i--}e=r}}function S(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||V.test(r),o=i&&it(r);i&&!o&&(G&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function j(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||V.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}function E(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?j(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:S(e)}}function k(t,e,n){if("undefined"!=typeof console){var r;if(z.isObject(t)){var i=t.stack;r=e+H(i,t)}else r=e+String(t);"function"==typeof L?L(r,n):"function"!=typeof console.log&&"object"!==o(console.log)||console.log(r)}}function C(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){F.throwLater(t)}"unhandledRejection"===t?nt(t,n,r)||i||k(n,"Unhandled rejection "):nt(t,r)}function T(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():z.toString(t);if(/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+O(e)+">, no stack trace)"}function O(t){return t.length<41?t:t.substr(0,38)+"..."}function A(){return"function"==typeof st}function R(t){var e=t.match(ot);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function I(t,e){if(A()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),s=-1,a=-1,c=0;c<i.length;++c){var u=R(i[c]);if(u){n=u.fileName,s=u.line;break}}for(var c=0;c<o.length;++c){var u=R(o[c]);if(u){r=u.fileName,a=u.line;break}}s<0||a<0||!n||!r||n!==r||s>=a||(it=function(t){if(q.test(t))return!0;var e=R(t);return!!(e&&e.fileName===n&&s<=e.line&&e.line<=a)})}}function P(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);st(this,P),e>32&&this.uncycle()}var D,N,L,M=n._getDomain,F=n._async,B=t("./errors").Warning,z=t("./util"),U=z.canAttachTrace,q=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,W=/\((?:timers\.js):\d+:\d+\)/,J=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,V=null,H=null,G=!1,X=!(0==z.env("BLUEBIRD_DEBUG")),$=!(0==z.env("BLUEBIRD_WARNINGS")||!X&&!z.env("BLUEBIRD_WARNINGS")),Y=!(0==z.env("BLUEBIRD_LONG_STACK_TRACES")||!X&&!z.env("BLUEBIRD_LONG_STACK_TRACES")),Q=0!=z.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&($||!!z.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var t=this;setTimeout(function(){t._notifyUnhandledRejection()},1)}},n.prototype._notifyUnhandledRejectionIsHandled=function(){C("rejectionHandled",D,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),C("unhandledRejection",N,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return _(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=M();N="function"==typeof t?null===e?t:z.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=M();D="function"==typeof t?null===e?t:z.domainBind(e,t):void 0};var K=function(){};n.longStackTraces=function(){if(F.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!at.longStackTraces&&A()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;at.longStackTraces=!0,K=function(){if(F.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),F.enableTrampoline(),at.longStackTraces=!1},n.prototype._captureStackTrace=g,n.prototype._attachExtraTrace=m,r.activateLongStackTraces(),F.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return at.longStackTraces&&A()};var Z=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return z.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!z.global.dispatchEvent(n)}}if("function"==typeof Event){var t=new Event("CustomEvent");return z.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!z.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),z.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!z.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),tt=function(){return z.isNode?function(){return e.emit.apply(e,arguments)}:z.global?function(t){var e="on"+t.toLowerCase(),n=z.global[e];return!!n&&(n.apply(z.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),et={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},nt=function(t){var e=!1;try{e=tt.apply(null,arguments)}catch(t){F.throwLater(t),e=!0}var n=!1;try{n=Z(t,et[t].apply(null,arguments))}catch(t){F.throwLater(t),n=!0}return n||e};n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&K()),"warnings"in t){var e=t.warnings;at.warnings=!!e,Q=at.warnings,z.isObject(e)&&"wForgottenReturn"in e&&(Q=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!at.cancellation){if(F.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=f,n.prototype._propagateFrom=p,n.prototype._onCancel=u,n.prototype._setOnCancel=l,n.prototype._attachCancellationCallback=c,n.prototype._execute=a,rt=p,at.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!at.monitoring?(at.monitoring=!0,n.prototype._fireEvent=nt):!t.monitoring&&at.monitoring&&(at.monitoring=!1,n.prototype._fireEvent=s)),n},n.prototype._fireEvent=s,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var rt=h,it=function(){return!1},ot=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;z.inherits(P,Error),r.CapturedTrace=P,P.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<t;++r){var s=e[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var c=r>0?e[r-1]:this;a<t-1?(c._parent=e[a+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var u=c._length+1,l=r-2;l>=0;--l)e[l]._length=u,u++;return}}}},P.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=E(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(S(i.stack.split("\n"))),i=i._parent;x(r),w(r),z.notEnumerableProp(t,"stack",b(n,r)),z.notEnumerableProp(t,"__stackCleaned__",!0)}};var st=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():T(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,V=t,H=e;var n=Error.captureStackTrace;return it=function(t){return q.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return V=/@/,H=e,G=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(t){i="stack"in t}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(H=function(t,e){return"string"==typeof t?t:"object"!==(void 0===e?"undefined":o(e))&&"function"!=typeof e||void 0===e.name||void 0===e.message?T(e):e.toString()},null):(V=t,H=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(L=function(t){console.warn(t)},z.isNode&&e.stderr.isTTY?L=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:z.isNode||"string"!=typeof(new Error).stack||(L=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var at={warnings:$,longStackTraces:!1,cancellation:!1,monitoring:!1};return Y&&n.longStackTraces(),{longStackTraces:function(){return at.longStackTraces},warnings:function(){return at.warnings},cancellation:function(){return at.cancellation},monitoring:function(){return at.monitoring},propagateFromFunction:function(){return rt},boundValueFunction:function(){return d},checkForgottenReturns:v,setBounds:I,warn:_,deprecated:y,CapturedTrace:P,fireDomEvent:Z,fireGlobalEvent:tt}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return i(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,r){return i(t,r,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){if(!(this instanceof n))return new n(r);f(this,"message","string"==typeof r?r:e),f(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(n,Error),n}function i(t){if(!(this instanceof i))return new i(t);f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var o,s,a=t("./es5"),c=a.freeze,u=t("./util"),l=u.inherits,f=u.notEnumerableProp,p=r("Warning","warning"),h=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),g=r("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(t){o=r("TypeError","type error"),s=r("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<m.length;++v)"function"==typeof Array.prototype[m[v]]&&(g.prototype[m[v]]=Array.prototype[m[v]]);a.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var y=0;g.prototype.toString=function(){var t=Array(4*y+1).join(" "),e="\n"+t+"AggregateError of:\n";y++,t=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return y--,e},l(i,Error);var _=Error.__BluebirdErrorTypes__;_||(_=c({CancellationError:h,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:g}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:_,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},c=function(t,e){return{value:t[e]}},u=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},f=function(t){try{return Object(t).constructor.prototype}catch(t){return s}},p=function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}};e.exports={isArray:p,keys:a,names:a,defineProperty:u,getDescriptor:c,freeze:l,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function o(t){this.finallyHandler=t}function s(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function a(){return u.call(this,this.promise._target()._settledValue())}function c(t){if(!s(this,t))return p.e=t,p}function u(t){var i=this.promise,u=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?u.call(i._boundValue()):u.call(i._boundValue(),t);if(l===r)return l;if(void 0!==l){
i._setReturnedNonUndefined();var h=n(l,i);if(h instanceof e){if(null!=this.cancelPromise){if(h._isCancelled()){var d=new f("late cancellation observer");return i._attachExtraTrace(d),p.e=d,p}h.isPending()&&h._attachCancellationCallback(new o(this))}return h._then(a,c,void 0,this,void 0)}}}return i.isRejected()?(s(this),p.e=t,p):(s(this),t)}var l=t("./util"),f=e.CancellationError,p=l.errorObj,h=t("./catch_filter")(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){s(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,r){return"function"!=typeof t?this.then():this._then(n,r,void 0,new i(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,u,u)},e.prototype.tap=function(t){return this._passThrough(t,1,u)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,u);var r,i=new Array(n-1),o=0;for(r=0;r<n-1;++r){var s=arguments[r];if(!l.isObject(s))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+l.classString(s)));i[o++]=s}i.length=o;var a=arguments[r];return this._passThrough(h(i,a,this),1,void 0,u)},i}},{"./catch_filter":7,"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=h(n[o])(t);if(r._popContext(),s===p){r._pushContext();var a=e.reject(p.e);return r._popContext(),a}var c=i(s,r);if(c instanceof e)return c}return null}function c(t,n,i,o){if(s.cancellation()){var a=new e(r),c=this._finallyPromise=new e(r);this._promise=a.lastly(function(){return c}),a._captureStackTrace(),a._setOnCancel(this)}else{(this._promise=new e(r))._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}var u=t("./errors"),l=u.TypeError,f=t("./util"),p=f.errorObj,h=f.tryCatch,d=[];f.inherits(c,o),c.prototype._isResolved=function(){return null===this._promise},c.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},c.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n=void 0!==this._generator.return;if(n)this._promise._pushContext(),t=h(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=h(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},c.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},c.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=h(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},c.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},c.prototype.promise=function(){return this._promise},c.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},c.prototype._continue=function(t){var n=this._promise;if(t===p)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&null===(o=a(o,this._yieldHandlers,this._promise)))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var s=o._bitField;0==(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=c,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+f.classString(t));d.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new c(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util");a.canEvaluate,a.tryCatch,a.errorObj;e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,s,a){function c(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=l();this._callback=null===i?e:f.domainBind(i,e),this._preservedValues=r===s?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}function u(t,n,i,s){if("function"!=typeof n)return r("expecting a function but got "+f.classString(n));var a=0;if(void 0!==i){if("object"!==(void 0===i?"undefined":o(i))||null===i)return e.reject(new TypeError("options argument must be an object but it is "+f.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+f.classString(i.concurrency)));a=i.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new c(t,n,a,s).promise()}var l=e._getDomain,f=t("./util"),p=f.tryCatch,h=f.errorObj,d=e._async;f.inherits(c,n),c.prototype._asyncInit=function(){this._init$(void 0,-2)},c.prototype._init=function(){},c.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),s=this._preservedValues,c=this._limit;if(n<0){if(n=-1*n-1,r[n]=t,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return r[n]=t,this._queue.push(n),!1;null!==s&&(s[n]=t);var u=this._promise,l=this._callback,f=u._boundValue();u._pushContext();var d=p(l).call(f,t,n,o),g=u._popContext();if(a.checkForgottenReturns(d,g,null!==s?"Promise.filter":"Promise.map",u),d===h)return this._reject(d.e),!0;var m=i(d,this._promise);if(m instanceof e){m=m._target();var v=m._bitField;if(0==(50397184&v))return c>=1&&this._inFlight++,r[n]=m,m._proxy(this,-1*(n+1)),!1;if(0==(33554432&v))return 0!=(16777216&v)?(this._reject(m._reason()),!0):(this._cancel(),!0);d=m._value()}r[n]=d}return++this._totalResolved>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},c.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},c.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},c.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return u(this,t,e,null)},e.map=function(t,e,n,r){return u(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=a(t).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+s.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var c;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],l=arguments[2];c=s.isArray(u)?a(t).apply(l,u):a(t).call(l,u)}else c=a(t)();var f=r._popContext();return o.checkForgottenReturns(c,f,"Promise.try",r),r._resolveFromSyncValue(c),r},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new u(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),i=0;i<n.length;++i){var o=n[i];f.test(o)||(e[o]=t[o])}return e}return s.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(a(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(r);t=null}}}var s=t("./util"),a=s.maybeWrapAsError,c=t("./errors"),u=c.OperationalError,l=t("./es5"),f=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=a(e).apply(n._boundValue(),[null].concat(t));i===c&&s.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?a(e).call(r,null):a(e).call(r,null,t);i===c&&s.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=a(e).call(n._boundValue(),t);i===c&&s.throwLater(i.e)}var o=t("./util"),s=e._async,a=o.tryCatch,c=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(t,e){if(null==t||t.constructor!==o)throw new _("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new _("expecting a function but got "+d.classString(e))}function o(t){t!==w&&i(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function s(t){this.promise._resolveCallback(t)}function a(t){this.promise._rejectCallback(t,!1)}function c(t){var e=new o(w);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var u,l=function(){return new _("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new o.PromiseInspection(this._target())},p=function(t){return o.reject(new _(t))},h={},d=t("./util");u=d.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},d.notEnumerableProp(o,"_getDomain",u);var g=t("./es5"),m=t("./async"),v=new m;g.defineProperty(o,"_async",{value:v});var y=t("./errors"),_=o.TypeError=y.TypeError;o.RangeError=y.RangeError;var b=o.CancellationError=y.CancellationError;o.TimeoutError=y.TimeoutError,o.OperationalError=y.OperationalError,o.RejectionError=y.OperationalError,o.AggregateError=y.AggregateError;var w=function(){},x={},S={},j=t("./thenables")(o,w),E=t("./promise_array")(o,w,j,p,r),k=t("./context")(o),C=k.create,T=t("./debuggability")(o,k),O=(T.CapturedTrace,t("./finally")(o,j,S)),A=t("./catch_filter")(S),R=t("./nodeback"),I=d.errorObj,P=d.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var o=arguments[n];if(!d.isObject(o))return p("Catch statement predicate: expecting an object but got "+d.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,A(r,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},o.prototype.then=function(t,e){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+d.classString(t);arguments.length>1&&(n+=", "+d.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?p("expecting a function but got "+d.classString(t)):this.all()._then(t,void 0,void 0,x,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new E(this).promise()},o.prototype.error=function(t){return this.caught(d.originatesFromRejection,t)},o.getNewLibraryCopy=n.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(w);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=P(t)(R(e,n));return r===I&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new E(t).promise()},o.cast=function(t){var e=j(t);return e instanceof o||(e=new o(w),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(w);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new _("expecting a function but got "+d.classString(t));return v.setScheduler(t)},o.prototype._then=function(t,e,n,r,i){var s=void 0!==i,a=s?i:new o(w),c=this._target(),l=c._bitField;s||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&l)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var f=u();if(0!=(50397184&l)){var p,h,g=c._settlePromiseCtx;0!=(33554432&l)?(h=c._rejectionHandler0,p=t):0!=(16777216&l)?(h=c._fulfillmentHandler0,p=e,c._unsetRejectionIsUnhandled()):(g=c._settlePromiseLateCancellationObserver,h=new b("late cancellation observer"),c._attachExtraTrace(h),p=e),v.invoke(g,c,{handler:null===f?p:"function"==typeof p&&d.domainBind(f,p),promise:a,receiver:r,value:h})}else c._addCallbacks(t,e,a,r,f);return a},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){v.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==h)return void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=h),this._addCallbacks(e,n,r,i,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=h),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:d.domainBind(i,e));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this[s+1]=null===i?e:d.domainBind(i,e))}return this._setLength(o+1),o},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=j(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var i=r._bitField;if(0==(50397184&i)){var s=this._length();s>0&&r._migrateCallback0(this);for(var a=1;a<s;++a)r._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!=(33554432&i))this._fulfill(r._value());else if(0!=(16777216&i))this._reject(r._reason());else{var c=new b("late cancellation observer");r._attachExtraTrace(c),this._reject(c)}}},o.prototype._rejectCallback=function(t,e,n){var r=d.ensureErrorObject(t),i=r===t;if(!i&&!n&&T.warnings()){var o="a promise was rejected with a non-error: "+d.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},o.prototype._resolveFromExecutor=function(t){if(t!==w){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},o.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0==(65536&i)){r._pushContext();var o;e===x?n&&"number"==typeof n.length?o=P(t).apply(this._boundValue(),n):(o=I,o.e=new _("cannot .spread() a non-array: "+d.classString(n))):o=P(t).call(e,n);var s=r._popContext();i=r._bitField,0==(65536&i)&&(o===S?r._reject(n):o===I?r._rejectCallback(o.e,!1):(T.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,n,i){var s=t instanceof o,a=this._bitField,c=0!=(134217728&a);0!=(65536&a)?(s&&t._invokeInternalOnCancel(),n instanceof O&&n.isFinallyHandler()?(n.cancelPromise=t,P(e).call(n,i)===I&&t._reject(I.e)):e===f?t._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(t):s||t instanceof E?t._cancel():n.cancel()):"function"==typeof e?s?(c&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof r?n._isResolved()||(0!=(33554432&a)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):s&&(c&&t._setAsyncGuaranteed(),0!=(33554432&a)?t._fulfill(i):t._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},o.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!=(134217728&e)?this._settlePromises():v.settlePromises(this))}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return v.fatalError(t,d.isNode);(65535&e)>0?v.settlePromises(this):this._ensurePossibleRejectionHandled()}},o.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){return T.deprecated("Promise.defer","new Promise"),{promise:new o(w),resolve:s,reject:a}},d.notEnumerableProp(o,"_makeSelfResolutionError",l),t("./method")(o,w,j,p,T),t("./bind")(o,w,j,T),t("./cancel")(o,E,p,T),t("./direct_resolve")(o),t("./synchronous_inspection")(o),t("./join")(o,E,j,w,v,u),o.Promise=o,o.version="3.5.1",t("./map.js")(o,E,p,j,w,T),t("./call_get.js")(o),t("./using.js")(o,p,j,C,w,T),t("./timers.js")(o,w,T),t("./generators.js")(o,p,w,j,r,T),t("./nodeify.js")(o),t("./promisify.js")(o,w),t("./props.js")(o,E,j,p),t("./race.js")(o,w,j,p),t("./reduce.js")(o,E,p,j,w,T),t("./settle.js")(o,E,T),t("./some.js")(o,E,p),t("./filter.js")(o,w),t("./each.js")(o,w),t("./any.js")(o),d.toFastProperties(o),d.toFastProperties(o.prototype),c({a:1}),c({b:2}),c({c:3}),c(1),c(function(){}),c(void 0),c(!1),c(new o(w)),T.setBounds(m.firstLineError,d.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function s(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}function a(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var c=t("./util");c.isArray;return c.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function t(n,o){var a=r(this._values,this._promise);if(a instanceof e){a=a._target();var u=a._bitField;if(this._values=a,0==(50397184&u))return this._promise._setAsyncGuaranteed(),a._then(t,this._reject,void 0,this,o);if(0==(33554432&u))return 0!=(16777216&u)?this._reject(a._reason()):this._cancel();a=a._value()}if(null===(a=c.asArray(a))){var l=i("expecting an array or an iterable object but got "+c.classString(a)).reason();return void this._promise._rejectCallback(l,!1)}if(0===a.length)return void(-5===o?this._resolveEmptyArray():this._resolve(s(o)));this._iterate(a)},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;a<n;++a){var c=r(t[a],i);c instanceof e?(c=c._target(),s=c._bitField):s=null,o?null!==s&&c.suppressUnhandledRejections():null!==s?0==(50397184&s)?(c._proxy(this,a),this._values[a]=c):o=0!=(33554432&s)?this._promiseFulfilled(c._value(),a):0!=(16777216&s)?this._promiseRejected(c._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(c,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!x.test(t)}function i(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function s(t,e,n){var r=d.getDataPropertyOrDefault(t,e+n,b);return!!r&&i(r)}function a(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new _("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function c(t,e,n,r){for(var o=d.inheritedDataKeys(t),c=[],u=0;u<o.length;++u){var l=o[u],f=t[l],p=r===S||S(l,f,t);"function"!=typeof f||i(f)||s(t,l,e)||!r(l,f,t,p)||c.push(l,f)}return a(c,e,n),c}function u(t,r,i,o,s,a){function c(){var i=r;r===h&&(i=this);var o=new e(n);o._captureStackTrace();var s="string"==typeof l&&this!==u?this[l]:t,c=g(o,a);try{s.apply(i,m(arguments,c))}catch(t){o._rejectCallback(v(t),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var u=function(){return this}(),l=t;return"string"==typeof l&&(t=o),d.notEnumerableProp(c,"__isPromisified__",!0),c}function l(t,e,n,r,i){for(var o=new RegExp(j(e)+"$"),s=c(t,e,o,n),a=0,u=s.length;a<u;a+=2){var l=s[a],f=s[a+1],p=l+e;if(r===E)t[p]=E(l,h,l,f,e,i);else{var g=r(f,function(){return E(l,h,l,f,e,i)});d.notEnumerableProp(g,"__isPromisified__",!0),t[p]=g}}return d.toFastProperties(t),t}function f(t,e,n){return E(t,e,void 0,t,null,n)}var p,h={},d=t("./util"),g=t("./nodeback"),m=d.withAppended,v=d.maybeWrapAsError,y=d.canEvaluate,_=t("./errors").TypeError,b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+w.join("|")+")$"),S=function(t){return d.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},j=function(t){return t.replace(/([$])/,"\\$")},E=y?p:u;e.promisify=function(t,e){if("function"!=typeof t)throw new _("expecting a function but got "+d.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?h:e.context,o=!!e.multiArgs,s=f(t,n,o);return d.copyDescriptors(t,s,r),s},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!==(void 0===t?"undefined":o(t)))throw new _("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r="Async");var i=e.filter;"function"!=typeof i&&(i=S);var s=e.promisifier;if("function"!=typeof s&&(s=E),!d.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=d.inheritedDataKeys(t),c=0;c<a.length;++c){var u=t[a[c]];"constructor"!==a[c]&&d.isClass(u)&&(l(u.prototype,r,i,s,n),l(u,r,i,s,n))}return l(t,r,i,s,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==a&&t instanceof a)e=f(t),n=!0;else{var r=l.keys(t),i=r.length;e=new Array(2*i);for(var o=0;o<i;++o){var s=r[o];e[o]=t[s],e[o+i]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function s(t){var n,s=r(t);return u(s)?(n=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&n._propagateFrom(s,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,c=t("./util"),u=c.isObject,l=t("./es5");"function"==typeof Map&&(a=Map);var f=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),p=function(t){for(var e=new a,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};c.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var n;if(this._isMap)n=p(this._values);else{n={};for(var r=this.length(),i=0,o=this.length();i<o;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,r(this,0,this,e,this._front+this._length&e-1)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var c=r(t);if(c instanceof e)return a(c);if(null===(t=s.asArray(t)))return i("expecting an array or an iterable object but got "+s.classString(t));var u=new e(n);void 0!==o&&u._propagateFrom(o,3);for(var l=u._fulfill,f=u._reject,p=0,h=t.length;p<h;++p){var d=t[p];(void 0!==d||p in t)&&e.cast(d)._then(l,f,void 0,u,null)}return u}var s=t("./util"),a=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){
function a(t,n,r,i){this.constructor$(t);var s=p();this._fn=null===s?n:h.domainBind(s,n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function c(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function u(t,e,n,i){return"function"!=typeof e?r("expecting a function but got "+h.classString(e)):new a(t,e,n,i).promise()}function l(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(t){var n=this.array,r=n._promise,i=d(n._fn);r._pushContext();var o;(o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(n._currentCancellable=o);var a=r._popContext();return s.checkForgottenReturns(o,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var p=e._getDomain,h=t("./util"),d=h.tryCatch;h.inherits(a,n),a.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},a.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},a.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},a.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(c,c,void 0,n,this)},e.prototype.reduce=function(t,e){return u(this,t,e,null)},e.reduce=function(t,e,n,r){return u(t,e,n,r)}}},{"./util":36}],29:[function(t,n,r){"use strict";var o,s=t("./util"),a=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},c=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var u=i.setImmediate,l=e.nextTick;o=s.isRecentNode?function(t){u.call(i,t)}:function(t){l.call(e,t)}}else if("function"==typeof c&&"function"==typeof c.resolve){var f=c.resolve();o=function(t){f.then(t)}}else o="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:a:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div");new MutationObserver(function(){t.classList.toggle("foo"),n=!1}).observe(r,e);var i=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),i()}}();n.exports=o},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection;t("./util").inherits(i,n),i.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var s=t("./util"),a=t("./errors").RangeError,c=t("./errors").AggregateError,u=s.isArray,l={};s.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=u(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new c,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(l(t)){if(t instanceof e)return t;var i=o(t);if(i===u){r&&r._pushContext();var c=e.reject(i.e);return r&&r._popContext(),c}if("function"==typeof i){if(s(t)){var c=new e(n);return t._then(c._fulfill,c._reject,void 0,c,null),c}return a(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(t){return u.e=t,u}}function s(t){try{return f.call(t,"_promise0")}catch(t){return!1}}function a(t,r,i){function o(t){a&&(a._resolveCallback(t),a=null)}function s(t){a&&(a._rejectCallback(t,f,!0),a=null)}var a=new e(n),l=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var f=!0,p=c.tryCatch(r).call(t,o,s);return f=!1,a&&p===u&&(a._rejectCallback(p.e,!0,!0),a=null),l}var c=t("./util"),u=c.errorObj,l=c.isObject,f={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function s(t){throw clearTimeout(this.handle),t}var a=t("./util"),c=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var u=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,o){var s,a;return void 0!==o?(s=e.resolve(o)._then(u,null,null,t,void 0),r.cancellation()&&o instanceof e&&s._setOnCancel(o)):(s=new e(n),a=setTimeout(function(){s._fulfill()},+t),r.cancellation()&&s._setOnCancel(new i(a)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};e.prototype.delay=function(t){return l(t,this)};var f=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new c("operation timed out"):new c(e),a.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,a,c=new i(setTimeout(function(){n.isPending()&&f(n,e,a)},t));return r.cancellation()?(a=this.then(),n=a._then(o,s,void 0,c,void 0),n._setOnCancel(c)):n=this._then(o,s,void 0,c,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t){setTimeout(function(){throw t},0)}function c(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function u(t,n){function i(){if(s>=u)return l._fulfill();var o=c(t[s++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(t){return a(t)}if(o instanceof e)return o._then(i,a,null,null,null)}i()}var s=0,u=t.length,l=new e(o);return i(),l}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function p(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function h(t){this.length=t,this.promise=null,this[t-1]=null}var d=t("./util"),g=t("./errors").TypeError,m=t("./util").inherits,v=d.errorObj,y=d.tryCatch,_={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():_},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==_?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},m(f,l),f.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},h.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+d.classString(i));var o,a=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,a=!1):(o=arguments,t--);for(var c=new h(t),f=0;f<t;++f){var g=o[f];if(l.isDisposer(g)){var m=g;g=g.promise(),g._setDisposable(m)}else{var _=r(g);_ instanceof e&&(g=_._then(p,null,null,{resources:c,index:f},void 0))}c[f]=g}for(var b=new Array(c.length),f=0;f<b.length;++f)b[f]=e.resolve(c[f]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return v.e=n.error(),v;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}x._pushContext(),i=y(i);var r=a?i.apply(void 0,t):i(t),o=x._popContext();return s.checkForgottenReturns(r,o,"Promise.using",x),r}),x=w.lastly(function(){var t=new e.PromiseInspection(w);return u(c,t)});return c.promise=x,x._setOnCancel(c),x},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,i());throw new g}}},{"./errors":12,"./util":36}],36:[function(t,n,r){"use strict";function s(){try{var t=I;return I=null,t.apply(this,arguments)}catch(t){return R.e=t,R}}function a(t){return I=t,s}function c(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function u(t){return"function"==typeof t||"object"===(void 0===t?"undefined":o(t))&&null!==t}function l(t){return c(t)?new Error(_(t)):t}function f(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function p(t,e,n){if(!O.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function h(t,e,n){if(c(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return O.defineProperty(t,e,r),t}function d(t){throw t}function g(t){try{if("function"==typeof t){var e=O.names(t.prototype),n=O.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=L.test(t+"")&&O.names(t).length>0;if(n||r||i)return!0}return!1}catch(t){return!1}}function m(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function v(t){return M.test(t)}function y(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function _(t){try{return t+""}catch(t){return"[no string representation]"}}function b(t){return t instanceof Error||null!==t&&"object"===(void 0===t?"undefined":o(t))&&"string"==typeof t.message&&"string"==typeof t.name}function w(t){try{h(t,"isOperational",!0)}catch(t){}}function x(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)}function S(t){return b(t)&&O.propertyIsWritable(t,"stack")}function j(t){return{}.toString.call(t)}function E(t,e,n){for(var r=O.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{O.defineProperty(e,o,O.getDescriptor(t,o))}catch(t){}}}function k(t){return q?e.env[t]:void 0}function C(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}}function T(t,e){return t.bind(e)}var O=t("./es5"),A="undefined"==typeof navigator,R={e:{}},I,P="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i?i:void 0!==this?this:null,D=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},N=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(O.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(t){return r}for(var s=0;s<o.length;++s){var a=o[s];if(!i[a]){i[a]=!0;var c=Object.getOwnPropertyDescriptor(t,a);null!=c&&null==c.get&&null==c.set&&r.push(a)}}t=O.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<t.length;++s)if(r.call(t[s],o))continue t;i.push(o)}return i}}(),L=/this\s*\.\s*\S+\s*=/,M=/^[a-z$_][a-z$_0-9]*$/i,F=function(){return"stack"in new Error?function(t){return S(t)?t:new Error(_(t))}:function(t){if(S(t))return t;try{throw new Error(_(t))}catch(t){return t}}}(),B=function(t){return O.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var z="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};B=function(t){return O.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?z(t):null}}var U=void 0!==e&&"[object process]"===j(e).toLowerCase(),q=void 0!==e&&void 0!==e.env,W={isClass:g,isIdentifier:v,inheritedDataKeys:N,getDataPropertyOrDefault:p,thrower:d,isArray:O.isArray,asArray:B,notEnumerableProp:h,isPrimitive:c,isObject:u,isError:b,canEvaluate:A,errorObj:R,tryCatch:a,inherits:D,withAppended:f,maybeWrapAsError:l,toFastProperties:m,filledRange:y,toString:_,canAttachTrace:S,ensureErrorObject:F,originatesFromRejection:x,markAsOriginatingFromRejection:w,classString:j,copyDescriptors:E,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:U,hasEnvVariables:q,env:k,global:P,getNativePromise:C,domainBind:T};W.isRecentNode=W.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),W.isNode&&W.toFastProperties(e);try{throw new Error}catch(t){W.lastLineError=t}n.exports=W},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:492}],56:[function(t,e,n){},{}],57:[function(t,e,n){},{}],58:[function(t,e,n){function r(t){if(t&&!c(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function o(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function s(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var a=t("buffer").Buffer,c=a.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},u=n.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=e.charCodeAt(e.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var i=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),e+=t.toString(this.encoding,0,i);var i=e.length-1,r=e.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,i)}return e},u.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},u.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e}},{buffer:59}],59:[function(t,e,n){(function(e){"use strict";function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return s(this,t,e,n)}function s(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,n,r):"string"==typeof e?l(t,e,n):h(t,e)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,r){return a(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}function u(t,e){if(a(e),t=i(t,e<0?0:0|d(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(e,n);t=i(t,r);var s=t.write(e,n);return s!==r&&(t=t.slice(0,s)),t}function f(t,e){var n=e.length<0?0:0|d(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=o.prototype):t=f(t,e),t}function h(t,e){if(o.isBuffer(e)){var n=0|d(e.length);return t=i(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||$(e.length)?i(t,0):f(t,e);if("Buffer"===e.type&&K(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),o.alloc(+t)}function m(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return J(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(r)return J(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function _(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}var u;if(i){var l=-1;for(u=n;u<a;u++)if(o(t,u)===o(e,-1===l?0:u-l)){if(-1===l&&(l=u),u-l+1===c)return l*s}else-1!==l&&(u-=u-l),l=-1}else for(n+c>a&&(n=a-c),u=n;u>=0;u--){for(var f=!0,p=0;p<c;p++)if(o(t,u+p)!==o(e,p)){f=!1;break}if(f)return u}return-1}function w(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function x(t,e,n,r){return X(J(e,t.length-n),t,n,r)}function S(t,e,n,r){return X(V(e),t,n,r)}function j(t,e,n,r){return S(t,e,n,r)}function E(t,e,n,r){return X(G(e),t,n,r)}function k(t,e,n,r){return X(H(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?Y.fromByteArray(t):Y.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var c,u,l,f;switch(a){case 1:o<128&&(s=o);break;case 2:c=t[i+1],128==(192&c)&&(f=(31&o)<<6|63&c)>127&&(s=f);break;case 3:c=t[i+1],u=t[i+2],128==(192&c)&&128==(192&u)&&(f=(15&o)<<12|(63&c)<<6|63&u)>2047&&(f<55296||f>57343)&&(s=f);break;case 4:c=t[i+1],u=t[i+2],l=t[i+3],128==(192&c)&&128==(192&u)&&128==(192&l)&&(f=(15&o)<<18|(63&c)<<12|(63&u)<<6|63&l)>65535&&f<1114112&&(s=f)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return O(r)}function O(t){var e=t.length;if(e<=Z)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Z));return n}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function I(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=W(t[o]);return i}function P(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,r,i,s){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function F(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,i){return i||F(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(t,e,n,r,23,4),n+4}function z(t,e,n,r,i){return i||F(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(t,e,n,r,52,8),n+8}function U(t){if(t=q(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function q(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function W(t){return t<16?"0"+t.toString(16):t.toString(16)}function J(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function H(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function G(t){return Y.toByteArray(U(t))}function X(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function $(t){return t!==t}var Y=t("base64-js"),Q=t("ieee754"),K=t("isarray");n.Buffer=o,n.SlowBuffer=g,n.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),n.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return s(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return c(null,t,e,n)},o.allocUnsafe=function(t){return u(null,t)},o.allocUnsafeSlow=function(t){return u(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!K(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},o.byteLength=m,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},
o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):v.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,r,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var s=i-r,a=n-e,c=Math.min(s,a),u=this.slice(r,i),l=t.slice(e,n),f=0;f<c;++f)if(u[f]!==l[f]){s=u[f],a=l[f];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return _(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return _(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return S(this,t,e,n);case"latin1":case"binary":return j(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=o.prototype;else{var i=e-t;r=new o(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+t]}return r},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),Q.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),Q.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),Q.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),Q.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){N(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){N(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);N(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);N(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return z(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return z(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,s=r-n;if(this===t&&n<e&&e<r)for(i=s-1;i>=0;--i)t[i+e]=this[i+n];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},o.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var s;if("number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var a=o.isBuffer(t)?t:J(new o(t,r).toString()),c=a.length;for(s=0;s<n-e;++s)this[s+e]=a[s%c]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":53,ieee754:419,isarray:425}],60:[function(t,e,n){function r(t){o.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var i=t("safe-buffer").Buffer,o=t("stream").Transform,s=t("string_decoder").StringDecoder;t("inherits")(r,o),r.prototype.update=function(t,e,n){"string"==typeof t&&(t=i.from(t,e));var r=this._update(t);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},r.prototype.setAutoPadding=function(){},r.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},r.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},r.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},r.prototype._transform=function(t,e,n){var r;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){r=t}finally{n(r)}},r.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},r.prototype._finalOrDigest=function(t){var e=this.__final()||i.alloc(0);return t&&(e=this._toString(e,t,!0)),e},r.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new s(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var r=this._decoder.write(t);return n&&(r+=this._decoder.end()),r},e.exports=r},{inherits:421,"safe-buffer":515,stream:545,string_decoder:58}],61:[function(t,e,n){var r=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},{}],62:[function(t,e,n){function r(t){if(t)return i(t)}function i(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}void 0!==e&&(e.exports=r),r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===e||r.fn===e){n.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],63:[function(t,e,n){e.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],64:[function(t,e,n){t("../../modules/core.regexp.escape"),e.exports=t("../../modules/_core").RegExp.escape},{"../../modules/_core":85,"../../modules/core.regexp.escape":190}],65:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],66:[function(t,e,n){var r=t("./_cof");e.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},{"./_cof":80}],67:[function(t,e,n){var r=t("./_wks")("unscopables"),i=Array.prototype;void 0==i[r]&&t("./_hide")(i,r,{}),e.exports=function(t){i[r][t]=!0}},{"./_hide":104,"./_wks":188}],68:[function(t,e,n){e.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},{}],69:[function(t,e,n){var r=t("./_is-object");e.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":113}],70:[function(t,e,n){"use strict";var r=t("./_to-object"),i=t("./_to-absolute-index"),o=t("./_to-length");e.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n.length),a=i(t,s),c=i(e,s),u=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===u?s:i(u,s))-c,s-a),f=1;for(c<a&&a<c+l&&(f=-1,c+=l-1,a+=l-1);l-- >0;)c in n?n[a]=n[c]:delete n[a],a+=f,c+=f;return n}},{"./_to-absolute-index":173,"./_to-length":177,"./_to-object":178}],71:[function(t,e,n){"use strict";var r=t("./_to-object"),i=t("./_to-absolute-index"),o=t("./_to-length");e.exports=function(t){for(var e=r(this),n=o(e.length),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),c=s>2?arguments[2]:void 0,u=void 0===c?n:i(c,n);u>a;)e[a++]=t;return e}},{"./_to-absolute-index":173,"./_to-length":177,"./_to-object":178}],72:[function(t,e,n){var r=t("./_for-of");e.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},{"./_for-of":101}],73:[function(t,e,n){var r=t("./_to-iobject"),i=t("./_to-length"),o=t("./_to-absolute-index");e.exports=function(t){return function(e,n,s){var a,c=r(e),u=i(c.length),l=o(s,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},{"./_to-absolute-index":173,"./_to-iobject":176,"./_to-length":177}],74:[function(t,e,n){var r=t("./_ctx"),i=t("./_iobject"),o=t("./_to-object"),s=t("./_to-length"),a=t("./_array-species-create");e.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,f=6==t,p=5==t||f,h=e||a;return function(e,a,d){for(var g,m,v=o(e),y=i(v),_=r(a,d,3),b=s(y.length),w=0,x=n?h(e,b):c?h(e,0):void 0;b>w;w++)if((p||w in y)&&(g=y[w],m=_(g,w,v),t))if(n)x[w]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:x.push(g)}else if(l)return!1;return f?-1:u||l?l:x}}},{"./_array-species-create":77,"./_ctx":87,"./_iobject":109,"./_to-length":177,"./_to-object":178}],75:[function(t,e,n){var r=t("./_a-function"),i=t("./_to-object"),o=t("./_iobject"),s=t("./_to-length");e.exports=function(t,e,n,a,c){r(e);var u=i(t),l=o(u),f=s(u.length),p=c?f-1:0,h=c?-1:1;if(n<2)for(;;){if(p in l){a=l[p],p+=h;break}if(p+=h,c?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;c?p>=0:f>p;p+=h)p in l&&(a=e(a,l[p],p,u));return a}},{"./_a-function":65,"./_iobject":109,"./_to-length":177,"./_to-object":178}],76:[function(t,e,n){var r=t("./_is-object"),i=t("./_is-array"),o=t("./_wks")("species");e.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},{"./_is-array":111,"./_is-object":113,"./_wks":188}],77:[function(t,e,n){var r=t("./_array-species-constructor");e.exports=function(t,e){return new(r(t))(e)}},{"./_array-species-constructor":76}],78:[function(t,e,n){"use strict";var r=t("./_a-function"),i=t("./_is-object"),o=t("./_invoke"),s=[].slice,a={},c=function(t,e,n){if(!(e in a)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";a[e]=Function("F,a","return new F("+r.join(",")+")")}return a[e](t,n)};e.exports=Function.bind||function(t){var e=r(this),n=s.call(arguments,1),a=function r(){var i=n.concat(s.call(arguments));return this instanceof r?c(e,i.length,i):o(e,i,t)};return i(e.prototype)&&(a.prototype=e.prototype),a}},{"./_a-function":65,"./_invoke":108,"./_is-object":113}],79:[function(t,e,n){var r=t("./_cof"),i=t("./_wks")("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};e.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},{"./_cof":80,"./_wks":188}],80:[function(t,e,n){var r={}.toString;e.exports=function(t){return r.call(t).slice(8,-1)}},{}],81:[function(t,e,n){"use strict";var r=t("./_object-dp").f,i=t("./_object-create"),o=t("./_redefine-all"),s=t("./_ctx"),a=t("./_an-instance"),c=t("./_for-of"),u=t("./_iter-define"),l=t("./_iter-step"),f=t("./_set-species"),p=t("./_descriptors"),h=t("./_meta").fastKey,d=t("./_validate-collection"),g=p?"_s":"size",m=function(t,e){var n,r=h(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};e.exports={getConstructor:function(t,e,n,u){var l=t(function(t,r){a(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=r&&c(r,n,t[u],t)});return o(l.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=d(this,e),r=m(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(t){d(this,e);for(var n,r=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(d(this,e),t)}}),p&&r(l.prototype,"size",{get:function(){return d(this,e)[g]}}),l},def:function(t,e,n){var r,i,o=m(t,e);return o?o.v=n:(t._l=o={i:i=h(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:m,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?l(0,n.k):"values"==e?l(0,n.v):l(0,[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),f(e)}}},{"./_an-instance":68,"./_ctx":87,"./_descriptors":91,"./_for-of":101,"./_iter-define":117,"./_iter-step":119,"./_meta":127,"./_object-create":132,"./_object-dp":133,"./_redefine-all":152,"./_set-species":159,"./_validate-collection":185}],82:[function(t,e,n){var r=t("./_classof"),i=t("./_array-from-iterable");e.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},{"./_array-from-iterable":72,"./_classof":79}],83:[function(t,e,n){"use strict";var r=t("./_redefine-all"),i=t("./_meta").getWeak,o=t("./_an-object"),s=t("./_is-object"),a=t("./_an-instance"),c=t("./_for-of"),u=t("./_array-methods"),l=t("./_has"),f=t("./_validate-collection"),p=u(5),h=u(6),d=0,g=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},v=function(t,e){return p(t.a,function(t){return t[0]===e})};m.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=h(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(t,e,n,o){var u=t(function(t,r){a(t,u,e,"_i"),t._t=e,t._i=d++,t._l=void 0,void 0!=r&&c(r,n,t[o],t)});return r(u.prototype,{delete:function(t){if(!s(t))return!1;var n=i(t);return!0===n?g(f(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=i(t);return!0===n?g(f(this,e)).has(t):n&&l(n,this._i)}}),u},def:function(t,e,n){var r=i(o(e),!0);return!0===r?g(t).set(e,n):r[t._i]=n,t},ufstore:g}},{"./_an-instance":68,"./_an-object":69,"./_array-methods":74,"./_for-of":101,"./_has":103,"./_is-object":113,"./_meta":127,"./_redefine-all":152,"./_validate-collection":185}],84:[function(t,e,n){"use strict";var r=t("./_global"),i=t("./_export"),o=t("./_redefine"),s=t("./_redefine-all"),a=t("./_meta"),c=t("./_for-of"),u=t("./_an-instance"),l=t("./_is-object"),f=t("./_fails"),p=t("./_iter-detect"),h=t("./_set-to-string-tag"),d=t("./_inherit-if-required");e.exports=function(t,e,n,g,m,v){var y=r[t],_=y,b=m?"set":"add",w=_&&_.prototype,x={},S=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof _&&(v||w.forEach&&!f(function(){(new _).entries().next()}))){var j=new _,E=j[b](v?{}:-0,1)!=j,k=f(function(){j.has(1)}),C=p(function(t){new _(t)}),T=!v&&f(function(){for(var t=new _,e=5;e--;)t[b](e,e);return!t.has(-0)});C||(_=e(function(e,n){u(e,_,t);var r=d(new y,e,_);return void 0!=n&&c(n,m,r[b],r),r}),_.prototype=w,w.constructor=_),(k||T)&&(S("delete"),S("has"),m&&S("get")),(T||E)&&S(b),v&&w.clear&&delete w.clear}else _=g.getConstructor(e,t,m,b),s(_.prototype,n),a.NEED=!0;return h(_,t),x[t]=_,i(i.G+i.W+i.F*(_!=y),x),v||g.setStrong(_,t,m),_}},{"./_an-instance":68,"./_export":95,"./_fails":97,"./_for-of":101,"./_global":102,"./_inherit-if-required":107,"./_is-object":113,"./_iter-detect":118,"./_meta":127,"./_redefine":153,"./_redefine-all":152,"./_set-to-string-tag":160}],85:[function(t,e,n){var r=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=r)},{}],86:[function(t,e,n){"use strict";var r=t("./_object-dp"),i=t("./_property-desc");e.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},{"./_object-dp":133,"./_property-desc":151}],87:[function(t,e,n){var r=t("./_a-function");e.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":65}],88:[function(t,e,n){"use strict";var r=t("./_fails"),i=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},{"./_fails":97}],89:[function(t,e,n){"use strict";var r=t("./_an-object"),i=t("./_to-primitive");e.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},{"./_an-object":69,"./_to-primitive":179}],90:[function(t,e,n){e.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},{}],91:[function(t,e,n){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":97}],92:[function(t,e,n){var r=t("./_is-object"),i=t("./_global").document,o=r(i)&&r(i.createElement);e.exports=function(t){return o?i.createElement(t):{}}},{"./_global":102,"./_is-object":113}],93:[function(t,e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],94:[function(t,e,n){var r=t("./_object-keys"),i=t("./_object-gops"),o=t("./_object-pie");e.exports=function(t){var e=r(t),n=i.f;if(n)for(var s,a=n(t),c=o.f,u=0;a.length>u;)c.call(t,s=a[u++])&&e.push(s);return e}},{"./_object-gops":139,"./_object-keys":142,"./_object-pie":143}],95:[function(t,e,n){var r=t("./_global"),i=t("./_core"),o=t("./_hide"),s=t("./_redefine"),a=t("./_ctx"),c=function t(e,n,c){var u,l,f,p,h=e&t.F,d=e&t.G,g=e&t.S,m=e&t.P,v=e&t.B,y=d?r:g?r[n]||(r[n]={}):(r[n]||{}).prototype,_=d?i:i[n]||(i[n]={}),b=_.prototype||(_.prototype={});d&&(c=n);for(u in c)l=!h&&y&&void 0!==y[u],f=(l?y:c)[u],p=v&&l?a(f,r):m&&"function"==typeof f?a(Function.call,f):f,y&&s(y,u,f,e&t.U),_[u]!=f&&o(_,u,p),m&&b[u]!=f&&(b[u]=f)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},{"./_core":85,"./_ctx":87,"./_global":102,"./_hide":104,"./_redefine":153}],96:[function(t,e,n){var r=t("./_wks")("match");e.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},{"./_wks":188}],97:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],98:[function(t,e,n){"use strict";var r=t("./_hide"),i=t("./_redefine"),o=t("./_fails"),s=t("./_defined"),a=t("./_wks");e.exports=function(t,e,n){var c=a(t),u=n(s,c,""[t]),l=u[0],f=u[1];o(function(){var e={};return e[c]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,l),r(RegExp.prototype,c,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}},{"./_defined":90,"./_fails":97,"./_hide":104,"./_redefine":153,"./_wks":188}],99:[function(t,e,n){"use strict";var r=t("./_an-object");e.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{"./_an-object":69}],100:[function(t,e,n){"use strict";function r(t,e,n,u,l,f,p,h){for(var d,g,m=l,v=0,y=!!p&&a(p,h,3);v<u;){if(v in n){if(d=y?y(n[v],v,e):n[v],g=!1,o(d)&&(g=d[c],g=void 0!==g?!!g:i(d)),g&&f>0)m=r(t,e,d,s(d.length),m,f-1)-1;else{if(m>=9007199254740991)throw TypeError();t[m]=d}m++}v++}return m}var i=t("./_is-array"),o=t("./_is-object"),s=t("./_to-length"),a=t("./_ctx"),c=t("./_wks")("isConcatSpreadable");e.exports=r},{"./_ctx":87,"./_is-array":111,"./_is-object":113,"./_to-length":177,"./_wks":188}],101:[function(t,e,n){var r=t("./_ctx"),i=t("./_iter-call"),o=t("./_is-array-iter"),s=t("./_an-object"),a=t("./_to-length"),c=t("./core.get-iterator-method"),u={},l={},n=e.exports=function(t,e,n,f,p){var h,d,g,m,v=p?function(){return t}:c(t),y=r(n,f,e?2:1),_=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(h=a(t.length);h>_;_++)if((m=e?y(s(d=t[_])[0],d[1]):y(t[_]))===u||m===l)return m}else for(g=v.call(t);!(d=g.next()).done;)if((m=i(g,y,d.value,e))===u||m===l)return m};n.BREAK=u,n.RETURN=l},{"./_an-object":69,"./_ctx":87,"./_is-array-iter":110,"./_iter-call":115,"./_to-length":177,"./core.get-iterator-method":189}],102:[function(t,e,n){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],103:[function(t,e,n){var r={}.hasOwnProperty;e.exports=function(t,e){return r.call(t,e)}},{}],104:[function(t,e,n){var r=t("./_object-dp"),i=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},{"./_descriptors":91,"./_object-dp":133,"./_property-desc":151}],105:[function(t,e,n){var r=t("./_global").document;e.exports=r&&r.documentElement},{"./_global":102}],106:[function(t,e,n){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":91,"./_dom-create":92,"./_fails":97}],107:[function(t,e,n){var r=t("./_is-object"),i=t("./_set-proto").set;e.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},{"./_is-object":113,"./_set-proto":158}],108:[function(t,e,n){e.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],109:[function(t,e,n){var r=t("./_cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},{"./_cof":80}],110:[function(t,e,n){var r=t("./_iterators"),i=t("./_wks")("iterator"),o=Array.prototype;e.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},{"./_iterators":120,"./_wks":188}],111:[function(t,e,n){var r=t("./_cof");e.exports=Array.isArray||function(t){return"Array"==r(t)}},{"./_cof":80}],112:[function(t,e,n){var r=t("./_is-object"),i=Math.floor;e.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},{"./_is-object":113}],113:[function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.exports=function(t){return"object"===(void 0===t?"undefined":r(t))?null!==t:"function"==typeof t}},{}],114:[function(t,e,n){var r=t("./_is-object"),i=t("./_cof"),o=t("./_wks")("match");e.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},{"./_cof":80,"./_is-object":113,"./_wks":188}],115:[function(t,e,n){var r=t("./_an-object");e.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},{"./_an-object":69}],116:[function(t,e,n){"use strict";var r=t("./_object-create"),i=t("./_property-desc"),o=t("./_set-to-string-tag"),s={};t("./_hide")(s,t("./_wks")("iterator"),function(){return this}),e.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},{"./_hide":104,"./_object-create":132,"./_property-desc":151,"./_set-to-string-tag":160,"./_wks":188}],117:[function(t,e,n){"use strict";var r=t("./_library"),i=t("./_export"),o=t("./_redefine"),s=t("./_hide"),a=t("./_iterators"),c=t("./_iter-create"),u=t("./_set-to-string-tag"),l=t("./_object-gpo"),f=t("./_wks")("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(t,e,n,d,g,m,v){c(n,e,d);var y,_,b,w=function(t){if(!p&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",S="values"==g,j=!1,E=t.prototype,k=E[f]||E["@@iterator"]||g&&E[g],C=k||w(g),T=g?S?w("entries"):C:void 0,O="Array"==e?E.entries||k:k;if(O&&(b=l(O.call(new t)))!==Object.prototype&&b.next&&(u(b,x,!0),r||"function"==typeof b[f]||s(b,f,h)),S&&k&&"values"!==k.name&&(j=!0,C=function(){return k.call(this)}),r&&!v||!p&&!j&&E[f]||s(E,f,C),a[e]=C,a[x]=h,g)if(y={values:S?C:w("values"),keys:m?C:w("keys"),entries:T},v)for(_ in y)_ in E||o(E,_,y[_]);else i(i.P+i.F*(p||j),e,y);return y}},{"./_export":95,"./_hide":104,"./_iter-create":116,"./_iterators":120,"./_library":121,"./_object-gpo":140,"./_redefine":153,"./_set-to-string-tag":160,"./_wks":188}],118:[function(t,e,n){var r=t("./_wks")("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}e.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(t){}return n}},{"./_wks":188}],119:[function(t,e,n){e.exports=function(t,e){return{value:e,done:!!t}}},{}],120:[function(t,e,n){e.exports={}},{}],121:[function(t,e,n){e.exports=!1},{}],122:[function(t,e,n){var r=Math.expm1;e.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:r},{}],123:[function(t,e,n){var r=t("./_math-sign"),i=Math.pow,o=i(2,-52),s=i(2,-23),a=i(2,127)*(2-s),c=i(2,-126),u=function(t){return t+1/o-1/o};e.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<c?l*u(i/c/s)*c*s:(e=(1+s/o)*i,n=e-(e-i),n>a||n!=n?l*(1/0):l*n)}},{"./_math-sign":126}],124:[function(t,e,n){e.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},{}],
125:[function(t,e,n){e.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-r)/(n-e)+r}},{}],126:[function(t,e,n){e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],127:[function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("./_uid")("meta"),o=t("./_is-object"),s=t("./_has"),a=t("./_object-dp").f,c=0,u=Object.isExtensible||function(){return!0},l=!t("./_fails")(function(){return u(Object.preventExtensions({}))}),f=function(t){a(t,i,{value:{i:"O"+ ++c,w:{}}})},p=function(t,e){if(!o(t))return"symbol"==(void 0===t?"undefined":r(t))?t:("string"==typeof t?"S":"P")+t;if(!s(t,i)){if(!u(t))return"F";if(!e)return"E";f(t)}return t[i].i},h=function(t,e){if(!s(t,i)){if(!u(t))return!0;if(!e)return!1;f(t)}return t[i].w},d=function(t){return l&&g.NEED&&u(t)&&!s(t,i)&&f(t),t},g=e.exports={KEY:i,NEED:!1,fastKey:p,getWeak:h,onFreeze:d}},{"./_fails":97,"./_has":103,"./_is-object":113,"./_object-dp":133,"./_uid":183}],128:[function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("./es6.map"),o=t("./_export"),s=t("./_shared")("metadata"),a=s.store||(s.store=new(t("./es6.weak-map"))),c=function(t,e,n){var r=a.get(t);if(!r){if(!n)return;a.set(t,r=new i)}var o=r.get(e);if(!o){if(!n)return;r.set(e,o=new i)}return o},u=function(t,e,n){var r=c(e,n,!1);return void 0!==r&&r.has(t)},l=function(t,e,n){var r=c(e,n,!1);return void 0===r?void 0:r.get(t)},f=function(t,e,n,r){c(n,r,!0).set(t,e)},p=function(t,e){var n=c(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},h=function(t){return void 0===t||"symbol"==(void 0===t?"undefined":r(t))?t:String(t)},d=function(t){o(o.S,"Reflect",t)};e.exports={store:a,map:c,has:u,get:l,set:f,keys:p,key:h,exp:d}},{"./_export":95,"./_shared":162,"./es6.map":220,"./es6.weak-map":326}],129:[function(t,e,n){var r=t("./_global"),i=t("./_task").set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==t("./_cof")(s);e.exports=function(){var t,e,n,u=function(){var r,i;for(c&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var l=a.resolve();n=function(){l.then(u)}}else n=function(){i.call(r,u)};else{var f=!0,p=document.createTextNode("");new o(u).observe(p,{characterData:!0}),n=function(){p.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},{"./_cof":80,"./_global":102,"./_task":172}],130:[function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=t("./_a-function");e.exports.f=function(t){return new r(t)}},{"./_a-function":65}],131:[function(t,e,n){"use strict";var r=t("./_object-keys"),i=t("./_object-gops"),o=t("./_object-pie"),s=t("./_to-object"),a=t("./_iobject"),c=Object.assign;e.exports=!c||t("./_fails")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){for(var n=s(t),c=arguments.length,u=1,l=i.f,f=o.f;c>u;)for(var p,h=a(arguments[u++]),d=l?r(h).concat(l(h)):r(h),g=d.length,m=0;g>m;)f.call(h,p=d[m++])&&(n[p]=h[p]);return n}:c},{"./_fails":97,"./_iobject":109,"./_object-gops":139,"./_object-keys":142,"./_object-pie":143,"./_to-object":178}],132:[function(t,e,n){var r=t("./_an-object"),i=t("./_object-dps"),o=t("./_enum-bug-keys"),s=t("./_shared-key")("IE_PROTO"),a=function(){},c=function(){var e,n=t("./_dom-create")("iframe"),r=o.length;for(n.style.display="none",t("./_html").appendChild(n),n.src="javascript:",e=n.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[o[r]];return c()};e.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=c(),void 0===e?n:i(n,e)}},{"./_an-object":69,"./_dom-create":92,"./_enum-bug-keys":93,"./_html":105,"./_object-dps":134,"./_shared-key":161}],133:[function(t,e,n){var r=t("./_an-object"),i=t("./_ie8-dom-define"),o=t("./_to-primitive"),s=Object.defineProperty;n.f=t("./_descriptors")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{"./_an-object":69,"./_descriptors":91,"./_ie8-dom-define":106,"./_to-primitive":179}],134:[function(t,e,n){var r=t("./_object-dp"),i=t("./_an-object"),o=t("./_object-keys");e.exports=t("./_descriptors")?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,c=0;a>c;)r.f(t,n=s[c++],e[n]);return t}},{"./_an-object":69,"./_descriptors":91,"./_object-dp":133,"./_object-keys":142}],135:[function(t,e,n){"use strict";e.exports=t("./_library")||!t("./_fails")(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete t("./_global")[e]})},{"./_fails":97,"./_global":102,"./_library":121}],136:[function(t,e,n){var r=t("./_object-pie"),i=t("./_property-desc"),o=t("./_to-iobject"),s=t("./_to-primitive"),a=t("./_has"),c=t("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;n.f=t("./_descriptors")?u:function(t,e){if(t=o(t),e=s(e,!0),c)try{return u(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},{"./_descriptors":91,"./_has":103,"./_ie8-dom-define":106,"./_object-pie":143,"./_property-desc":151,"./_to-iobject":176,"./_to-primitive":179}],137:[function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("./_to-iobject"),o=t("./_object-gopn").f,s={}.toString,a="object"==("undefined"==typeof window?"undefined":r(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return o(t)}catch(t){return a.slice()}};e.exports.f=function(t){return a&&"[object Window]"==s.call(t)?c(t):o(i(t))}},{"./_object-gopn":138,"./_to-iobject":176}],138:[function(t,e,n){var r=t("./_object-keys-internal"),i=t("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},{"./_enum-bug-keys":93,"./_object-keys-internal":141}],139:[function(t,e,n){n.f=Object.getOwnPropertySymbols},{}],140:[function(t,e,n){var r=t("./_has"),i=t("./_to-object"),o=t("./_shared-key")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{"./_has":103,"./_shared-key":161,"./_to-object":178}],141:[function(t,e,n){var r=t("./_has"),i=t("./_to-iobject"),o=t("./_array-includes")(!1),s=t("./_shared-key")("IE_PROTO");e.exports=function(t,e){var n,a=i(t),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~o(u,n)||u.push(n));return u}},{"./_array-includes":73,"./_has":103,"./_shared-key":161,"./_to-iobject":176}],142:[function(t,e,n){var r=t("./_object-keys-internal"),i=t("./_enum-bug-keys");e.exports=Object.keys||function(t){return r(t,i)}},{"./_enum-bug-keys":93,"./_object-keys-internal":141}],143:[function(t,e,n){n.f={}.propertyIsEnumerable},{}],144:[function(t,e,n){var r=t("./_export"),i=t("./_core"),o=t("./_fails");e.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",s)}},{"./_core":85,"./_export":95,"./_fails":97}],145:[function(t,e,n){var r=t("./_object-keys"),i=t("./_to-iobject"),o=t("./_object-pie").f;e.exports=function(t){return function(e){for(var n,s=i(e),a=r(s),c=a.length,u=0,l=[];c>u;)o.call(s,n=a[u++])&&l.push(t?[n,s[n]]:s[n]);return l}}},{"./_object-keys":142,"./_object-pie":143,"./_to-iobject":176}],146:[function(t,e,n){var r=t("./_object-gopn"),i=t("./_object-gops"),o=t("./_an-object"),s=t("./_global").Reflect;e.exports=s&&s.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},{"./_an-object":69,"./_global":102,"./_object-gopn":138,"./_object-gops":139}],147:[function(t,e,n){var r=t("./_global").parseFloat,i=t("./_string-trim").trim;e.exports=1/r(t("./_string-ws")+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},{"./_global":102,"./_string-trim":170,"./_string-ws":171}],148:[function(t,e,n){var r=t("./_global").parseInt,i=t("./_string-trim").trim,o=t("./_string-ws"),s=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(s.test(n)?16:10))}:r},{"./_global":102,"./_string-trim":170,"./_string-ws":171}],149:[function(t,e,n){e.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},{}],150:[function(t,e,n){var r=t("./_an-object"),i=t("./_is-object"),o=t("./_new-promise-capability");e.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},{"./_an-object":69,"./_is-object":113,"./_new-promise-capability":130}],151:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],152:[function(t,e,n){var r=t("./_redefine");e.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},{"./_redefine":153}],153:[function(t,e,n){var r=t("./_global"),i=t("./_hide"),o=t("./_has"),s=t("./_uid")("src"),a=Function.toString,c=(""+a).split("toString");t("./_core").inspectSource=function(t){return a.call(t)},(e.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,s)||i(n,s,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},{"./_core":85,"./_global":102,"./_has":103,"./_hide":104,"./_uid":183}],154:[function(t,e,n){e.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},{}],155:[function(t,e,n){e.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},{}],156:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_a-function"),o=t("./_ctx"),s=t("./_for-of");e.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,a,c=arguments[1];return i(this),e=void 0!==c,e&&i(c),void 0==t?new this:(n=[],e?(r=0,a=o(c,arguments[2],2),s(t,!1,function(t){n.push(a(t,r++))})):s(t,!1,n.push,n),new this(n))}})}},{"./_a-function":65,"./_ctx":87,"./_export":95,"./_for-of":101}],157:[function(t,e,n){"use strict";var r=t("./_export");e.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},{"./_export":95}],158:[function(t,e,n){var r=t("./_is-object"),i=t("./_an-object"),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{r=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2),r(e,[]),n=!(e instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:o}},{"./_an-object":69,"./_ctx":87,"./_is-object":113,"./_object-gopd":136}],159:[function(t,e,n){"use strict";var r=t("./_global"),i=t("./_object-dp"),o=t("./_descriptors"),s=t("./_wks")("species");e.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},{"./_descriptors":91,"./_global":102,"./_object-dp":133,"./_wks":188}],160:[function(t,e,n){var r=t("./_object-dp").f,i=t("./_has"),o=t("./_wks")("toStringTag");e.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},{"./_has":103,"./_object-dp":133,"./_wks":188}],161:[function(t,e,n){var r=t("./_shared")("keys"),i=t("./_uid");e.exports=function(t){return r[t]||(r[t]=i(t))}},{"./_shared":162,"./_uid":183}],162:[function(t,e,n){var r=t("./_global"),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(t){return i[t]||(i[t]={})}},{"./_global":102}],163:[function(t,e,n){var r=t("./_an-object"),i=t("./_a-function"),o=t("./_wks")("species");e.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[o])?e:i(n)}},{"./_a-function":65,"./_an-object":69,"./_wks":188}],164:[function(t,e,n){"use strict";var r=t("./_fails");e.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},{"./_fails":97}],165:[function(t,e,n){var r=t("./_to-integer"),i=t("./_defined");e.exports=function(t){return function(e,n){var o,s,a=String(i(e)),c=r(n),u=a.length;return c<0||c>=u?t?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}}},{"./_defined":90,"./_to-integer":175}],166:[function(t,e,n){var r=t("./_is-regexp"),i=t("./_defined");e.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},{"./_defined":90,"./_is-regexp":114}],167:[function(t,e,n){var r=t("./_export"),i=t("./_fails"),o=t("./_defined"),s=/"/g,a=function(t,e,n,r){var i=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(r).replace(s,"&quot;")+'"'),a+">"+i+"</"+e+">"};e.exports=function(t,e){var n={};n[t]=e(a),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},{"./_defined":90,"./_export":95,"./_fails":97}],168:[function(t,e,n){var r=t("./_to-length"),i=t("./_string-repeat"),o=t("./_defined");e.exports=function(t,e,n,s){var a=String(o(t)),c=a.length,u=void 0===n?" ":String(n),l=r(e);if(l<=c||""==u)return a;var f=l-c,p=i.call(u,Math.ceil(f/u.length));return p.length>f&&(p=p.slice(0,f)),s?p+a:a+p}},{"./_defined":90,"./_string-repeat":169,"./_to-length":177}],169:[function(t,e,n){"use strict";var r=t("./_to-integer"),i=t("./_defined");e.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},{"./_defined":90,"./_to-integer":175}],170:[function(t,e,n){var r=t("./_export"),i=t("./_defined"),o=t("./_fails"),s=t("./_string-ws"),a="["+s+"]",c="​",u=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),f=function(t,e,n){var i={},a=o(function(){return!!s[t]()||c[t]()!=c}),u=i[t]=a?e(p):s[t];n&&(i[n]=u),r(r.P+r.F*a,"String",i)},p=f.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};e.exports=f},{"./_defined":90,"./_export":95,"./_fails":97,"./_string-ws":171}],171:[function(t,e,n){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],172:[function(t,e,n){var r,i,o,s=t("./_ctx"),a=t("./_invoke"),c=t("./_html"),u=t("./_dom-create"),l=t("./_global"),f=l.process,p=l.setImmediate,h=l.clearImmediate,d=l.MessageChannel,g=l.Dispatch,m=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},_=function(t){y.call(t.data)};p&&h||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++m]=function(){a("function"==typeof t?t:Function(t),e)},r(m),m},h=function(t){delete v[t]},"process"==t("./_cof")(f)?r=function(t){f.nextTick(s(y,t,1))}:g&&g.now?r=function(t){g.now(s(y,t,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=_,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",_,!1)):r="onreadystatechange"in u("script")?function(t){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),e.exports={set:p,clear:h}},{"./_cof":80,"./_ctx":87,"./_dom-create":92,"./_global":102,"./_html":105,"./_invoke":108}],173:[function(t,e,n){var r=t("./_to-integer"),i=Math.max,o=Math.min;e.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},{"./_to-integer":175}],174:[function(t,e,n){var r=t("./_to-integer"),i=t("./_to-length");e.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},{"./_to-integer":175,"./_to-length":177}],175:[function(t,e,n){var r=Math.ceil,i=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)}},{}],176:[function(t,e,n){var r=t("./_iobject"),i=t("./_defined");e.exports=function(t){return r(i(t))}},{"./_defined":90,"./_iobject":109}],177:[function(t,e,n){var r=t("./_to-integer"),i=Math.min;e.exports=function(t){return t>0?i(r(t),9007199254740991):0}},{"./_to-integer":175}],178:[function(t,e,n){var r=t("./_defined");e.exports=function(t){return Object(r(t))}},{"./_defined":90}],179:[function(t,e,n){var r=t("./_is-object");e.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":113}],180:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};if(t("./_descriptors")){var i=t("./_library"),o=t("./_global"),s=t("./_fails"),a=t("./_export"),c=t("./_typed"),u=t("./_typed-buffer"),l=t("./_ctx"),f=t("./_an-instance"),p=t("./_property-desc"),h=t("./_hide"),d=t("./_redefine-all"),g=t("./_to-integer"),m=t("./_to-length"),v=t("./_to-index"),y=t("./_to-absolute-index"),_=t("./_to-primitive"),b=t("./_has"),w=t("./_classof"),x=t("./_is-object"),S=t("./_to-object"),j=t("./_is-array-iter"),E=t("./_object-create"),k=t("./_object-gpo"),C=t("./_object-gopn").f,T=t("./core.get-iterator-method"),O=t("./_uid"),A=t("./_wks"),R=t("./_array-methods"),I=t("./_array-includes"),P=t("./_species-constructor"),D=t("./es6.array.iterator"),N=t("./_iterators"),L=t("./_iter-detect"),M=t("./_set-species"),F=t("./_array-fill"),B=t("./_array-copy-within"),z=t("./_object-dp"),U=t("./_object-gopd"),q=z.f,W=U.f,J=o.RangeError,V=o.TypeError,H=o.Uint8Array,G=Array.prototype,X=u.ArrayBuffer,$=u.DataView,Y=R(0),Q=R(2),K=R(3),Z=R(4),tt=R(5),et=R(6),nt=I(!0),rt=I(!1),it=D.values,ot=D.keys,st=D.entries,at=G.lastIndexOf,ct=G.reduce,ut=G.reduceRight,lt=G.join,ft=G.sort,pt=G.slice,ht=G.toString,dt=G.toLocaleString,gt=A("iterator"),mt=A("toStringTag"),vt=O("typed_constructor"),yt=O("def_constructor"),_t=c.CONSTR,bt=c.TYPED,wt=c.VIEW,xt=R(1,function(t,e){return Ct(P(t,t[yt]),e)}),St=s(function(){return 1===new H(new Uint16Array([1]).buffer)[0]}),jt=!!H&&!!H.prototype.set&&s(function(){new H(1).set({})}),Et=function(t,e){var n=g(t);if(n<0||n%e)throw J("Wrong offset!");return n},kt=function(t){if(x(t)&&bt in t)return t;throw V(t+" is not a typed array!")},Ct=function(t,e){if(!(x(t)&&vt in t))throw V("It is not a typed array constructor!");return new t(e)},Tt=function(t,e){return Ot(P(t,t[yt]),e)},Ot=function(t,e){for(var n=0,r=e.length,i=Ct(t,r);r>n;)i[n]=e[n++];return i},At=function(t,e,n){q(t,e,{get:function(){return this._d[n]}})},Rt=function(t){var e,n,r,i,o,s,a=S(t),c=arguments.length,u=c>1?arguments[1]:void 0,f=void 0!==u,p=T(a);if(void 0!=p&&!j(p)){for(s=p.call(a),r=[],e=0;!(o=s.next()).done;e++)r.push(o.value);a=r}for(f&&c>2&&(u=l(u,arguments[2],2)),e=0,n=m(a.length),i=Ct(this,n);n>e;e++)i[e]=f?u(a[e],e):a[e];return i},It=function(){for(var t=0,e=arguments.length,n=Ct(this,e);e>t;)n[t]=arguments[t++];return n},Pt=!!H&&s(function(){dt.call(new H(1))}),Dt=function(){return dt.apply(Pt?pt.call(kt(this)):kt(this),arguments)},Nt={copyWithin:function(t,e){return B.call(kt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Z(kt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return F.apply(kt(this),arguments)},filter:function(t){return Tt(this,Q(kt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return tt(kt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return et(kt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Y(kt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return rt(kt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return nt(kt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return lt.apply(kt(this),arguments)},lastIndexOf:function(t){return at.apply(kt(this),arguments)},map:function(t){return xt(kt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ct.apply(kt(this),arguments)},reduceRight:function(t){return ut.apply(kt(this),arguments)},reverse:function(){for(var t,e=this,n=kt(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return K(kt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ft.call(kt(this),t)},subarray:function(t,e){var n=kt(this),r=n.length,i=y(t,r);return new(P(n,n[yt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===e?r:y(e,r))-i))}},Lt=function(t,e){return Tt(this,pt.call(kt(this),t,e))},Mt=function(t){kt(this);var e=Et(arguments[1],1),n=this.length,r=S(t),i=m(r.length),o=0;if(i+e>n)throw J("Wrong length!");for(;o<i;)this[e+o]=r[o++]},Ft={entries:function(){return st.call(kt(this))},keys:function(){return ot.call(kt(this))},values:function(){return it.call(kt(this))}},Bt=function(t,e){return x(t)&&t[bt]&&"symbol"!=(void 0===e?"undefined":r(e))&&e in t&&String(+e)==String(e)},zt=function(t,e){return Bt(t,e=_(e,!0))?p(2,t[e]):W(t,e)},Ut=function(t,e,n){return!(Bt(t,e=_(e,!0))&&x(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?q(t,e,n):(t[e]=n.value,t)};_t||(U.f=zt,z.f=Ut),a(a.S+a.F*!_t,"Object",{getOwnPropertyDescriptor:zt,defineProperty:Ut}),s(function(){ht.call({})})&&(ht=dt=function(){return lt.call(this)});var qt=d({},Nt);d(qt,Ft),h(qt,gt,Ft.values),d(qt,{slice:Lt,set:Mt,constructor:function(){},toString:ht,toLocaleString:Dt}),At(qt,"buffer","b"),At(qt,"byteOffset","o"),At(qt,"byteLength","l"),At(qt,"length","e"),q(qt,mt,{get:function(){return this[bt]}}),e.exports=function(t,e,n,r){r=!!r;var u=t+(r?"Clamped":"")+"Array",l="get"+t,p="set"+t,d=o[u],g=d||{},y=d&&k(d),_=!d||!c.ABV,b={},S=d&&d.prototype,j=function(t,n){var r=t._d;return r.v[l](n*e+r.o,St)},T=function(t,n,i){var o=t._d;r&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),o.v[p](n*e+o.o,i,St)},O=function(t,e){q(t,e,{get:function(){return j(this,e)},set:function(t){return T(this,e,t)},enumerable:!0})};_?(d=n(function(t,n,r,i){f(t,d,u,"_d");var o,s,a,c,l=0,p=0;if(x(n)){if(!(n instanceof X||"ArrayBuffer"==(c=w(n))||"SharedArrayBuffer"==c))return bt in n?Ot(d,n):Rt.call(d,n);o=n,p=Et(r,e);var g=n.byteLength;if(void 0===i){if(g%e)throw J("Wrong length!");if((s=g-p)<0)throw J("Wrong length!")}else if((s=m(i)*e)+p>g)throw J("Wrong length!");a=s/e}else a=v(n),s=a*e,o=new X(s);for(h(t,"_d",{b:o,o:p,l:s,e:a,v:new $(o)});l<a;)O(t,l++)}),S=d.prototype=E(qt),h(S,"constructor",d)):s(function(){d(1)})&&s(function(){new d(-1)})&&L(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,r,i){f(t,d,u);var o;return x(n)?n instanceof X||"ArrayBuffer"==(o=w(n))||"SharedArrayBuffer"==o?void 0!==i?new g(n,Et(r,e),i):void 0!==r?new g(n,Et(r,e)):new g(n):bt in n?Ot(d,n):Rt.call(d,n):new g(v(n))}),Y(y!==Function.prototype?C(g).concat(C(y)):C(g),function(t){t in d||h(d,t,g[t])}),d.prototype=S,i||(S.constructor=d));var A=S[gt],R=!!A&&("values"==A.name||void 0==A.name),I=Ft.values;h(d,vt,!0),h(S,bt,u),h(S,wt,!0),h(S,yt,d),(r?new d(1)[mt]==u:mt in S)||q(S,mt,{get:function(){return u}}),b[u]=d,a(a.G+a.W+a.F*(d!=g),b),a(a.S,u,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*s(function(){g.of.call(d,1)}),u,{from:Rt,of:It}),"BYTES_PER_ELEMENT"in S||h(S,"BYTES_PER_ELEMENT",e),a(a.P,u,Nt),M(u),a(a.P+a.F*jt,u,{set:Mt}),a(a.P+a.F*!R,u,Ft),i||S.toString==ht||(S.toString=ht),a(a.P+a.F*s(function(){new d(1).slice()}),u,{slice:Lt}),a(a.P+a.F*(s(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!s(function(){S.toLocaleString.call([1,2])})),u,{toLocaleString:Dt}),N[u]=R?A:I,i||R||h(S,gt,I)}}else e.exports=function(){}},{"./_an-instance":68,"./_array-copy-within":70,"./_array-fill":71,"./_array-includes":73,"./_array-methods":74,"./_classof":79,"./_ctx":87,"./_descriptors":91,"./_export":95,"./_fails":97,"./_global":102,"./_has":103,"./_hide":104,"./_is-array-iter":110,"./_is-object":113,"./_iter-detect":118,"./_iterators":120,"./_library":121,"./_object-create":132,"./_object-dp":133,"./_object-gopd":136,"./_object-gopn":138,"./_object-gpo":140,"./_property-desc":151,"./_redefine-all":152,"./_set-species":159,"./_species-constructor":163,"./_to-absolute-index":173,"./_to-index":174,"./_to-integer":175,"./_to-length":177,"./_to-object":178,"./_to-primitive":179,"./_typed":182,"./_typed-buffer":181,"./_uid":183,"./_wks":188,"./core.get-iterator-method":189,"./es6.array.iterator":201}],181:[function(t,e,n){"use strict";function r(t,e,n){var r,i,o,s=new Array(n),a=8*n-e-1,c=(1<<a)-1,u=c>>1,l=23===e?F(2,-24)-F(2,-77):0,f=0,p=t<0||0===t&&1/t<0?1:0;for(t=M(t),t!=t||t===N?(i=t!=t?1:0,r=c):(r=B(z(t)/U),t*(o=F(2,-r))<1&&(r--,o*=2),t+=r+u>=1?l/o:l*F(2,1-u),t*o>=2&&(r++,o/=2),r+u>=c?(i=0,r=c):r+u>=1?(i=(t*o-1)*F(2,e),r+=u):(i=t*F(2,u-1)*F(2,e),r=0));e>=8;s[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,a+=e;a>0;s[f++]=255&r,r/=256,a-=8);return s[--f]|=128*p,s}function i(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,s=o>>1,a=i-7,c=n-1,u=t[c--],l=127&u;for(u>>=7;a>0;l=256*l+t[c],c--,a-=8);for(r=l&(1<<-a)-1,l>>=-a,a+=e;a>0;r=256*r+t[c],c--,a-=8);if(0===l)l=1-s;else{if(l===o)return r?NaN:u?-N:N;r+=F(2,e),l-=s}return(u?-1:1)*r*F(2,l-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function s(t){return[255&t]}function a(t){return[255&t,t>>8&255]}function c(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function u(t){return r(t,52,8)}function l(t){return r(t,23,4)}function f(t,e,n){k(t[O],e,{get:function(){return this[n]}})}function p(t,e,n,r){var i=+n,o=j(i);if(o+e>t[W])throw D(A);var s=t[q]._b,a=o+t[J],c=s.slice(a,a+e);return r?c:c.reverse()}function h(t,e,n,r,i,o){var s=+n,a=j(s);if(a+e>t[W])throw D(A);for(var c=t[q]._b,u=a+t[J],l=r(+i),f=0;f<e;f++)c[u+f]=l[o?f:e-f-1]}var d=t("./_global"),g=t("./_descriptors"),m=t("./_library"),v=t("./_typed"),y=t("./_hide"),_=t("./_redefine-all"),b=t("./_fails"),w=t("./_an-instance"),x=t("./_to-integer"),S=t("./_to-length"),j=t("./_to-index"),E=t("./_object-gopn").f,k=t("./_object-dp").f,C=t("./_array-fill"),T=t("./_set-to-string-tag"),O="prototype",A="Wrong index!",R=d.ArrayBuffer,I=d.DataView,P=d.Math,D=d.RangeError,N=d.Infinity,L=R,M=P.abs,F=P.pow,B=P.floor,z=P.log,U=P.LN2,q=g?"_b":"buffer",W=g?"_l":"byteLength",J=g?"_o":"byteOffset";if(v.ABV){if(!b(function(){R(1)})||!b(function(){new R(-1)})||b(function(){return new R,new R(1.5),new R(NaN),"ArrayBuffer"!=R.name})){R=function(t){return w(this,R),new L(j(t))};for(var V,H=R[O]=L[O],G=E(L),X=0;G.length>X;)(V=G[X++])in R||y(R,V,L[V]);m||(H.constructor=R)}var $=new I(new R(2)),Y=I[O].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||_(I[O],{setInt8:function(t,e){Y.call(this,t,e<<24>>24)},setUint8:function(t,e){Y.call(this,t,e<<24>>24)}},!0)}else R=function(t){w(this,R,"ArrayBuffer");var e=j(t);this._b=C.call(new Array(e),0),this[W]=e},I=function(t,e,n){w(this,I,"DataView"),w(t,R,"DataView");var r=t[W],i=x(e);if(i<0||i>r)throw D("Wrong offset!");if(n=void 0===n?r-i:S(n),i+n>r)throw D("Wrong length!");this[q]=t,this[J]=i,this[W]=n},g&&(f(R,"byteLength","_l"),f(I,"buffer","_b"),f(I,"byteLength","_l"),f(I,"byteOffset","_o")),_(I[O],{getInt8:function(t){return p(this,1,t)[0]<<24>>24},getUint8:function(t){return p(this,1,t)[0]},getInt16:function(t){var e=p(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=p(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(p(this,4,t,arguments[1]))},getUint32:function(t){return o(p(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return i(p(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return i(p(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){h(this,1,t,s,e)},setUint8:function(t,e){h(this,1,t,s,e)},setInt16:function(t,e){h(this,2,t,a,e,arguments[2])},setUint16:function(t,e){h(this,2,t,a,e,arguments[2])},setInt32:function(t,e){h(this,4,t,c,e,arguments[2])},setUint32:function(t,e){h(this,4,t,c,e,arguments[2])},setFloat32:function(t,e){h(this,4,t,l,e,arguments[2])},setFloat64:function(t,e){h(this,8,t,u,e,arguments[2])}});T(R,"ArrayBuffer"),T(I,"DataView"),y(I[O],v.VIEW,!0),n.ArrayBuffer=R,n.DataView=I},{"./_an-instance":68,"./_array-fill":71,"./_descriptors":91,"./_fails":97,"./_global":102,"./_hide":104,"./_library":121,"./_object-dp":133,"./_object-gopn":138,"./_redefine-all":152,"./_set-to-string-tag":160,"./_to-index":174,"./_to-integer":175,"./_to-length":177,"./_typed":182}],182:[function(t,e,n){for(var r,i=t("./_global"),o=t("./_hide"),s=t("./_uid"),a=s("typed_array"),c=s("view"),u=!(!i.ArrayBuffer||!i.DataView),l=u,f=0,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[p[f++]])?(o(r.prototype,a,!0),o(r.prototype,c,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:a,VIEW:c}},{"./_global":102,"./_hide":104,"./_uid":183}],183:[function(t,e,n){var r=0,i=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+i).toString(36))}},{}],184:[function(t,e,n){var r=t("./_global"),i=r.navigator;e.exports=i&&i.userAgent||""},{"./_global":102}],185:[function(t,e,n){var r=t("./_is-object");e.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},{"./_is-object":113}],186:[function(t,e,n){var r=t("./_global"),i=t("./_core"),o=t("./_library"),s=t("./_wks-ext"),a=t("./_object-dp").f;e.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},{"./_core":85,"./_global":102,"./_library":121,"./_object-dp":133,"./_wks-ext":187}],187:[function(t,e,n){n.f=t("./_wks")},{"./_wks":188}],188:[function(t,e,n){var r=t("./_shared")("wks"),i=t("./_uid"),o=t("./_global").Symbol,s="function"==typeof o;(e.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},{"./_global":102,"./_shared":162,"./_uid":183}],189:[function(t,e,n){var r=t("./_classof"),i=t("./_wks")("iterator"),o=t("./_iterators");e.exports=t("./_core").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},{"./_classof":79,"./_core":85,"./_iterators":120,"./_wks":188}],190:[function(t,e,n){var r=t("./_export"),i=t("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},{"./_export":95,"./_replacer":154}],191:[function(t,e,n){var r=t("./_export");r(r.P,"Array",{copyWithin:t("./_array-copy-within")}),t("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":67,"./_array-copy-within":70,"./_export":95}],192:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_array-methods")(4);r(r.P+r.F*!t("./_strict-method")([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},{"./_array-methods":74,"./_export":95,"./_strict-method":164}],193:[function(t,e,n){var r=t("./_export");r(r.P,"Array",{fill:t("./_array-fill")}),t("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":67,"./_array-fill":71,"./_export":95}],194:[function(t,e,n){
"use strict";var r=t("./_export"),i=t("./_array-methods")(2);r(r.P+r.F*!t("./_strict-method")([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},{"./_array-methods":74,"./_export":95,"./_strict-method":164}],195:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_array-methods")(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r(r.P+r.F*s,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")(o)},{"./_add-to-unscopables":67,"./_array-methods":74,"./_export":95}],196:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_array-methods")(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")("find")},{"./_add-to-unscopables":67,"./_array-methods":74,"./_export":95}],197:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_array-methods")(0),o=t("./_strict-method")([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},{"./_array-methods":74,"./_export":95,"./_strict-method":164}],198:[function(t,e,n){"use strict";var r=t("./_ctx"),i=t("./_export"),o=t("./_to-object"),s=t("./_iter-call"),a=t("./_is-array-iter"),c=t("./_to-length"),u=t("./_create-property"),l=t("./core.get-iterator-method");i(i.S+i.F*!t("./_iter-detect")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,p=o(t),h="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,m=void 0!==g,v=0,y=l(p);if(m&&(g=r(g,d>2?arguments[2]:void 0,2)),void 0==y||h==Array&&a(y))for(e=c(p.length),n=new h(e);e>v;v++)u(n,v,m?g(p[v],v):p[v]);else for(f=y.call(p),n=new h;!(i=f.next()).done;v++)u(n,v,m?s(f,g,[i.value,v],!0):i.value);return n.length=v,n}})},{"./_create-property":86,"./_ctx":87,"./_export":95,"./_is-array-iter":110,"./_iter-call":115,"./_iter-detect":118,"./_to-length":177,"./_to-object":178,"./core.get-iterator-method":189}],199:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_array-includes")(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(s||!t("./_strict-method")(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},{"./_array-includes":73,"./_export":95,"./_strict-method":164}],200:[function(t,e,n){var r=t("./_export");r(r.S,"Array",{isArray:t("./_is-array")})},{"./_export":95,"./_is-array":111}],201:[function(t,e,n){"use strict";var r=t("./_add-to-unscopables"),i=t("./_iter-step"),o=t("./_iterators"),s=t("./_to-iobject");e.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":67,"./_iter-define":117,"./_iter-step":119,"./_iterators":120,"./_to-iobject":176}],202:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_to-iobject"),o=[].join;r(r.P+r.F*(t("./_iobject")!=Object||!t("./_strict-method")(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},{"./_export":95,"./_iobject":109,"./_strict-method":164,"./_to-iobject":176}],203:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_to-iobject"),o=t("./_to-integer"),s=t("./_to-length"),a=[].lastIndexOf,c=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!t("./_strict-method")(a)),"Array",{lastIndexOf:function(t){if(c)return a.apply(this,arguments)||0;var e=i(this),n=s(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},{"./_export":95,"./_strict-method":164,"./_to-integer":175,"./_to-iobject":176,"./_to-length":177}],204:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_array-methods")(1);r(r.P+r.F*!t("./_strict-method")([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},{"./_array-methods":74,"./_export":95,"./_strict-method":164}],205:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_create-property");r(r.S+r.F*t("./_fails")(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},{"./_create-property":86,"./_export":95,"./_fails":97}],206:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_array-reduce");r(r.P+r.F*!t("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},{"./_array-reduce":75,"./_export":95,"./_strict-method":164}],207:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_array-reduce");r(r.P+r.F*!t("./_strict-method")([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},{"./_array-reduce":75,"./_export":95,"./_strict-method":164}],208:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_html"),o=t("./_cof"),s=t("./_to-absolute-index"),a=t("./_to-length"),c=[].slice;r(r.P+r.F*t("./_fails")(function(){i&&c.call(i)}),"Array",{slice:function(t,e){var n=a(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return c.call(this,t,e);for(var i=s(t,n),u=s(e,n),l=a(u-i),f=new Array(l),p=0;p<l;p++)f[p]="String"==r?this.charAt(i+p):this[i+p];return f}})},{"./_cof":80,"./_export":95,"./_fails":97,"./_html":105,"./_to-absolute-index":173,"./_to-length":177}],209:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_array-methods")(3);r(r.P+r.F*!t("./_strict-method")([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},{"./_array-methods":74,"./_export":95,"./_strict-method":164}],210:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_a-function"),o=t("./_to-object"),s=t("./_fails"),a=[].sort,c=[1,2,3];r(r.P+r.F*(s(function(){c.sort(void 0)})||!s(function(){c.sort(null)})||!t("./_strict-method")(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),i(t))}})},{"./_a-function":65,"./_export":95,"./_fails":97,"./_strict-method":164,"./_to-object":178}],211:[function(t,e,n){t("./_set-species")("Array")},{"./_set-species":159}],212:[function(t,e,n){var r=t("./_export");r(r.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":95}],213:[function(t,e,n){var r=t("./_export"),i=t("./_date-to-iso-string");r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},{"./_date-to-iso-string":88,"./_export":95}],214:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_to-object"),o=t("./_to-primitive");r(r.P+r.F*t("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},{"./_export":95,"./_fails":97,"./_to-object":178,"./_to-primitive":179}],215:[function(t,e,n){var r=t("./_wks")("toPrimitive"),i=Date.prototype;r in i||t("./_hide")(i,r,t("./_date-to-primitive"))},{"./_date-to-primitive":89,"./_hide":104,"./_wks":188}],216:[function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&t("./_redefine")(r,"toString",function(){var t=o.call(this);return t===t?i.call(this):"Invalid Date"})},{"./_redefine":153}],217:[function(t,e,n){var r=t("./_export");r(r.P,"Function",{bind:t("./_bind")})},{"./_bind":78,"./_export":95}],218:[function(t,e,n){"use strict";var r=t("./_is-object"),i=t("./_object-gpo"),o=t("./_wks")("hasInstance"),s=Function.prototype;o in s||t("./_object-dp").f(s,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},{"./_is-object":113,"./_object-dp":133,"./_object-gpo":140,"./_wks":188}],219:[function(t,e,n){var r=t("./_object-dp").f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||t("./_descriptors")&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},{"./_descriptors":91,"./_object-dp":133}],220:[function(t,e,n){"use strict";var r=t("./_collection-strong"),i=t("./_validate-collection");e.exports=t("./_collection")("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},{"./_collection":84,"./_collection-strong":81,"./_validate-collection":185}],221:[function(t,e,n){var r=t("./_export"),i=t("./_math-log1p"),o=Math.sqrt,s=Math.acosh;r(r.S+r.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},{"./_export":95,"./_math-log1p":124}],222:[function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=t("./_export"),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},{"./_export":95}],223:[function(t,e,n){var r=t("./_export"),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},{"./_export":95}],224:[function(t,e,n){var r=t("./_export"),i=t("./_math-sign");r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},{"./_export":95,"./_math-sign":126}],225:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},{"./_export":95}],226:[function(t,e,n){var r=t("./_export"),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},{"./_export":95}],227:[function(t,e,n){var r=t("./_export"),i=t("./_math-expm1");r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},{"./_export":95,"./_math-expm1":122}],228:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{fround:t("./_math-fround")})},{"./_export":95,"./_math-fround":123}],229:[function(t,e,n){var r=t("./_export"),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,s=0,a=arguments.length,c=0;s<a;)n=i(arguments[s++]),c<n?(r=c/n,o=o*r*r+1,c=n):n>0?(r=n/c,o+=r*r):o+=n;return c===1/0?1/0:c*Math.sqrt(o)}})},{"./_export":95}],230:[function(t,e,n){var r=t("./_export"),i=Math.imul;r(r.S+r.F*t("./_fails")(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},{"./_export":95,"./_fails":97}],231:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},{"./_export":95}],232:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{log1p:t("./_math-log1p")})},{"./_export":95,"./_math-log1p":124}],233:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},{"./_export":95}],234:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{sign:t("./_math-sign")})},{"./_export":95,"./_math-sign":126}],235:[function(t,e,n){var r=t("./_export"),i=t("./_math-expm1"),o=Math.exp;r(r.S+r.F*t("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},{"./_export":95,"./_fails":97,"./_math-expm1":122}],236:[function(t,e,n){var r=t("./_export"),i=t("./_math-expm1"),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},{"./_export":95,"./_math-expm1":122}],237:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},{"./_export":95}],238:[function(t,e,n){"use strict";var r=t("./_global"),i=t("./_has"),o=t("./_cof"),s=t("./_inherit-if-required"),a=t("./_to-primitive"),c=t("./_fails"),u=t("./_object-gopn").f,l=t("./_object-gopd").f,f=t("./_object-dp").f,p=t("./_string-trim").trim,h=r.Number,d=h,g=h.prototype,m="Number"==o(t("./_object-create")(g)),v="trim"in String.prototype,y=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():p(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var s,c=e.slice(2),u=0,l=c.length;u<l;u++)if((s=c.charCodeAt(u))<48||s>i)return NaN;return parseInt(c,r)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(m?c(function(){g.valueOf.call(n)}):"Number"!=o(n))?s(new d(y(e)),n,h):y(e)};for(var _,b=t("./_descriptors")?u(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)i(d,_=b[w])&&!i(h,_)&&f(h,_,l(d,_));h.prototype=g,g.constructor=h,t("./_redefine")(r,"Number",h)}},{"./_cof":80,"./_descriptors":91,"./_fails":97,"./_global":102,"./_has":103,"./_inherit-if-required":107,"./_object-create":132,"./_object-dp":133,"./_object-gopd":136,"./_object-gopn":138,"./_redefine":153,"./_string-trim":170,"./_to-primitive":179}],239:[function(t,e,n){var r=t("./_export");r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":95}],240:[function(t,e,n){var r=t("./_export"),i=t("./_global").isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},{"./_export":95,"./_global":102}],241:[function(t,e,n){var r=t("./_export");r(r.S,"Number",{isInteger:t("./_is-integer")})},{"./_export":95,"./_is-integer":112}],242:[function(t,e,n){var r=t("./_export");r(r.S,"Number",{isNaN:function(t){return t!=t}})},{"./_export":95}],243:[function(t,e,n){var r=t("./_export"),i=t("./_is-integer"),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},{"./_export":95,"./_is-integer":112}],244:[function(t,e,n){var r=t("./_export");r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":95}],245:[function(t,e,n){var r=t("./_export");r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":95}],246:[function(t,e,n){var r=t("./_export"),i=t("./_parse-float");r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},{"./_export":95,"./_parse-float":147}],247:[function(t,e,n){var r=t("./_export"),i=t("./_parse-int");r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},{"./_export":95,"./_parse-int":148}],248:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_to-integer"),o=t("./_a-number-value"),s=t("./_string-repeat"),a=1..toFixed,c=Math.floor,u=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*u[n],u[n]=r%1e7,r=c(r/1e7)},p=function(t){for(var e=6,n=0;--e>=0;)n+=u[e],u[e]=c(n/t),n=n%t*1e7},h=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==u[t]){var n=String(u[t]);e=""===e?n:e+s.call("0",7-n.length)+n}return e},d=function t(e,n,r){return 0===n?r:n%2==1?t(e,n-1,r*e):t(e*e,n/2,r)},g=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!t("./_fails")(function(){a.call({})})),"Number",{toFixed:function(t){var e,n,r,a,c=o(this,l),u=i(t),m="",v="0";if(u<0||u>20)throw RangeError(l);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m="-",c=-c),c>1e-21)if(e=g(c*d(2,69,1))-69,n=e<0?c*d(2,-e,1):c/d(2,e,1),n*=4503599627370496,(e=52-e)>0){for(f(0,n),r=u;r>=7;)f(1e7,0),r-=7;for(f(d(10,r,1),0),r=e-1;r>=23;)p(1<<23),r-=23;p(1<<r),f(1,1),p(2),v=h()}else f(0,n),f(1<<-e,0),v=h()+s.call("0",u);return u>0?(a=v.length,v=m+(a<=u?"0."+s.call("0",u-a)+v:v.slice(0,a-u)+"."+v.slice(a-u))):v=m+v,v}})},{"./_a-number-value":66,"./_export":95,"./_fails":97,"./_string-repeat":169,"./_to-integer":175}],249:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_fails"),o=t("./_a-number-value"),s=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==s.call(1,void 0)})||!i(function(){s.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},{"./_a-number-value":66,"./_export":95,"./_fails":97}],250:[function(t,e,n){var r=t("./_export");r(r.S+r.F,"Object",{assign:t("./_object-assign")})},{"./_export":95,"./_object-assign":131}],251:[function(t,e,n){var r=t("./_export");r(r.S,"Object",{create:t("./_object-create")})},{"./_export":95,"./_object-create":132}],252:[function(t,e,n){var r=t("./_export");r(r.S+r.F*!t("./_descriptors"),"Object",{defineProperties:t("./_object-dps")})},{"./_descriptors":91,"./_export":95,"./_object-dps":134}],253:[function(t,e,n){var r=t("./_export");r(r.S+r.F*!t("./_descriptors"),"Object",{defineProperty:t("./_object-dp").f})},{"./_descriptors":91,"./_export":95,"./_object-dp":133}],254:[function(t,e,n){var r=t("./_is-object"),i=t("./_meta").onFreeze;t("./_object-sap")("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},{"./_is-object":113,"./_meta":127,"./_object-sap":144}],255:[function(t,e,n){var r=t("./_to-iobject"),i=t("./_object-gopd").f;t("./_object-sap")("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},{"./_object-gopd":136,"./_object-sap":144,"./_to-iobject":176}],256:[function(t,e,n){t("./_object-sap")("getOwnPropertyNames",function(){return t("./_object-gopn-ext").f})},{"./_object-gopn-ext":137,"./_object-sap":144}],257:[function(t,e,n){var r=t("./_to-object"),i=t("./_object-gpo");t("./_object-sap")("getPrototypeOf",function(){return function(t){return i(r(t))}})},{"./_object-gpo":140,"./_object-sap":144,"./_to-object":178}],258:[function(t,e,n){var r=t("./_is-object");t("./_object-sap")("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},{"./_is-object":113,"./_object-sap":144}],259:[function(t,e,n){var r=t("./_is-object");t("./_object-sap")("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},{"./_is-object":113,"./_object-sap":144}],260:[function(t,e,n){var r=t("./_is-object");t("./_object-sap")("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},{"./_is-object":113,"./_object-sap":144}],261:[function(t,e,n){var r=t("./_export");r(r.S,"Object",{is:t("./_same-value")})},{"./_export":95,"./_same-value":155}],262:[function(t,e,n){var r=t("./_to-object"),i=t("./_object-keys");t("./_object-sap")("keys",function(){return function(t){return i(r(t))}})},{"./_object-keys":142,"./_object-sap":144,"./_to-object":178}],263:[function(t,e,n){var r=t("./_is-object"),i=t("./_meta").onFreeze;t("./_object-sap")("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},{"./_is-object":113,"./_meta":127,"./_object-sap":144}],264:[function(t,e,n){var r=t("./_is-object"),i=t("./_meta").onFreeze;t("./_object-sap")("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},{"./_is-object":113,"./_meta":127,"./_object-sap":144}],265:[function(t,e,n){var r=t("./_export");r(r.S,"Object",{setPrototypeOf:t("./_set-proto").set})},{"./_export":95,"./_set-proto":158}],266:[function(t,e,n){"use strict";var r=t("./_classof"),i={};i[t("./_wks")("toStringTag")]="z",i+""!="[object z]"&&t("./_redefine")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},{"./_classof":79,"./_redefine":153,"./_wks":188}],267:[function(t,e,n){var r=t("./_export"),i=t("./_parse-float");r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},{"./_export":95,"./_parse-float":147}],268:[function(t,e,n){var r=t("./_export"),i=t("./_parse-int");r(r.G+r.F*(parseInt!=i),{parseInt:i})},{"./_export":95,"./_parse-int":148}],269:[function(t,e,n){"use strict";var r,i,o,s,a=t("./_library"),c=t("./_global"),u=t("./_ctx"),l=t("./_classof"),f=t("./_export"),p=t("./_is-object"),h=t("./_a-function"),d=t("./_an-instance"),g=t("./_for-of"),m=t("./_species-constructor"),v=t("./_task").set,y=t("./_microtask")(),_=t("./_new-promise-capability"),b=t("./_perform"),w=t("./_promise-resolve"),x=c.TypeError,S=c.process,j=c.Promise,E="process"==l(S),k=function(){},C=i=_.f,T=!!function(){try{var e=j.resolve(1),n=(e.constructor={})[t("./_wks")("species")]=function(t){t(k,k)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(k)instanceof n}catch(t){}}(),O=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},A=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0;n.length>o;)!function(e){var n,o,s,a=i?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{a?(i||(2==t._h&&P(t),t._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&(l.exit(),s=!0)),n===e.promise?u(x("Promise-chain cycle")):(o=O(n))?o.call(n,c,u):c(n)):u(r)}catch(t){l&&!s&&l.exit(),u(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){v.call(c,function(){var e,n,r,i=t._v,o=I(t);if(o&&(e=b(function(){E?S.emit("unhandledRejection",i,t):(n=c.onunhandledrejection)?n({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=E||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},P=function(t){v.call(c,function(){var e;E?S.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),A(e,!0))},N=function t(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw x("Promise can't be resolved itself");(n=O(e))?y(function(){var i={_w:r,_d:!1};try{n.call(e,u(t,i,1),u(D,i,1))}catch(t){D.call(i,t)}}):(r._v=e,r._s=1,A(r,!1))}catch(t){D.call({_w:r,_d:!1},t)}}};T||(j=function(t){d(this,j,"Promise","_h"),h(t),r.call(this);try{t(u(N,this,1),u(D,this,1))}catch(t){D.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=t("./_redefine-all")(j.prototype,{then:function(t,e){var n=C(m(this,j));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=E?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=u(N,t,1),this.reject=u(D,t,1)},_.f=C=function(t){return t===j||t===s?new o(t):i(t)}),f(f.G+f.W+f.F*!T,{Promise:j}),t("./_set-to-string-tag")(j,"Promise"),t("./_set-species")("Promise"),s=t("./_core").Promise,f(f.S+f.F*!T,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(a||!T),"Promise",{resolve:function(t){return w(a&&this===s?j:this,t)}}),f(f.S+f.F*!(T&&t("./_iter-detect")(function(t){j.all(t).catch(k)})),"Promise",{all:function(t){var e=this,n=C(e),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,s=1;g(t,!1,function(t){var a=o++,c=!1;n.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,n[a]=t,--s||r(n))},i)}),--s||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=C(e),r=n.reject,i=b(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},{"./_a-function":65,"./_an-instance":68,"./_classof":79,"./_core":85,"./_ctx":87,"./_export":95,"./_for-of":101,"./_global":102,"./_is-object":113,"./_iter-detect":118,"./_library":121,"./_microtask":129,"./_new-promise-capability":130,"./_perform":149,"./_promise-resolve":150,"./_redefine-all":152,"./_set-species":159,"./_set-to-string-tag":160,"./_species-constructor":163,"./_task":172,"./_wks":188}],270:[function(t,e,n){var r=t("./_export"),i=t("./_a-function"),o=t("./_an-object"),s=(t("./_global").Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!t("./_fails")(function(){s(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),c=o(n);return s?s(r,e,c):a.call(r,e,c)}})},{"./_a-function":65,"./_an-object":69,"./_export":95,"./_fails":97,"./_global":102}],271:[function(t,e,n){var r=t("./_export"),i=t("./_object-create"),o=t("./_a-function"),s=t("./_an-object"),a=t("./_is-object"),c=t("./_fails"),u=t("./_bind"),l=(t("./_global").Reflect||{}).construct,f=c(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),p=!c(function(){l(function(){})});r(r.S+r.F*(f||p),"Reflect",{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(p&&!f)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(u.apply(t,r))}var c=n.prototype,h=i(a(c)?c:Object.prototype),d=Function.apply.call(t,h,e);return a(d)?d:h}})},{"./_a-function":65,"./_an-object":69,"./_bind":78,"./_export":95,"./_fails":97,"./_global":102,"./_is-object":113,"./_object-create":132}],272:[function(t,e,n){var r=t("./_object-dp"),i=t("./_export"),o=t("./_an-object"),s=t("./_to-primitive");i(i.S+i.F*t("./_fails")(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},{"./_an-object":69,"./_export":95,"./_fails":97,"./_object-dp":133,"./_to-primitive":179}],273:[function(t,e,n){var r=t("./_export"),i=t("./_object-gopd").f,o=t("./_an-object");r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},{"./_an-object":69,"./_export":95,"./_object-gopd":136}],274:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_an-object"),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};t("./_iter-create")(o,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},{"./_an-object":69,"./_export":95,"./_iter-create":116}],275:[function(t,e,n){var r=t("./_object-gopd"),i=t("./_export"),o=t("./_an-object");i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},{"./_an-object":69,"./_export":95,"./_object-gopd":136}],276:[function(t,e,n){var r=t("./_export"),i=t("./_object-gpo"),o=t("./_an-object");r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},{"./_an-object":69,"./_export":95,"./_object-gpo":140}],277:[function(t,e,n){function r(t,e){var n,a,l=arguments.length<3?t:arguments[2];return u(t)===l?t[e]:(n=i.f(t,e))?s(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:c(a=o(t))?r(a,e,l):void 0}var i=t("./_object-gopd"),o=t("./_object-gpo"),s=t("./_has"),a=t("./_export"),c=t("./_is-object"),u=t("./_an-object");a(a.S,"Reflect",{get:r})},{"./_an-object":69,"./_export":95,"./_has":103,"./_is-object":113,"./_object-gopd":136,"./_object-gpo":140}],278:[function(t,e,n){var r=t("./_export");r(r.S,"Reflect",{has:function(t,e){return e in t}})},{"./_export":95}],279:[function(t,e,n){var r=t("./_export"),i=t("./_an-object"),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},{"./_an-object":69,"./_export":95}],280:[function(t,e,n){var r=t("./_export");r(r.S,"Reflect",{ownKeys:t("./_own-keys")})},{"./_export":95,"./_own-keys":146}],281:[function(t,e,n){var r=t("./_export"),i=t("./_an-object"),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},{"./_an-object":69,"./_export":95}],282:[function(t,e,n){var r=t("./_export"),i=t("./_set-proto");i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},{"./_export":95,"./_set-proto":158}],283:[function(t,e,n){function r(t,e,n){var c,p,h=arguments.length<4?t:arguments[3],d=o.f(l(t),e);if(!d){if(f(p=s(t)))return r(p,e,n,h);d=u(0)}if(a(d,"value")){if(!1===d.writable||!f(h))return!1;if(c=o.f(h,e)){if(c.get||c.set||!1===c.writable)return!1;c.value=n,i.f(h,e,c)}else i.f(h,e,u(0,n));return!0}return void 0!==d.set&&(d.set.call(h,n),!0)}var i=t("./_object-dp"),o=t("./_object-gopd"),s=t("./_object-gpo"),a=t("./_has"),c=t("./_export"),u=t("./_property-desc"),l=t("./_an-object"),f=t("./_is-object");c(c.S,"Reflect",{set:r})},{"./_an-object":69,"./_export":95,"./_has":103,"./_is-object":113,"./_object-dp":133,"./_object-gopd":136,"./_object-gpo":140,"./_property-desc":151}],284:[function(t,e,n){var r=t("./_global"),i=t("./_inherit-if-required"),o=t("./_object-dp").f,s=t("./_object-gopn").f,a=t("./_is-regexp"),c=t("./_flags"),u=r.RegExp,l=u,f=u.prototype,p=/a/g,h=/a/g,d=new u(p)!==p;if(t("./_descriptors")&&(!d||t("./_fails")(function(){return h[t("./_wks")("match")]=!1,u(p)!=p||u(h)==h||"/a/i"!=u(p,"i")}))){u=function(t,e){var n=this instanceof u,r=a(t),o=void 0===e;return!n&&r&&t.constructor===u&&o?t:i(d?new l(r&&!o?t.source:t,e):l((r=t instanceof u)?t.source:t,r&&o?c.call(t):e),n?this:f,u)};for(var g=s(l),m=0;g.length>m;)!function(t){t in u||o(u,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})}(g[m++]);f.constructor=u,u.prototype=f,t("./_redefine")(r,"RegExp",u)}t("./_set-species")("RegExp")},{"./_descriptors":91,"./_fails":97,"./_flags":99,"./_global":102,"./_inherit-if-required":107,"./_is-regexp":114,"./_object-dp":133,"./_object-gopn":138,"./_redefine":153,"./_set-species":159,"./_wks":188}],285:[function(t,e,n){t("./_descriptors")&&"g"!=/./g.flags&&t("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:t("./_flags")})},{"./_descriptors":91,"./_flags":99,"./_object-dp":133}],286:[function(t,e,n){t("./_fix-re-wks")("match",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},{"./_fix-re-wks":98}],287:[function(t,e,n){t("./_fix-re-wks")("replace",2,function(t,e,n){return[function(r,i){"use strict";var o=t(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},n]})},{"./_fix-re-wks":98}],288:[function(t,e,n){t("./_fix-re-wks")("search",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},{"./_fix-re-wks":98}],289:[function(t,e,n){t("./_fix-re-wks")("split",2,function(e,n,r){"use strict";var i=t("./_is-regexp"),o=r,s=[].push,a="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[a]||2!="ab".split(/(?:ab)*/)[a]||4!=".".split(/(.?)(.?)/)[a]||".".split(/()()/)[a]>1||"".split(/.?/)[a]){var c=void 0===/()??/.exec("")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return o.call(n,t,e);var r,u,l,f,p,h=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,m=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,d+"g");for(c||(r=new RegExp("^"+v.source+"$(?!\\s)",d));(u=v.exec(n))&&!((l=u.index+u[0][a])>g&&(h.push(n.slice(g,u.index)),!c&&u[a]>1&&u[0].replace(r,function(){for(p=1;p<arguments[a]-2;p++)void 0===arguments[p]&&(u[p]=void 0)}),u[a]>1&&u.index<n[a]&&s.apply(h,u.slice(1)),f=u[0][a],g=l,h[a]>=m));)v.lastIndex===u.index&&v.lastIndex++;return g===n[a]?!f&&v.test("")||h.push(""):h.push(n.slice(g)),h[a]>m?h.slice(0,m):h}}else"0".split(void 0,0)[a]&&(r=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(t,i){var o=e(this),s=void 0==t?void 0:t[n];return void 0!==s?s.call(t,o,i):r.call(String(o),t,i)},r]})},{"./_fix-re-wks":98,"./_is-regexp":114}],290:[function(t,e,n){"use strict";t("./es6.regexp.flags");var r=t("./_an-object"),i=t("./_flags"),o=t("./_descriptors"),s=/./.toString,a=function(e){t("./_redefine")(RegExp.prototype,"toString",e,!0)};t("./_fails")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?a(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=s.name&&a(function(){return s.call(this)})},{"./_an-object":69,"./_descriptors":91,"./_fails":97,"./_flags":99,"./_redefine":153,"./es6.regexp.flags":285}],291:[function(t,e,n){"use strict"
;var r=t("./_collection-strong"),i=t("./_validate-collection");e.exports=t("./_collection")("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},{"./_collection":84,"./_collection-strong":81,"./_validate-collection":185}],292:[function(t,e,n){"use strict";t("./_string-html")("anchor",function(t){return function(e){return t(this,"a","name",e)}})},{"./_string-html":167}],293:[function(t,e,n){"use strict";t("./_string-html")("big",function(t){return function(){return t(this,"big","","")}})},{"./_string-html":167}],294:[function(t,e,n){"use strict";t("./_string-html")("blink",function(t){return function(){return t(this,"blink","","")}})},{"./_string-html":167}],295:[function(t,e,n){"use strict";t("./_string-html")("bold",function(t){return function(){return t(this,"b","","")}})},{"./_string-html":167}],296:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_string-at")(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},{"./_export":95,"./_string-at":165}],297:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_to-length"),o=t("./_string-context"),s="".endsWith;r(r.P+r.F*t("./_fails-is-regexp")("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),a=void 0===n?r:Math.min(i(n),r),c=String(t);return s?s.call(e,c,a):e.slice(a-c.length,a)===c}})},{"./_export":95,"./_fails-is-regexp":96,"./_string-context":166,"./_to-length":177}],298:[function(t,e,n){"use strict";t("./_string-html")("fixed",function(t){return function(){return t(this,"tt","","")}})},{"./_string-html":167}],299:[function(t,e,n){"use strict";t("./_string-html")("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},{"./_string-html":167}],300:[function(t,e,n){"use strict";t("./_string-html")("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},{"./_string-html":167}],301:[function(t,e,n){var r=t("./_export"),i=t("./_to-absolute-index"),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,s=0;r>s;){if(e=+arguments[s++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},{"./_export":95,"./_to-absolute-index":173}],302:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_string-context");r(r.P+r.F*t("./_fails-is-regexp")("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},{"./_export":95,"./_fails-is-regexp":96,"./_string-context":166}],303:[function(t,e,n){"use strict";t("./_string-html")("italics",function(t){return function(){return t(this,"i","","")}})},{"./_string-html":167}],304:[function(t,e,n){"use strict";var r=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},{"./_iter-define":117,"./_string-at":165}],305:[function(t,e,n){"use strict";t("./_string-html")("link",function(t){return function(e){return t(this,"a","href",e)}})},{"./_string-html":167}],306:[function(t,e,n){var r=t("./_export"),i=t("./_to-iobject"),o=t("./_to-length");r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,s=[],a=0;n>a;)s.push(String(e[a++])),a<r&&s.push(String(arguments[a]));return s.join("")}})},{"./_export":95,"./_to-iobject":176,"./_to-length":177}],307:[function(t,e,n){var r=t("./_export");r(r.P,"String",{repeat:t("./_string-repeat")})},{"./_export":95,"./_string-repeat":169}],308:[function(t,e,n){"use strict";t("./_string-html")("small",function(t){return function(){return t(this,"small","","")}})},{"./_string-html":167}],309:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_to-length"),o=t("./_string-context"),s="".startsWith;r(r.P+r.F*t("./_fails-is-regexp")("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,n):e.slice(n,n+r.length)===r}})},{"./_export":95,"./_fails-is-regexp":96,"./_string-context":166,"./_to-length":177}],310:[function(t,e,n){"use strict";t("./_string-html")("strike",function(t){return function(){return t(this,"strike","","")}})},{"./_string-html":167}],311:[function(t,e,n){"use strict";t("./_string-html")("sub",function(t){return function(){return t(this,"sub","","")}})},{"./_string-html":167}],312:[function(t,e,n){"use strict";t("./_string-html")("sup",function(t){return function(){return t(this,"sup","","")}})},{"./_string-html":167}],313:[function(t,e,n){"use strict";t("./_string-trim")("trim",function(t){return function(){return t(this,3)}})},{"./_string-trim":170}],314:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("./_global"),o=t("./_has"),s=t("./_descriptors"),a=t("./_export"),c=t("./_redefine"),u=t("./_meta").KEY,l=t("./_fails"),f=t("./_shared"),p=t("./_set-to-string-tag"),h=t("./_uid"),d=t("./_wks"),g=t("./_wks-ext"),m=t("./_wks-define"),v=t("./_enum-keys"),y=t("./_is-array"),_=t("./_an-object"),b=t("./_is-object"),w=t("./_to-iobject"),x=t("./_to-primitive"),S=t("./_property-desc"),j=t("./_object-create"),E=t("./_object-gopn-ext"),k=t("./_object-gopd"),C=t("./_object-dp"),T=t("./_object-keys"),O=k.f,A=C.f,R=E.f,I=i.Symbol,P=i.JSON,D=P&&P.stringify,N=d("_hidden"),L=d("toPrimitive"),M={}.propertyIsEnumerable,F=f("symbol-registry"),B=f("symbols"),z=f("op-symbols"),U=Object.prototype,q="function"==typeof I,W=i.QObject,J=!W||!W.prototype||!W.prototype.findChild,V=s&&l(function(){return 7!=j(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=O(U,e);r&&delete U[e],A(t,e,n),r&&t!==U&&A(U,e,r)}:A,H=function(t){var e=B[t]=j(I.prototype);return e._k=t,e},G=q&&"symbol"==r(I.iterator)?function(t){return"symbol"==(void 0===t?"undefined":r(t))}:function(t){return t instanceof I},X=function(t,e,n){return t===U&&X(z,e,n),_(t),e=x(e,!0),_(n),o(B,e)?(n.enumerable?(o(t,N)&&t[N][e]&&(t[N][e]=!1),n=j(n,{enumerable:S(0,!1)})):(o(t,N)||A(t,N,S(1,{})),t[N][e]=!0),V(t,e,n)):A(t,e,n)},$=function(t,e){_(t);for(var n,r=v(e=w(e)),i=0,o=r.length;o>i;)X(t,n=r[i++],e[n]);return t},Y=function(t,e){return void 0===e?j(t):$(j(t),e)},Q=function(t){var e=M.call(this,t=x(t,!0));return!(this===U&&o(B,t)&&!o(z,t))&&(!(e||!o(this,t)||!o(B,t)||o(this,N)&&this[N][t])||e)},K=function(t,e){if(t=w(t),e=x(e,!0),t!==U||!o(B,e)||o(z,e)){var n=O(t,e);return!n||!o(B,e)||o(t,N)&&t[N][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=R(w(t)),r=[],i=0;n.length>i;)o(B,e=n[i++])||e==N||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===U,r=R(n?z:w(t)),i=[],s=0;r.length>s;)!o(B,e=r[s++])||n&&!o(U,e)||i.push(B[e]);return i};q||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function e(n){this===U&&e.call(z,n),o(this,N)&&o(this[N],t)&&(this[N][t]=!1),V(this,t,S(1,n))};return s&&J&&V(U,t,{configurable:!0,set:e}),H(t)},c(I.prototype,"toString",function(){return this._k}),k.f=K,C.f=X,t("./_object-gopn").f=E.f=Z,t("./_object-pie").f=Q,t("./_object-gops").f=tt,s&&!t("./_library")&&c(U,"propertyIsEnumerable",Q,!0),g.f=function(t){return H(d(t))}),a(a.G+a.W+a.F*!q,{Symbol:I});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var rt=T(d.store),it=0;rt.length>it;)m(rt[it++]);a(a.S+a.F*!q,"Symbol",{for:function(t){return o(F,t+="")?F[t]:F[t]=I(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){J=!0},useSimple:function(){J=!1}}),a(a.S+a.F*!q,"Object",{create:Y,defineProperty:X,defineProperties:$,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),P&&a(a.S+a.F*(!q||l(function(){var t=I();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!G(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!G(e))return e}),r[1]=e,D.apply(P,r)}}),I.prototype[L]||t("./_hide")(I.prototype,L,I.prototype.valueOf),p(I,"Symbol"),p(Math,"Math",!0),p(i.JSON,"JSON",!0)},{"./_an-object":69,"./_descriptors":91,"./_enum-keys":94,"./_export":95,"./_fails":97,"./_global":102,"./_has":103,"./_hide":104,"./_is-array":111,"./_is-object":113,"./_library":121,"./_meta":127,"./_object-create":132,"./_object-dp":133,"./_object-gopd":136,"./_object-gopn":138,"./_object-gopn-ext":137,"./_object-gops":139,"./_object-keys":142,"./_object-pie":143,"./_property-desc":151,"./_redefine":153,"./_set-to-string-tag":160,"./_shared":162,"./_to-iobject":176,"./_to-primitive":179,"./_uid":183,"./_wks":188,"./_wks-define":186,"./_wks-ext":187}],315:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_typed"),o=t("./_typed-buffer"),s=t("./_an-object"),a=t("./_to-absolute-index"),c=t("./_to-length"),u=t("./_is-object"),l=t("./_global").ArrayBuffer,f=t("./_species-constructor"),p=o.ArrayBuffer,h=o.DataView,d=i.ABV&&l.isView,g=p.prototype.slice,m=i.VIEW;r(r.G+r.W+r.F*(l!==p),{ArrayBuffer:p}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||u(t)&&m in t}}),r(r.P+r.U+r.F*t("./_fails")(function(){return!new p(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(s(this),t);for(var n=s(this).byteLength,r=a(t,n),i=a(void 0===e?n:e,n),o=new(f(this,p))(c(i-r)),u=new h(this),l=new h(o),d=0;r<i;)l.setUint8(d++,u.getUint8(r++));return o}}),t("./_set-species")("ArrayBuffer")},{"./_an-object":69,"./_export":95,"./_fails":97,"./_global":102,"./_is-object":113,"./_set-species":159,"./_species-constructor":163,"./_to-absolute-index":173,"./_to-length":177,"./_typed":182,"./_typed-buffer":181}],316:[function(t,e,n){var r=t("./_export");r(r.G+r.W+r.F*!t("./_typed").ABV,{DataView:t("./_typed-buffer").DataView})},{"./_export":95,"./_typed":182,"./_typed-buffer":181}],317:[function(t,e,n){t("./_typed-array")("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},{"./_typed-array":180}],318:[function(t,e,n){t("./_typed-array")("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},{"./_typed-array":180}],319:[function(t,e,n){t("./_typed-array")("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},{"./_typed-array":180}],320:[function(t,e,n){t("./_typed-array")("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},{"./_typed-array":180}],321:[function(t,e,n){t("./_typed-array")("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},{"./_typed-array":180}],322:[function(t,e,n){t("./_typed-array")("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},{"./_typed-array":180}],323:[function(t,e,n){t("./_typed-array")("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},{"./_typed-array":180}],324:[function(t,e,n){t("./_typed-array")("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},{"./_typed-array":180}],325:[function(t,e,n){t("./_typed-array")("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},{"./_typed-array":180}],326:[function(t,e,n){"use strict";var r,i=t("./_array-methods")(0),o=t("./_redefine"),s=t("./_meta"),a=t("./_object-assign"),c=t("./_collection-weak"),u=t("./_is-object"),l=t("./_fails"),f=t("./_validate-collection"),p=s.getWeak,h=Object.isExtensible,d=c.ufstore,g={},m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(t){if(u(t)){var e=p(t);return!0===e?d(f(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(f(this,"WeakMap"),t,e)}},y=e.exports=t("./_collection")("WeakMap",m,v,c,!0,!0);l(function(){return 7!=(new y).set((Object.freeze||Object)(g),7).get(g)})&&(r=c.getConstructor(m,"WeakMap"),a(r.prototype,v),s.NEED=!0,i(["delete","has","get","set"],function(t){var e=y.prototype,n=e[t];o(e,t,function(e,i){if(u(e)&&!h(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},{"./_array-methods":74,"./_collection":84,"./_collection-weak":83,"./_fails":97,"./_is-object":113,"./_meta":127,"./_object-assign":131,"./_redefine":153,"./_validate-collection":185}],327:[function(t,e,n){"use strict";var r=t("./_collection-weak"),i=t("./_validate-collection");t("./_collection")("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},{"./_collection":84,"./_collection-weak":83,"./_validate-collection":185}],328:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_flatten-into-array"),o=t("./_to-object"),s=t("./_to-length"),a=t("./_a-function"),c=t("./_array-species-create");r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return a(t),e=s(r.length),n=c(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),t("./_add-to-unscopables")("flatMap")},{"./_a-function":65,"./_add-to-unscopables":67,"./_array-species-create":77,"./_export":95,"./_flatten-into-array":100,"./_to-length":177,"./_to-object":178}],329:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_flatten-into-array"),o=t("./_to-object"),s=t("./_to-length"),a=t("./_to-integer"),c=t("./_array-species-create");r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=s(e.length),r=c(e,0);return i(r,e,e,n,0,void 0===t?1:a(t)),r}}),t("./_add-to-unscopables")("flatten")},{"./_add-to-unscopables":67,"./_array-species-create":77,"./_export":95,"./_flatten-into-array":100,"./_to-integer":175,"./_to-length":177,"./_to-object":178}],330:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_array-includes")(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":67,"./_array-includes":73,"./_export":95}],331:[function(t,e,n){var r=t("./_export"),i=t("./_microtask")(),o=t("./_global").process,s="process"==t("./_cof")(o);r(r.G,{asap:function(t){var e=s&&o.domain;i(e?e.bind(t):t)}})},{"./_cof":80,"./_export":95,"./_global":102,"./_microtask":129}],332:[function(t,e,n){var r=t("./_export"),i=t("./_cof");r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},{"./_cof":80,"./_export":95}],333:[function(t,e,n){var r=t("./_export");r(r.G,{global:t("./_global")})},{"./_export":95,"./_global":102}],334:[function(t,e,n){t("./_set-collection-from")("Map")},{"./_set-collection-from":156}],335:[function(t,e,n){t("./_set-collection-of")("Map")},{"./_set-collection-of":157}],336:[function(t,e,n){var r=t("./_export");r(r.P+r.R,"Map",{toJSON:t("./_collection-to-json")("Map")})},{"./_collection-to-json":82,"./_export":95}],337:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},{"./_export":95}],338:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},{"./_export":95}],339:[function(t,e,n){var r=t("./_export"),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},{"./_export":95}],340:[function(t,e,n){var r=t("./_export"),i=t("./_math-scale"),o=t("./_math-fround");r(r.S,"Math",{fscale:function(t,e,n,r,s){return o(i(t,e,n,r,s))}})},{"./_export":95,"./_math-fround":123,"./_math-scale":125}],341:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=e>>>0,s=n>>>0;return o+(r>>>0)+((i&s|(i|s)&~(i+s>>>0))>>>31)|0}})},{"./_export":95}],342:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{imulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,s=n>>16,a=r>>16,c=(s*o>>>0)+(i*o>>>16);return s*a+(c>>16)+((i*a>>>0)+(65535&c)>>16)}})},{"./_export":95}],343:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=e>>>0,s=n>>>0;return o-(r>>>0)-((~i&s|~(i^s)&i-s>>>0)>>>31)|0}})},{"./_export":95}],344:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},{"./_export":95}],345:[function(t,e,n){var r=t("./_export"),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},{"./_export":95}],346:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{scale:t("./_math-scale")})},{"./_export":95,"./_math-scale":125}],347:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},{"./_export":95}],348:[function(t,e,n){var r=t("./_export");r(r.S,"Math",{umulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,s=n>>>16,a=r>>>16,c=(s*o>>>0)+(i*o>>>16);return s*a+(c>>>16)+((i*a>>>0)+(65535&c)>>>16)}})},{"./_export":95}],349:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_to-object"),o=t("./_a-function"),s=t("./_object-dp");t("./_descriptors")&&r(r.P+t("./_object-forced-pam"),"Object",{__defineGetter__:function(t,e){s.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},{"./_a-function":65,"./_descriptors":91,"./_export":95,"./_object-dp":133,"./_object-forced-pam":135,"./_to-object":178}],350:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_to-object"),o=t("./_a-function"),s=t("./_object-dp");t("./_descriptors")&&r(r.P+t("./_object-forced-pam"),"Object",{__defineSetter__:function(t,e){s.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},{"./_a-function":65,"./_descriptors":91,"./_export":95,"./_object-dp":133,"./_object-forced-pam":135,"./_to-object":178}],351:[function(t,e,n){var r=t("./_export"),i=t("./_object-to-array")(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},{"./_export":95,"./_object-to-array":145}],352:[function(t,e,n){var r=t("./_export"),i=t("./_own-keys"),o=t("./_to-iobject"),s=t("./_object-gopd"),a=t("./_create-property");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),c=s.f,u=i(r),l={},f=0;u.length>f;)void 0!==(n=c(r,e=u[f++]))&&a(l,e,n);return l}})},{"./_create-property":86,"./_export":95,"./_object-gopd":136,"./_own-keys":146,"./_to-iobject":176}],353:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_to-object"),o=t("./_to-primitive"),s=t("./_object-gpo"),a=t("./_object-gopd").f;t("./_descriptors")&&r(r.P+t("./_object-forced-pam"),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=a(n,r))return e.get}while(n=s(n))}})},{"./_descriptors":91,"./_export":95,"./_object-forced-pam":135,"./_object-gopd":136,"./_object-gpo":140,"./_to-object":178,"./_to-primitive":179}],354:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_to-object"),o=t("./_to-primitive"),s=t("./_object-gpo"),a=t("./_object-gopd").f;t("./_descriptors")&&r(r.P+t("./_object-forced-pam"),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=a(n,r))return e.set}while(n=s(n))}})},{"./_descriptors":91,"./_export":95,"./_object-forced-pam":135,"./_object-gopd":136,"./_object-gpo":140,"./_to-object":178,"./_to-primitive":179}],355:[function(t,e,n){var r=t("./_export"),i=t("./_object-to-array")(!1);r(r.S,"Object",{values:function(t){return i(t)}})},{"./_export":95,"./_object-to-array":145}],356:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_global"),o=t("./_core"),s=t("./_microtask")(),a=t("./_wks")("observable"),c=t("./_a-function"),u=t("./_an-object"),l=t("./_an-instance"),f=t("./_redefine-all"),p=t("./_hide"),h=t("./_for-of"),d=h.RETURN,g=function(t){return null==t?void 0:c(t)},m=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},y=function(t){v(t)||(t._o=void 0,m(t))},_=function(t,e){u(t),this._c=void 0,this._o=t,t=new b(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:c(n),this._c=n)}catch(e){return void t.error(e)}v(this)&&m(this)};_.prototype=f({},{unsubscribe:function(){y(this)}});var b=function(t){this._s=t};b.prototype=f({},{next:function(t){var e=this._s;if(!v(e)){var n=e._o;try{var r=g(n.next);if(r)return r.call(n,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var n=e._o;e._o=void 0;try{var r=g(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{m(e)}finally{throw t}}return m(e),t},complete:function(t){var e=this._s;if(!v(e)){var n=e._o;e._o=void 0;try{var r=g(n.complete);t=r?r.call(n,t):void 0}catch(t){try{m(e)}finally{throw t}}return m(e),t}}});var w=function(t){l(this,w,"Observable","_f")._f=c(t)};f(w.prototype,{subscribe:function(t){return new _(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)(function(n,r){c(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n})})}}),f(w,{from:function(t){var e="function"==typeof this?this:w,n=g(u(t)[a]);if(n){var r=u(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return s(function(){if(!n){try{if(h(t,!1,function(t){if(e.next(t),n)return d})===d)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var e=!1;return s(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),p(w.prototype,a,function(){return this}),r(r.G,{Observable:w}),t("./_set-species")("Observable")},{"./_a-function":65,"./_an-instance":68,"./_an-object":69,"./_core":85,"./_export":95,"./_for-of":101,"./_global":102,"./_hide":104,"./_microtask":129,"./_redefine-all":152,"./_set-species":159,"./_wks":188}],357:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_core"),o=t("./_global"),s=t("./_species-constructor"),a=t("./_promise-resolve");r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},{"./_core":85,"./_export":95,"./_global":102,"./_promise-resolve":150,"./_species-constructor":163}],358:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_new-promise-capability"),o=t("./_perform");r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},{"./_export":95,"./_new-promise-capability":130,"./_perform":149}],359:[function(t,e,n){var r=t("./_metadata"),i=t("./_an-object"),o=r.key,s=r.set;r.exp({defineMetadata:function(t,e,n,r){s(t,e,i(n),o(r))}})},{"./_an-object":69,"./_metadata":128}],360:[function(t,e,n){var r=t("./_metadata"),i=t("./_an-object"),o=r.key,s=r.map,a=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=s(i(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var c=a.get(e);return c.delete(n),!!c.size||a.delete(e)}})},{"./_an-object":69,"./_metadata":128}],361:[function(t,e,n){var r=t("./es6.set"),i=t("./_array-from-iterable"),o=t("./_metadata"),s=t("./_an-object"),a=t("./_object-gpo"),c=o.keys,u=o.key,l=function t(e,n){var o=c(e,n),s=a(e);if(null===s)return o;var u=t(s,n);return u.length?o.length?i(new r(o.concat(u))):u:o};o.exp({getMetadataKeys:function(t){return l(s(t),arguments.length<2?void 0:u(arguments[1]))}})},{"./_an-object":69,"./_array-from-iterable":72,"./_metadata":128,"./_object-gpo":140,"./es6.set":291}],362:[function(t,e,n){var r=t("./_metadata"),i=t("./_an-object"),o=t("./_object-gpo"),s=r.has,a=r.get,c=r.key,u=function t(e,n,r){if(s(e,n,r))return a(e,n,r);var i=o(n);return null!==i?t(e,i,r):void 0};r.exp({getMetadata:function(t,e){return u(t,i(e),arguments.length<3?void 0:c(arguments[2]))}})},{"./_an-object":69,"./_metadata":128,"./_object-gpo":140}],363:[function(t,e,n){var r=t("./_metadata"),i=t("./_an-object"),o=r.keys,s=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:s(arguments[1]))}})},{"./_an-object":69,"./_metadata":128}],364:[function(t,e,n){var r=t("./_metadata"),i=t("./_an-object"),o=r.get,s=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},{"./_an-object":69,"./_metadata":128}],365:[function(t,e,n){var r=t("./_metadata"),i=t("./_an-object"),o=t("./_object-gpo"),s=r.has,a=r.key,c=function t(e,n,r){if(s(e,n,r))return!0;var i=o(n);return null!==i&&t(e,i,r)};r.exp({hasMetadata:function(t,e){return c(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},{"./_an-object":69,"./_metadata":128,"./_object-gpo":140}],366:[function(t,e,n){var r=t("./_metadata"),i=t("./_an-object"),o=r.has,s=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},{"./_an-object":69,"./_metadata":128}],367:[function(t,e,n){var r=t("./_metadata"),i=t("./_an-object"),o=t("./_a-function"),s=r.key,a=r.set;r.exp({metadata:function(t,e){return function(n,r){a(t,e,(void 0!==r?i:o)(n),s(r))}}})},{"./_a-function":65,"./_an-object":69,"./_metadata":128}],368:[function(t,e,n){t("./_set-collection-from")("Set")},{"./_set-collection-from":156}],369:[function(t,e,n){t("./_set-collection-of")("Set")},{"./_set-collection-of":157}],370:[function(t,e,n){var r=t("./_export");r(r.P+r.R,"Set",{toJSON:t("./_collection-to-json")("Set")})},{"./_collection-to-json":82,"./_export":95}],371:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_string-at")(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},{"./_export":95,"./_string-at":165}],372:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_defined"),o=t("./_to-length"),s=t("./_is-regexp"),a=t("./_flags"),c=RegExp.prototype,u=function(t,e){this._r=t,this._s=e};t("./_iter-create")(u,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(i(this),!s(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in c?String(t.flags):a.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(t.lastIndex),new u(r,e)}})},{"./_defined":90,"./_export":95,"./_flags":99,"./_is-regexp":114,"./_iter-create":116,"./_to-length":177}],373:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_string-pad"),o=t("./_user-agent");r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},{"./_export":95,"./_string-pad":168,"./_user-agent":184}],374:[function(t,e,n){"use strict";var r=t("./_export"),i=t("./_string-pad"),o=t("./_user-agent");r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},{"./_export":95,"./_string-pad":168,"./_user-agent":184}],375:[function(t,e,n){"use strict";t("./_string-trim")("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},{"./_string-trim":170}],376:[function(t,e,n){"use strict";t("./_string-trim")("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},{"./_string-trim":170}],377:[function(t,e,n){t("./_wks-define")("asyncIterator")},{"./_wks-define":186}],378:[function(t,e,n){t("./_wks-define")("observable")},{"./_wks-define":186}],379:[function(t,e,n){var r=t("./_export");r(r.S,"System",{global:t("./_global")})},{"./_export":95,"./_global":102}],380:[function(t,e,n){t("./_set-collection-from")("WeakMap")},{"./_set-collection-from":156}],381:[function(t,e,n){t("./_set-collection-of")("WeakMap")},{"./_set-collection-of":157}],382:[function(t,e,n){t("./_set-collection-from")("WeakSet")},{"./_set-collection-from":156}],383:[function(t,e,n){t("./_set-collection-of")("WeakSet")},{"./_set-collection-of":157}],384:[function(t,e,n){for(var r=t("./es6.array.iterator"),i=t("./_object-keys"),o=t("./_redefine"),s=t("./_global"),a=t("./_hide"),c=t("./_iterators"),u=t("./_wks"),l=u("iterator"),f=u("toStringTag"),p=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(h),g=0;g<d.length;g++){var m,v=d[g],y=h[v],_=s[v],b=_&&_.prototype;if(b&&(b[l]||a(b,l,p),b[f]||a(b,f,v),c[v]=p,y))for(m in r)b[m]||o(b,m,r[m],!0)}},{"./_global":102,"./_hide":104,"./_iterators":120,"./_object-keys":142,"./_redefine":153,"./_wks":188,"./es6.array.iterator":201}],385:[function(t,e,n){var r=t("./_export"),i=t("./_task");r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},{"./_export":95,"./_task":172}],386:[function(t,e,n){var r=t("./_global"),i=t("./_export"),o=t("./_user-agent"),s=[].slice,a=/MSIE .\./.test(o),c=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&s.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*a,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},{"./_export":95,"./_global":102,"./_user-agent":184}],387:[function(t,e,n){t("./modules/es6.symbol"),t("./modules/es6.object.create"),t("./modules/es6.object.define-property"),t("./modules/es6.object.define-properties"),t("./modules/es6.object.get-own-property-descriptor"),t("./modules/es6.object.get-prototype-of"),t("./modules/es6.object.keys"),t("./modules/es6.object.get-own-property-names"),t("./modules/es6.object.freeze"),t("./modules/es6.object.seal"),t("./modules/es6.object.prevent-extensions"),t("./modules/es6.object.is-frozen"),t("./modules/es6.object.is-sealed"),t("./modules/es6.object.is-extensible"),t("./modules/es6.object.assign"),t("./modules/es6.object.is"),t("./modules/es6.object.set-prototype-of"),t("./modules/es6.object.to-string"),t("./modules/es6.function.bind"),t("./modules/es6.function.name"),t("./modules/es6.function.has-instance"),t("./modules/es6.parse-int"),t("./modules/es6.parse-float"),t("./modules/es6.number.constructor"),t("./modules/es6.number.to-fixed"),t("./modules/es6.number.to-precision"),t("./modules/es6.number.epsilon"),t("./modules/es6.number.is-finite"),t("./modules/es6.number.is-integer"),t("./modules/es6.number.is-nan"),t("./modules/es6.number.is-safe-integer"),t("./modules/es6.number.max-safe-integer"),t("./modules/es6.number.min-safe-integer"),t("./modules/es6.number.parse-float"),t("./modules/es6.number.parse-int"),t("./modules/es6.math.acosh"),t("./modules/es6.math.asinh"),t("./modules/es6.math.atanh"),t("./modules/es6.math.cbrt"),t("./modules/es6.math.clz32"),t("./modules/es6.math.cosh"),t("./modules/es6.math.expm1"),t("./modules/es6.math.fround"),t("./modules/es6.math.hypot"),t("./modules/es6.math.imul"),t("./modules/es6.math.log10"),t("./modules/es6.math.log1p"),t("./modules/es6.math.log2"),t("./modules/es6.math.sign"),t("./modules/es6.math.sinh"),t("./modules/es6.math.tanh"),t("./modules/es6.math.trunc"),t("./modules/es6.string.from-code-point"),t("./modules/es6.string.raw"),t("./modules/es6.string.trim"),t("./modules/es6.string.iterator"),t("./modules/es6.string.code-point-at"),t("./modules/es6.string.ends-with"),t("./modules/es6.string.includes"),t("./modules/es6.string.repeat"),t("./modules/es6.string.starts-with"),t("./modules/es6.string.anchor"),t("./modules/es6.string.big"),t("./modules/es6.string.blink"),t("./modules/es6.string.bold"),t("./modules/es6.string.fixed"),t("./modules/es6.string.fontcolor"),
t("./modules/es6.string.fontsize"),t("./modules/es6.string.italics"),t("./modules/es6.string.link"),t("./modules/es6.string.small"),t("./modules/es6.string.strike"),t("./modules/es6.string.sub"),t("./modules/es6.string.sup"),t("./modules/es6.date.now"),t("./modules/es6.date.to-json"),t("./modules/es6.date.to-iso-string"),t("./modules/es6.date.to-string"),t("./modules/es6.date.to-primitive"),t("./modules/es6.array.is-array"),t("./modules/es6.array.from"),t("./modules/es6.array.of"),t("./modules/es6.array.join"),t("./modules/es6.array.slice"),t("./modules/es6.array.sort"),t("./modules/es6.array.for-each"),t("./modules/es6.array.map"),t("./modules/es6.array.filter"),t("./modules/es6.array.some"),t("./modules/es6.array.every"),t("./modules/es6.array.reduce"),t("./modules/es6.array.reduce-right"),t("./modules/es6.array.index-of"),t("./modules/es6.array.last-index-of"),t("./modules/es6.array.copy-within"),t("./modules/es6.array.fill"),t("./modules/es6.array.find"),t("./modules/es6.array.find-index"),t("./modules/es6.array.species"),t("./modules/es6.array.iterator"),t("./modules/es6.regexp.constructor"),t("./modules/es6.regexp.to-string"),t("./modules/es6.regexp.flags"),t("./modules/es6.regexp.match"),t("./modules/es6.regexp.replace"),t("./modules/es6.regexp.search"),t("./modules/es6.regexp.split"),t("./modules/es6.promise"),t("./modules/es6.map"),t("./modules/es6.set"),t("./modules/es6.weak-map"),t("./modules/es6.weak-set"),t("./modules/es6.typed.array-buffer"),t("./modules/es6.typed.data-view"),t("./modules/es6.typed.int8-array"),t("./modules/es6.typed.uint8-array"),t("./modules/es6.typed.uint8-clamped-array"),t("./modules/es6.typed.int16-array"),t("./modules/es6.typed.uint16-array"),t("./modules/es6.typed.int32-array"),t("./modules/es6.typed.uint32-array"),t("./modules/es6.typed.float32-array"),t("./modules/es6.typed.float64-array"),t("./modules/es6.reflect.apply"),t("./modules/es6.reflect.construct"),t("./modules/es6.reflect.define-property"),t("./modules/es6.reflect.delete-property"),t("./modules/es6.reflect.enumerate"),t("./modules/es6.reflect.get"),t("./modules/es6.reflect.get-own-property-descriptor"),t("./modules/es6.reflect.get-prototype-of"),t("./modules/es6.reflect.has"),t("./modules/es6.reflect.is-extensible"),t("./modules/es6.reflect.own-keys"),t("./modules/es6.reflect.prevent-extensions"),t("./modules/es6.reflect.set"),t("./modules/es6.reflect.set-prototype-of"),t("./modules/es7.array.includes"),t("./modules/es7.array.flat-map"),t("./modules/es7.array.flatten"),t("./modules/es7.string.at"),t("./modules/es7.string.pad-start"),t("./modules/es7.string.pad-end"),t("./modules/es7.string.trim-left"),t("./modules/es7.string.trim-right"),t("./modules/es7.string.match-all"),t("./modules/es7.symbol.async-iterator"),t("./modules/es7.symbol.observable"),t("./modules/es7.object.get-own-property-descriptors"),t("./modules/es7.object.values"),t("./modules/es7.object.entries"),t("./modules/es7.object.define-getter"),t("./modules/es7.object.define-setter"),t("./modules/es7.object.lookup-getter"),t("./modules/es7.object.lookup-setter"),t("./modules/es7.map.to-json"),t("./modules/es7.set.to-json"),t("./modules/es7.map.of"),t("./modules/es7.set.of"),t("./modules/es7.weak-map.of"),t("./modules/es7.weak-set.of"),t("./modules/es7.map.from"),t("./modules/es7.set.from"),t("./modules/es7.weak-map.from"),t("./modules/es7.weak-set.from"),t("./modules/es7.global"),t("./modules/es7.system.global"),t("./modules/es7.error.is-error"),t("./modules/es7.math.clamp"),t("./modules/es7.math.deg-per-rad"),t("./modules/es7.math.degrees"),t("./modules/es7.math.fscale"),t("./modules/es7.math.iaddh"),t("./modules/es7.math.isubh"),t("./modules/es7.math.imulh"),t("./modules/es7.math.rad-per-deg"),t("./modules/es7.math.radians"),t("./modules/es7.math.scale"),t("./modules/es7.math.umulh"),t("./modules/es7.math.signbit"),t("./modules/es7.promise.finally"),t("./modules/es7.promise.try"),t("./modules/es7.reflect.define-metadata"),t("./modules/es7.reflect.delete-metadata"),t("./modules/es7.reflect.get-metadata"),t("./modules/es7.reflect.get-metadata-keys"),t("./modules/es7.reflect.get-own-metadata"),t("./modules/es7.reflect.get-own-metadata-keys"),t("./modules/es7.reflect.has-metadata"),t("./modules/es7.reflect.has-own-metadata"),t("./modules/es7.reflect.metadata"),t("./modules/es7.asap"),t("./modules/es7.observable"),t("./modules/web.timers"),t("./modules/web.immediate"),t("./modules/web.dom.iterable"),e.exports=t("./modules/_core")},{"./modules/_core":85,"./modules/es6.array.copy-within":191,"./modules/es6.array.every":192,"./modules/es6.array.fill":193,"./modules/es6.array.filter":194,"./modules/es6.array.find":196,"./modules/es6.array.find-index":195,"./modules/es6.array.for-each":197,"./modules/es6.array.from":198,"./modules/es6.array.index-of":199,"./modules/es6.array.is-array":200,"./modules/es6.array.iterator":201,"./modules/es6.array.join":202,"./modules/es6.array.last-index-of":203,"./modules/es6.array.map":204,"./modules/es6.array.of":205,"./modules/es6.array.reduce":207,"./modules/es6.array.reduce-right":206,"./modules/es6.array.slice":208,"./modules/es6.array.some":209,"./modules/es6.array.sort":210,"./modules/es6.array.species":211,"./modules/es6.date.now":212,"./modules/es6.date.to-iso-string":213,"./modules/es6.date.to-json":214,"./modules/es6.date.to-primitive":215,"./modules/es6.date.to-string":216,"./modules/es6.function.bind":217,"./modules/es6.function.has-instance":218,"./modules/es6.function.name":219,"./modules/es6.map":220,"./modules/es6.math.acosh":221,"./modules/es6.math.asinh":222,"./modules/es6.math.atanh":223,"./modules/es6.math.cbrt":224,"./modules/es6.math.clz32":225,"./modules/es6.math.cosh":226,"./modules/es6.math.expm1":227,"./modules/es6.math.fround":228,"./modules/es6.math.hypot":229,"./modules/es6.math.imul":230,"./modules/es6.math.log10":231,"./modules/es6.math.log1p":232,"./modules/es6.math.log2":233,"./modules/es6.math.sign":234,"./modules/es6.math.sinh":235,"./modules/es6.math.tanh":236,"./modules/es6.math.trunc":237,"./modules/es6.number.constructor":238,"./modules/es6.number.epsilon":239,"./modules/es6.number.is-finite":240,"./modules/es6.number.is-integer":241,"./modules/es6.number.is-nan":242,"./modules/es6.number.is-safe-integer":243,"./modules/es6.number.max-safe-integer":244,"./modules/es6.number.min-safe-integer":245,"./modules/es6.number.parse-float":246,"./modules/es6.number.parse-int":247,"./modules/es6.number.to-fixed":248,"./modules/es6.number.to-precision":249,"./modules/es6.object.assign":250,"./modules/es6.object.create":251,"./modules/es6.object.define-properties":252,"./modules/es6.object.define-property":253,"./modules/es6.object.freeze":254,"./modules/es6.object.get-own-property-descriptor":255,"./modules/es6.object.get-own-property-names":256,"./modules/es6.object.get-prototype-of":257,"./modules/es6.object.is":261,"./modules/es6.object.is-extensible":258,"./modules/es6.object.is-frozen":259,"./modules/es6.object.is-sealed":260,"./modules/es6.object.keys":262,"./modules/es6.object.prevent-extensions":263,"./modules/es6.object.seal":264,"./modules/es6.object.set-prototype-of":265,"./modules/es6.object.to-string":266,"./modules/es6.parse-float":267,"./modules/es6.parse-int":268,"./modules/es6.promise":269,"./modules/es6.reflect.apply":270,"./modules/es6.reflect.construct":271,"./modules/es6.reflect.define-property":272,"./modules/es6.reflect.delete-property":273,"./modules/es6.reflect.enumerate":274,"./modules/es6.reflect.get":277,"./modules/es6.reflect.get-own-property-descriptor":275,"./modules/es6.reflect.get-prototype-of":276,"./modules/es6.reflect.has":278,"./modules/es6.reflect.is-extensible":279,"./modules/es6.reflect.own-keys":280,"./modules/es6.reflect.prevent-extensions":281,"./modules/es6.reflect.set":283,"./modules/es6.reflect.set-prototype-of":282,"./modules/es6.regexp.constructor":284,"./modules/es6.regexp.flags":285,"./modules/es6.regexp.match":286,"./modules/es6.regexp.replace":287,"./modules/es6.regexp.search":288,"./modules/es6.regexp.split":289,"./modules/es6.regexp.to-string":290,"./modules/es6.set":291,"./modules/es6.string.anchor":292,"./modules/es6.string.big":293,"./modules/es6.string.blink":294,"./modules/es6.string.bold":295,"./modules/es6.string.code-point-at":296,"./modules/es6.string.ends-with":297,"./modules/es6.string.fixed":298,"./modules/es6.string.fontcolor":299,"./modules/es6.string.fontsize":300,"./modules/es6.string.from-code-point":301,"./modules/es6.string.includes":302,"./modules/es6.string.italics":303,"./modules/es6.string.iterator":304,"./modules/es6.string.link":305,"./modules/es6.string.raw":306,"./modules/es6.string.repeat":307,"./modules/es6.string.small":308,"./modules/es6.string.starts-with":309,"./modules/es6.string.strike":310,"./modules/es6.string.sub":311,"./modules/es6.string.sup":312,"./modules/es6.string.trim":313,"./modules/es6.symbol":314,"./modules/es6.typed.array-buffer":315,"./modules/es6.typed.data-view":316,"./modules/es6.typed.float32-array":317,"./modules/es6.typed.float64-array":318,"./modules/es6.typed.int16-array":319,"./modules/es6.typed.int32-array":320,"./modules/es6.typed.int8-array":321,"./modules/es6.typed.uint16-array":322,"./modules/es6.typed.uint32-array":323,"./modules/es6.typed.uint8-array":324,"./modules/es6.typed.uint8-clamped-array":325,"./modules/es6.weak-map":326,"./modules/es6.weak-set":327,"./modules/es7.array.flat-map":328,"./modules/es7.array.flatten":329,"./modules/es7.array.includes":330,"./modules/es7.asap":331,"./modules/es7.error.is-error":332,"./modules/es7.global":333,"./modules/es7.map.from":334,"./modules/es7.map.of":335,"./modules/es7.map.to-json":336,"./modules/es7.math.clamp":337,"./modules/es7.math.deg-per-rad":338,"./modules/es7.math.degrees":339,"./modules/es7.math.fscale":340,"./modules/es7.math.iaddh":341,"./modules/es7.math.imulh":342,"./modules/es7.math.isubh":343,"./modules/es7.math.rad-per-deg":344,"./modules/es7.math.radians":345,"./modules/es7.math.scale":346,"./modules/es7.math.signbit":347,"./modules/es7.math.umulh":348,"./modules/es7.object.define-getter":349,"./modules/es7.object.define-setter":350,"./modules/es7.object.entries":351,"./modules/es7.object.get-own-property-descriptors":352,"./modules/es7.object.lookup-getter":353,"./modules/es7.object.lookup-setter":354,"./modules/es7.object.values":355,"./modules/es7.observable":356,"./modules/es7.promise.finally":357,"./modules/es7.promise.try":358,"./modules/es7.reflect.define-metadata":359,"./modules/es7.reflect.delete-metadata":360,"./modules/es7.reflect.get-metadata":362,"./modules/es7.reflect.get-metadata-keys":361,"./modules/es7.reflect.get-own-metadata":364,"./modules/es7.reflect.get-own-metadata-keys":363,"./modules/es7.reflect.has-metadata":365,"./modules/es7.reflect.has-own-metadata":366,"./modules/es7.reflect.metadata":367,"./modules/es7.set.from":368,"./modules/es7.set.of":369,"./modules/es7.set.to-json":370,"./modules/es7.string.at":371,"./modules/es7.string.match-all":372,"./modules/es7.string.pad-end":373,"./modules/es7.string.pad-start":374,"./modules/es7.string.trim-left":375,"./modules/es7.string.trim-right":376,"./modules/es7.symbol.async-iterator":377,"./modules/es7.symbol.observable":378,"./modules/es7.system.global":379,"./modules/es7.weak-map.from":380,"./modules/es7.weak-map.of":381,"./modules/es7.weak-set.from":382,"./modules/es7.weak-set.of":383,"./modules/web.dom.iterable":384,"./modules/web.immediate":385,"./modules/web.timers":386}],388:[function(t,e,n){(function(t){function e(t){return Array.isArray?Array.isArray(t):"[object Array]"===m(t)}function r(t){return"boolean"==typeof t}function i(t){return null===t}function o(t){return null==t}function s(t){return"number"==typeof t}function a(t){return"string"==typeof t}function c(t){return"symbol"===(void 0===t?"undefined":v(t))}function u(t){return void 0===t}function l(t){return"[object RegExp]"===m(t)}function f(t){return"object"===(void 0===t?"undefined":v(t))&&null!==t}function p(t){return"[object Date]"===m(t)}function h(t){return"[object Error]"===m(t)||t instanceof Error}function d(t){return"function"==typeof t}function g(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"===(void 0===t?"undefined":v(t))||void 0===t}function m(t){return Object.prototype.toString.call(t)}var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.isArray=e,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=s,n.isString=a,n.isSymbol=c,n.isUndefined=u,n.isRegExp=l,n.isObject=f,n.isDate=p,n.isError=h,n.isFunction=d,n.isPrimitive=g,n.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":424}],389:[function(t,e,n){"use strict";function r(t){c.call(this,"digest"),this._hash=t}var i=t("inherits"),o=t("md5.js"),s=t("ripemd160"),a=t("sha.js"),c=t("cipher-base");i(r,c),r.prototype._update=function(t){this._hash.update(t)},r.prototype._final=function(){return this._hash.digest()},e.exports=function(t){return t=t.toLowerCase(),"md5"===t?new o:"rmd160"===t||"ripemd160"===t?new s:new r(a(t))}},{"cipher-base":60,inherits:421,"md5.js":485,ripemd160:513,"sha.js":524}],390:[function(t,e,n){var r=t("md5.js");e.exports=function(t){return(new r).update(t).digest()}},{"md5.js":485}],391:[function(t,e,n){"use strict";function r(t,e){s.call(this,"digest"),"string"==typeof e&&(e=a.from(e));var n="sha512"===t||"sha384"===t?128:64;if(this._alg=t,this._key=e,e.length>n){e=("rmd160"===t?new u:l(t)).update(e).digest()}else e.length<n&&(e=a.concat([e,f],n));for(var r=this._ipad=a.allocUnsafe(n),i=this._opad=a.allocUnsafe(n),o=0;o<n;o++)r[o]=54^e[o],i[o]=92^e[o];this._hash="rmd160"===t?new u:l(t),this._hash.update(r)}var i=t("inherits"),o=t("./legacy"),s=t("cipher-base"),a=t("safe-buffer").Buffer,c=t("create-hash/md5"),u=t("ripemd160"),l=t("sha.js"),f=a.alloc(128);i(r,s),r.prototype._update=function(t){this._hash.update(t)},r.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new u:l(this._alg)).update(this._opad).update(t).digest()},e.exports=function(t,e){return t=t.toLowerCase(),"rmd160"===t||"ripemd160"===t?new r("rmd160",e):"md5"===t?new o(c,e):new r(t,e)}},{"./legacy":392,"cipher-base":60,"create-hash/md5":390,inherits:421,ripemd160:513,"safe-buffer":515,"sha.js":524}],392:[function(t,e,n){"use strict";function r(t,e){s.call(this,"digest"),"string"==typeof e&&(e=o.from(e)),this._alg=t,this._key=e,e.length>c?e=t(e):e.length<c&&(e=o.concat([e,a],c));for(var n=this._ipad=o.allocUnsafe(c),r=this._opad=o.allocUnsafe(c),i=0;i<c;i++)n[i]=54^e[i],r[i]=92^e[i];this._hash=[n]}var i=t("inherits"),o=t("safe-buffer").Buffer,s=t("cipher-base"),a=o.alloc(128),c=64;i(r,s),r.prototype._update=function(t){this._hash.push(t)},r.prototype._final=function(){var t=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,t]))},e.exports=r},{"cipher-base":60,inherits:421,"safe-buffer":515}],393:[function(t,e,n){(function(r){function i(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),e){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r)}}function s(){return"object"===("undefined"==typeof console?"undefined":u(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(t){}}function c(){var t;try{t=n.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=e.exports=t("./debug"),n.log=s,n.formatArgs=o,n.save=a,n.load=c,n.useColors=i,n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},n.enable(c())}).call(this,t("_process"))},{"./debug":394,_process:492}],394:[function(t,e,n){function r(t){var e,r=0;for(e in t)r=(r<<5)-r+t.charCodeAt(e),r|=0;return n.colors[Math.abs(r)%n.colors.length]}function i(t){function e(){if(e.enabled){var t=e,r=+new Date,i=r-(u||r);t.diff=i,t.prev=u,t.curr=r,u=r;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=n.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(e,r){if("%%"===e)return e;a++;var i=n.formatters[r];if("function"==typeof i){var s=o[a];e=i.call(t,s),o.splice(a,1),a--}return e}),n.formatArgs.call(t,o);(e.log||n.log||console.log.bind(console)).apply(t,o)}}return e.namespace=t,e.enabled=n.enabled(t),e.useColors=n.useColors(),e.color=r(t),"function"==typeof n.init&&n.init(e),e}function o(t){n.save(t),n.names=[],n.skips=[];for(var e=("string"==typeof t?t:"").split(/[\s,]+/),r=e.length,i=0;i<r;i++)e[i]&&(t=e[i].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function s(){n.enable("")}function a(t){var e,r;for(e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=i.debug=i.default=i,n.coerce=c,n.disable=s,n.enable=o,n.enabled=a,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var u},{ms:486}],395:[function(t,e,n){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":396,"engine.io-parser":406}],396:[function(t,e,n){(function(n){function r(t,e){if(!(this instanceof r))return new r(t,e);e=e||{},t&&"object"===(void 0===t?"undefined":o(t))&&(e=t,t=null),t?(t=f(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=f(e.host).host),this.secure=null!=e.secure?e.secure:n.location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(n.location?location.hostname:"localhost"),this.port=e.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode;var i="object"===(void 0===n?"undefined":o(n))&&n;i.global===i&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function i(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t("./transports/index"),a=t("component-emitter"),c=t("debug")("engine.io-client:socket"),u=t("indexof"),l=t("engine.io-parser"),f=t("parseuri"),p=t("parseqs");e.exports=r,r.priorWebsocketSuccess=!1,a(r.prototype),r.protocol=l.protocol,r.Socket=r,r.Transport=t("./transport"),r.transports=t("./transports/index"),r.parser=t("engine.io-parser"),r.prototype.createTransport=function(t){c('creating transport "%s"',t);var e=i(this.query);e.EIO=l.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new s[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},r.prototype.open=function(){var t;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},r.prototype.setTransport=function(t){c("setting transport %s",t.name);var e=this;this.transport&&(c("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},r.prototype.probe=function(t){function e(){if(p.onlyBinaryUpgrades){var e=!this.supportsBinary&&p.transport.supportsBinary;f=f||e}f||(c('probe transport "%s" opened',t),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(e){if(!f)if("pong"===e.type&&"probe"===e.data){if(c('probe transport "%s" pong',t),p.upgrading=!0,p.emit("upgrading",l),!l)return;r.priorWebsocketSuccess="websocket"===l.name,c('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){f||"closed"!==p.readyState&&(c("changing transport and sending upgrade packet"),u(),p.setTransport(l),l.send([{type:"upgrade"}]),p.emit("upgrade",l),l=null,p.upgrading=!1,p.flush())})}else{c('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=l.name,p.emit("upgradeError",n)}}))}function n(){f||(f=!0,u(),l.close(),l=null)}function i(e){var r=new Error("probe error: "+e);r.transport=l.name,n(),c('probe transport "%s" failed because of error: %s',t,e),p.emit("upgradeError",r)}function o(){i("transport closed")}function s(){i("socket closed")}function a(t){l&&t.name!==l.name&&(c('"%s" works - aborting "%s"',t.name,l.name),n())}function u(){l.removeListener("open",e),l.removeListener("error",i),l.removeListener("close",o),p.removeListener("close",s),p.removeListener("upgrading",a)}c('probing transport "%s"',t);var l=this.createTransport(t,{probe:1}),f=!1,p=this;r.priorWebsocketSuccess=!1,l.once("open",e),l.once("error",i),l.once("close",o),this.once("close",s),this.once("upgrading",a),l.open()},r.prototype.onOpen=function(){if(c("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){c("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},r.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(c('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else c('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},r.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){c("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},r.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(c("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},r.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var i={type:t,data:e,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function t(){r.onClose("forced close"),c("socket closing - telling transport to close"),r.transport.close()}function e(){r.removeListener("upgrade",e),r.removeListener("upgradeError",e),t()}function n(){r.once("upgrade",e),r.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},r.prototype.onError=function(t){c("socket error %j",t),r.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},r.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){c('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~u(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":397,"./transports/index":398,"component-emitter":62,debug:404,"engine.io-parser":406,indexof:420,parseqs:489,parseuri:490}],397:[function(t,e,n){function r(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var i=t("engine.io-parser"),o=t("component-emitter");e.exports=r,o(r.prototype),r.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(t){var e=i.decodePacket(t,this.socket.binaryType);this.onPacket(e)},r.prototype.onPacket=function(t){this.emit("packet",t)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":62,"engine.io-parser":406}],398:[function(t,e,n){(function(e){function r(t){var n=!1,r=!1,a=!1!==t.jsonp;if(e.location){var c="https:"===location.protocol,u=location.port;u||(u=c?443:80),n=t.hostname!==location.hostname||u!==t.port,r=t.secure!==c}if(t.xdomain=n,t.xscheme=r,"open"in new i(t)&&!t.forceJSONP)return new o(t);if(!a)throw new Error("JSONP disabled");return new s(t)}var i=t("xmlhttprequest-ssl"),o=t("./polling-xhr"),s=t("./polling-jsonp"),a=t("./websocket");n.polling=r,n.websocket=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":399,"./polling-xhr":400,"./websocket":402,"xmlhttprequest-ssl":403}],399:[function(t,e,n){(function(n){function r(){}function i(t){o.call(this,t),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var e=this;a.push(function(t){e.onData(t)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=r)},!1)}var o=t("./polling"),s=t("component-inherit");e.exports=i;var a,c=/\n/g,u=/\\n/g;s(i,o),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},i.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),
e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},i.prototype.doWrite=function(t,e){function n(){r(),e()}function r(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(t){i.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+i.iframeId+'">';o=document.createElement(t)}catch(t){o=document.createElement("iframe"),o.name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,s=document.createElement("form"),a=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=l,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),r(),t=t.replace(u,"\\\n"),this.area.value=t.replace(c,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":401,"component-inherit":63}],400:[function(t,e,n){(function(n){function r(){}function i(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,n.location){var e="https:"===location.protocol,r=location.port;r||(r=e?443:80),this.xd=t.hostname!==n.location.hostname||r!==t.port,this.xs=t.secure!==e}}function o(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in o.requests)o.requests.hasOwnProperty(t)&&o.requests[t].abort()}var a=t("xmlhttprequest-ssl"),c=t("./polling"),u=t("component-emitter"),l=t("component-inherit"),f=t("debug")("engine.io-client:polling-xhr");e.exports=i,e.exports.Request=o,l(i,c),i.prototype.supportsBinary=!0,i.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new o(t)},i.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),i=this;r.on("success",e),r.on("error",function(t){i.onError("xhr post error",t)}),this.sendXhr=r},i.prototype.doPoll=function(){f("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},u(o.prototype),o.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new a(t),r=this;try{f("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&e.setRequestHeader(i,this.extraHeaders[i])}}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){r.onLoad()},e.onerror=function(){r.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");r.supportsBinary&&"application/octet-stream"===t&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?r.onLoad():setTimeout(function(){r.onError(e.status)},0))},f("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout(function(){r.onError(t)},0)}n.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},o.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},o.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,t)try{this.xhr.abort()}catch(t){}n.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},o.prototype.hasXDR=function(){return void 0!==n.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},n.document&&(n.attachEvent?n.attachEvent("onunload",s):n.addEventListener&&n.addEventListener("beforeunload",s,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":401,"component-emitter":62,"component-inherit":63,debug:404,"xmlhttprequest-ssl":403}],401:[function(t,e,n){function r(t){var e=t&&t.forceBase64;l&&!e||(this.supportsBinary=!1),i.call(this,t)}var i=t("../transport"),o=t("parseqs"),s=t("engine.io-parser"),a=t("component-inherit"),c=t("yeast"),u=t("debug")("engine.io-client:polling");e.exports=r;var l=function(){return null!=new(t("xmlhttprequest-ssl"))({xdomain:!1}).responseType}();a(r,i),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(t){function e(){u("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){u("pre-pause polling complete"),--r||e()})),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",function(){u("pre-pause writing complete"),--r||e()}))}else e()},r.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(t){var e=this;u("polling got data %s",t);var n=function(t,n,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function t(){u("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},r.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},{"../transport":397,"component-inherit":63,debug:404,"engine.io-parser":406,parseqs:489,"xmlhttprequest-ssl":403,yeast:632}],402:[function(t,e,n){(function(n){function r(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=f&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(p=i),o.call(this,t)}var i,o=t("../transport"),s=t("engine.io-parser"),a=t("parseqs"),c=t("component-inherit"),u=t("yeast"),l=t("debug")("engine.io-client:websocket"),f=n.WebSocket||n.MozWebSocket;if("undefined"==typeof window)try{i=t("ws")}catch(t){}var p=f;p||"undefined"!=typeof window||(p=i),e.exports=r,c(r,o),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new p(t,e):new p(t):new p(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},r.prototype.write=function(t){function e(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var i=t.length,o=0,a=i;o<a;o++)!function(t){s.encodePacket(t,r.supportsBinary,function(o){if(!r.usingBrowserWebSocket){var s={};if(t.options&&(s.compress=t.options.compress),r.perMessageDeflate){("string"==typeof o?n.Buffer.byteLength(o):o.length)<r.perMessageDeflate.threshold&&(s.compress=!1)}}try{r.usingBrowserWebSocket?r.ws.send(o):r.ws.send(o,s)}catch(t){l("websocket closed before onclose event")}--i||e()})}(t[o])},r.prototype.onClose=function(){o.prototype.onClose.call(this)},r.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},r.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===r.prototype.name)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transport":397,"component-inherit":63,debug:404,"engine.io-parser":406,parseqs:489,ws:56,yeast:632}],403:[function(t,e,n){(function(n){var r=t("has-cors");e.exports=function(t){var e=t.xdomain,i=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(t){}if(!e)try{return new(n[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"has-cors":415}],404:[function(t,e,n){(function(r){function i(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),e){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r)}}function s(){return"object"===("undefined"==typeof console?"undefined":u(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(t){}}function c(){var t;try{t=n.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=e.exports=t("./debug"),n.log=s,n.formatArgs=o,n.save=a,n.load=c,n.useColors=i,n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},n.enable(c())}).call(this,t("_process"))},{"./debug":405,_process:492}],405:[function(t,e,n){function r(t){var e,r=0;for(e in t)r=(r<<5)-r+t.charCodeAt(e),r|=0;return n.colors[Math.abs(r)%n.colors.length]}function i(t){function e(){if(e.enabled){var t=e,r=+new Date,o=r-(i||r);t.diff=o,t.prev=i,t.curr=r,i=r;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(e,r){if("%%"===e)return e;c++;var i=n.formatters[r];if("function"==typeof i){var o=s[c];e=i.call(t,o),s.splice(c,1),c--}return e}),n.formatArgs.call(t,s);(e.log||n.log||console.log.bind(console)).apply(t,s)}}var i;return e.namespace=t,e.enabled=n.enabled(t),e.useColors=n.useColors(),e.color=r(t),e.destroy=o,"function"==typeof n.init&&n.init(e),n.instances.push(e),e}function o(){var t=n.instances.indexOf(this);return-1!==t&&(n.instances.splice(t,1),!0)}function s(t){n.save(t),n.names=[],n.skips=[];var e,r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(e=0;e<i;e++)r[e]&&(t=r[e].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")));for(e=0;e<n.instances.length;e++){var o=n.instances[e];o.enabled=n.enabled(o.namespace)}}function a(){n.enable("")}function c(t){if("*"===t[t.length-1])return!0;var e,r;for(e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1}function u(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=i.debug=i.default=i,n.coerce=u,n.disable=a,n.enable=s,n.enabled=c,n.humanize=t("ms"),n.instances=[],n.names=[],n.skips=[],n.formatters={}},{ms:486}],406:[function(t,e,n){(function(e){function r(t,e){return e("b"+n.packets[t.type]+t.data.data)}function i(t,e,r){if(!e)return n.encodeBase64Packet(t,r);var i=t.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=y[t.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return r(s.buffer)}function o(t,e,r){if(!e)return n.encodeBase64Packet(t,r);var i=new FileReader;return i.onload=function(){t.data=i.result,n.encodePacket(t,e,!0,r)},i.readAsArrayBuffer(t.data)}function s(t,e,r){if(!e)return n.encodeBase64Packet(t,r);if(v)return o(t,e,r);var i=new Uint8Array(1);return i[0]=y[t.type],r(new w([i.buffer,t.data]))}function a(t){try{t=d.decode(t,{strict:!1})}catch(t){return!1}return t}function c(t,e,n){for(var r=new Array(t.length),i=h(t.length,n),o=0;o<t.length;o++)!function(t,n,i){e(n,function(e,n){r[t]=n,i(e,r)})}(o,t[o],i)}var u,l=t("./keys"),f=t("has-binary2"),p=t("arraybuffer.slice"),h=t("after"),d=t("./utf8");e&&e.ArrayBuffer&&(u=t("base64-arraybuffer"));var g="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),m="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),v=g||m;n.protocol=3;var y=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},_=l(y),b={type:"error",data:"parser error"},w=t("blob");n.encodePacket=function(t,n,o,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof o&&(a=o,o=null);var c=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&c instanceof ArrayBuffer)return i(t,n,a);if(w&&c instanceof e.Blob)return s(t,n,a);if(c&&c.base64)return r(t,a);var u=y[t.type];return void 0!==t.data&&(u+=o?d.encode(String(t.data),{strict:!1}):String(t.data)),a(""+u)},n.encodeBase64Packet=function(t,r){var i="b"+n.packets[t.type];if(w&&t.data instanceof e.Blob){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];r(i+t)},o.readAsDataURL(t.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var a=new Uint8Array(t.data),c=new Array(a.length),u=0;u<a.length;u++)c[u]=a[u];s=String.fromCharCode.apply(null,c)}return i+=e.btoa(s),r(i)},n.decodePacket=function(t,e,r){if(void 0===t)return b;if("string"==typeof t){if("b"===t.charAt(0))return n.decodeBase64Packet(t.substr(1),e);if(r&&!1===(t=a(t)))return b;var i=t.charAt(0);return Number(i)==i&&_[i]?t.length>1?{type:_[i],data:t.substring(1)}:{type:_[i]}:b}var o=new Uint8Array(t),i=o[0],s=p(t,1);return w&&"blob"===e&&(s=new w([s])),{type:_[i],data:s}},n.decodeBase64Packet=function(t,e){var n=_[t.charAt(0)];if(!u)return{type:n,data:{base64:!0,data:t.substr(1)}};var r=u.decode(t.substr(1));return"blob"===e&&w&&(r=new w([r])),{type:n,data:r}},n.encodePayload=function(t,e,r){function i(t){return t.length+":"+t}function o(t,r){n.encodePacket(t,!!s&&e,!1,function(t){r(null,i(t))})}"function"==typeof e&&(r=e,e=null);var s=f(t);return e&&s?w&&!v?n.encodePayloadAsBlob(t,r):n.encodePayloadAsArrayBuffer(t,r):t.length?void c(t,o,function(t,e){return r(e.join(""))}):r("0:")},n.decodePayload=function(t,e,r){if("string"!=typeof t)return n.decodePayloadAsBinary(t,e,r);"function"==typeof e&&(r=e,e=null);var i;if(""===t)return r(b,0,1);for(var o,s,a="",c=0,u=t.length;c<u;c++){var l=t.charAt(c);if(":"===l){if(""===a||a!=(o=Number(a)))return r(b,0,1);if(s=t.substr(c+1,o),a!=s.length)return r(b,0,1);if(s.length){if(i=n.decodePacket(s,e,!1),b.type===i.type&&b.data===i.data)return r(b,0,1);if(!1===r(i,c+o,u))return}c+=o,a=""}else a+=l}return""!==a?r(b,0,1):void 0},n.encodePayloadAsArrayBuffer=function(t,e){function r(t,e){n.encodePacket(t,!0,!0,function(t){return e(null,t)})}if(!t.length)return e(new ArrayBuffer(0));c(t,r,function(t,n){var r=n.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),i=new Uint8Array(r),o=0;return n.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}i[o++]=e?0:1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(var r=new Uint8Array(n),s=0;s<r.length;s++)i[o++]=r[s]}),e(i.buffer)})},n.encodePayloadAsBlob=function(t,e){function r(t,e){n.encodePacket(t,!0,!0,function(t){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);t=r.buffer,n[0]=0}for(var o=t instanceof ArrayBuffer?t.byteLength:t.size,s=o.toString(),a=new Uint8Array(s.length+1),i=0;i<s.length;i++)a[i]=parseInt(s[i]);if(a[s.length]=255,w){var c=new w([n.buffer,a.buffer,t]);e(null,c)}})}c(t,r,function(t,n){return e(new w(n))})},n.decodePayloadAsBinary=function(t,e,r){"function"==typeof e&&(r=e,e=null);for(var i=t,o=[];i.byteLength>0;){for(var s=new Uint8Array(i),a=0===s[0],c="",u=1;255!==s[u];u++){if(c.length>310)return r(b,0,1);c+=s[u]}i=p(i,2+c.length),c=parseInt(c);var l=p(i,0,c);if(a)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(t){var f=new Uint8Array(l);l="";for(var u=0;u<f.length;u++)l+=String.fromCharCode(f[u])}o.push(l),i=p(i,c)}var h=o.length;o.forEach(function(t,i){r(n.decodePacket(t,e,!0),i,h)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":407,"./utf8":408,after:39,"arraybuffer.slice":40,"base64-arraybuffer":52,blob:54,"has-binary2":413}],407:[function(t,e,n){e.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},{}],408:[function(e,n,r){(function(e){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o){function s(t){for(var e,n,r=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function a(t){for(var e,n=t.length,r=-1,i="";++r<n;)e=t[r],e>65535&&(e-=65536,i+=w(e>>>10&1023|55296),e=56320|1023&e),i+=w(e);return i}function c(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function u(t,e){return w(t>>e&63|128)}function l(t,e){if(0==(4294967168&t))return w(t);var n="";return 0==(4294965248&t)?n=w(t>>6&31|192):0==(4294901760&t)?(c(t,e)||(t=65533),n=w(t>>12&15|224),n+=u(t,6)):0==(4292870144&t)&&(n=w(t>>18&7|240),n+=u(t,12),n+=u(t,6)),n+=w(63&t|128)}function f(t,e){e=e||{};for(var n,r=!1!==e.strict,i=s(t),o=i.length,a=-1,c="";++a<o;)n=i[a],c+=l(n,r);return c}function p(){if(b>=_)throw Error("Invalid byte index");var t=255&y[b];if(b++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function h(t){var e,n,r,i,o;if(b>_)throw Error("Invalid byte index");if(b==_)return!1;if(e=255&y[b],b++,0==(128&e))return e;if(192==(224&e)){if(n=p(),(o=(31&e)<<6|n)>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if(n=p(),r=p(),(o=(15&e)<<12|n<<6|r)>=2048)return c(o,t)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(n=p(),r=p(),i=p(),(o=(7&e)<<18|n<<12|r<<6|i)>=65536&&o<=1114111))return o;throw Error("Invalid UTF-8 detected")}function d(t,e){e=e||{};var n=!1!==e.strict;y=s(t),_=y.length,b=0;for(var r,i=[];!1!==(r=h(n));)i.push(r);return a(i)}var g="object"==(void 0===r?"undefined":i(r))&&r,m="object"==(void 0===n?"undefined":i(n))&&n&&n.exports==g&&n,v="object"==(void 0===e?"undefined":i(e))&&e;v.global!==v&&v.window!==v||(o=v);var y,_,b,w=String.fromCharCode,x={version:"2.1.2",encode:f,decode:d};if("function"==typeof t&&"object"==i(t.amd)&&t.amd)t(function(){return x});else if(g&&!g.nodeType)if(m)m.exports=x;else{var S={},j=S.hasOwnProperty;for(var E in x)j.call(x,E)&&(g[E]=x[E])}else o.utf8=x}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],409:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"===(void 0===t?"undefined":c(t))&&null!==t}function a(t){return void 0===t}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,c,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(s(n))for(o=Array.prototype.slice.call(arguments,1),u=n.slice(),r=u.length,c=0;c<r;c++)u[c].apply(this,o);return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],410:[function(t,e,n){var r=[],i=r.forEach,o=r.slice;e.exports=function(t){return i.call(o.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t}},{}],411:[function(t,e,n){function r(t){o.call(this);var e=t||{};this.config={chunksize:16384,pacing:0};var n;for(n in e)this.config[n]=e[n];this.file=null,this.channel=null}function i(){o.call(this),this.receiveBuffer=[],this.received=0,this.metadata={},this.channel=null}var o=t("wildemitter"),s=t("util");s.inherits(r,o),r.prototype.send=function(t,e){var n=this;this.file=t,this.channel=e;var r="number"!=typeof e.bufferedAmountLowThreshold,i=0,o=function o(){var s=new window.FileReader;s.onload=function(){return function(s){n.channel.send(s.target.result),n.emit("progress",i,t.size,s.target.result),t.size>i+s.target.result.byteLength?r?window.setTimeout(o,n.config.pacing):e.bufferedAmount<=e.bufferedAmountLowThreshold&&window.setTimeout(o,0):(n.emit("progress",t.size,t.size,null),n.emit("sentFile")),i+=n.config.chunksize}}();var a=t.slice(i,i+n.config.chunksize);s.readAsArrayBuffer(a)};r||(e.bufferedAmountLowThreshold=8*this.config.chunksize,e.addEventListener("bufferedamountlow",o)),window.setTimeout(o,0)},s.inherits(i,o),i.prototype.receive=function(t,e){var n=this;t&&(this.metadata=t),this.channel=e,e.binaryType="arraybuffer",this.channel.onmessage=function(t){var e=t.data.byteLength;n.received+=e,n.receiveBuffer.push(t.data),n.emit("progress",n.received,n.metadata.size,t.data),n.received===n.metadata.size?(n.emit("receivedFile",new window.Blob(n.receiveBuffer),n.metadata),n.receiveBuffer=[]):n.received>n.metadata.size&&(console.error("received more than expected, discarding..."),n.receiveBuffer=[])}},e.exports={},e.exports.support="undefined"!=typeof window&&window&&window.File&&window.FileReader&&window.Blob,e.exports.Sender=r,e.exports.Receiver=i},{util:621,wildemitter:628}],412:[function(t,e,n){function r(t){o.call(this);var e=this;this.base=new c.Sender(t);var n=t||{};n.hash||(n.hash="sha-1"),this.hash=a.createHash(n.hash),this.base.on("progress",function(t,n,r){e.emit("progress",t,n,r),r&&e.hash.update(new Uint8Array(r))}),this.base.on("sentFile",function(){e.emit("sentFile",{hash:e.hash.digest("hex"),algo:n.hash})})}function i(t){o.call(this);var e=this;this.base=new c.Receiver(t);var n=t||{};n.hash||(n.hash="sha-1"),this.hash=a.createHash(n.hash),this.base.on("progress",function(t,n,r){e.emit("progress",t,n,r),r&&e.hash.update(new Uint8Array(r))}),this.base.on("receivedFile",function(t,n){n.actualhash=e.hash.digest("hex"),e.emit("receivedFile",t,n)})}var o=t("wildemitter"),s=t("util"),a=t("iana-hashes"),c=t("./filetransfer");s.inherits(r,o),r.prototype.send=function(){this.base.send.apply(this.base,arguments)},s.inherits(i,o),i.prototype.receive=function(){this.base.receive.apply(this.base,arguments)},Object.defineProperty(i.prototype,"metadata",{get:function(){return this.base.metadata},set:function(t){this.base.metadata=t}}),e.exports={},e.exports.support=c.support,e.exports.Sender=r,e.exports.Receiver=i},{"./filetransfer":411,"iana-hashes":417,util:621,wildemitter:628}],413:[function(t,e,n){(function(n){function r(t){if(!t||"object"!==(void 0===t?"undefined":i(t)))return!1;if(o(t)){for(var e=0,s=t.length;e<s;e++)if(r(t[e]))return!0;return!1}if("function"==typeof n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(t)||"function"==typeof n.ArrayBuffer&&t instanceof ArrayBuffer||a&&t instanceof Blob||c&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return r(t.toJSON(),!0);for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)&&r(t[u]))return!0;return!1}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){
return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("isarray"),s=Object.prototype.toString,a="function"==typeof n.Blob||"[object BlobConstructor]"===s.call(n.Blob),c="function"==typeof n.File||"[object FileConstructor]"===s.call(n.File);e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:414}],414:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],415:[function(t,e,n){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},{}],416:[function(t,e,n){"use strict";function r(t,e){if(!o.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}function i(t){s.call(this),this._block=o.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var o=t("safe-buffer").Buffer,s=t("stream").Transform;t("inherits")(i,s),i.prototype._transform=function(t,e,n){var r=null;try{this.update(t,e)}catch(t){r=t}n(r)},i.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},i.prototype.update=function(t,e){if(r(t,"Data"),this._finalized)throw new Error("Digest already called");o.isBuffer(t)||(t=o.from(t,e));for(var n=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)n[s++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)n[this._blockOffset++]=t[i++];for(var a=0,c=8*t.length;c>0;++a)this._length[a]+=c,(c=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*c);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},i.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=i},{inherits:421,"safe-buffer":515,stream:545}],417:[function(t,e,n){var r=t("create-hash"),i=t("create-hmac"),o=t("./lib/get-hashes"),s={md2:"md2",md5:"md5","sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512"},a=Object.keys(s);n.getHashes=function(){for(var t=[],e=o(),n=0,r=a.length;n<r;n++)e.indexOf(s[a[n]])>=0&&t.push(a[n]);return t},n.createHash=function(t){return t=t.toLowerCase(),s[t]&&(t=s[t]),r(t)},n.createHmac=function(t,e){return t=t.toLowerCase(),s[t]&&(t=s[t]),i(t,e)}},{"./lib/get-hashes":418,"create-hash":389,"create-hmac":391}],418:[function(t,e,n){e.exports=function(){return["sha1","sha224","sha256","sha384","sha512","md5","rmd160"]}},{}],419:[function(t,e,n){n.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?i-1:0,p=n?-1:1,h=t[e+f];for(f+=p,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+t[e+f],f+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=p,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=u}return(h?-1:1)*s*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),e+=s+f>=1?p/c:p*Math.pow(2,1-f),e*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*c-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+h]=255&a,h+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+h]=255&s,h+=d,s/=256,u-=8);t[n+h-d]|=128*g}},{}],420:[function(t,e,n){var r=[].indexOf;e.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],421:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],422:[function(t,e,n){function r(t,e){for(var n=[],r=0;r<t.length;r++)i(e,t[r])>-1&&n.push(t[r]);return n}function i(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}e.exports=r,r.big=function(t,e){for(var n=[],r={},i=0;i<e.length;i++)r[e[i]]=!0;for(var i=0;i<t.length;i++)r[t[i]]&&n.push(t[i]);return n}},{}],423:[function(t,e,n){(function(){var n,r,i,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=5e3,r=t("events").EventEmitter,i=function(t){function e(t,e){if(this.interval=t.interval,this.maxSize=t.maxSize,this.callback=e,this.cache=[],null==this.interval&&(this.interval=n),null==this.maxSize&&(this.maxSize=0),"function"!=typeof this.callback)throw new Error("callback required to be function")}return s(e,t),e.prototype.cache=null,e.prototype.interval=null,e.prototype.timeoutId=null,e.prototype.push=function(t){this.cache.push(t),this.cache.length===this.maxSize&&this.burst(),this.timeoutId||(this.timeoutId=setTimeout(function(t){return function(){return t.burst()}}(this),this.interval))},e.prototype.burst=function(){return this.callback(this.cache),this.cancel(),this.emit("burst")},e.prototype.cancel=function(){this.cache=[],this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)},e}(r),e.exports=i}).call(this)},{events:409}],424:[function(t,e,n){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function i(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}e.exports=function(t){return null!=t&&(r(t)||i(t)||!!t._isBuffer)}},{}],425:[function(t,e,n){arguments[4][414][0].apply(n,arguments)},{dup:414}],426:[function(t,e,n){function r(t){s.call(this,t),this.pc=new a({iceServers:t.iceServers||[],useJingle:!0},t.constraints||{}),this.pc.on("ice",this.onIceCandidate.bind(this)),this.pc.on("iceConnectionStateChange",this.onIceStateChange.bind(this)),this.pc.on("addChannel",this.onChannelAdded.bind(this)),this.sender=null,this.receiver=null}var i=t("util"),o=t("extend-object"),s=t("jingle-session"),a=t("rtcpeerconnection"),c=t("filetransfer/hashed");i.inherits(r,s),r.prototype=o(r.prototype,{start:function(t){var e=this;this.state="pending",this.pc.isInitiator=!0,this.sender=new c.Sender,this.sender.on("progress",function(t,n){e._log("info","Send progress "+t+"/"+n)}),this.sender.on("sentFile",function(t){e._log("info","Sent file",t.name);var n=e.pc.localDescription.contents[0];delete n.transport,n.application={applicationType:"filetransfer",offer:{hash:{algo:t.algo,value:t.hash}}},e.send("description-info",{contents:[n]}),e.emit("sentFile",e,t)});var n=this.pc.createDataChannel("filetransfer");n.onopen=function(){e.sender.send(t,n)};var r={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}};this.pc.offer(r,function(n,r){if(n)return e._log("error","Could not create WebRTC offer",n),e.end("failed-application",!0);r.jingle.contents[0].application={applicationType:"filetransfer",offer:{date:t.lastModifiedDate,name:t.name,size:t.size,hash:{algo:"sha-1",value:""}}},e.send("session-initiate",r.jingle)})},accept:function(){var t=this;this._log("info","Accepted incoming session"),this.state="active",this.pc.answer(function(e,n){if(e)return t._log("error","Could not create WebRTC answer",e),t.end("failed-application");t.send("session-accept",n.jingle)})},end:function(t,e){this.pc.close(),s.prototype.end.call(this,t,e)},maybeReceivedFile:function(){this.receiver.metadata.hash.value&&(this.receiver.metadata.hash.value===this.receiver.metadata.actualhash?(this._log("info","File hash matches"),this.emit("receivedFile",this,this.receivedFile,this.receiver.metadata),this.end("success")):(this._log("error","File hash does not match"),this.end("media-error")))},onIceCandidate:function(t){this._log("info","Discovered new ICE candidate",t.jingle),this.send("transport-info",t.jingle)},onIceStateChange:function(){switch(this.pc.iceConnectionState){case"checking":this.connectionState="connecting";break;case"completed":case"connected":this.connectionState="connected";break;case"disconnected":"stable"===this.pc.signalingState?this.connectionState="interrupted":this.connectionState="disconnected";break;case"failed":this.connectionState="failed",this.end("failed-transport");break;case"closed":this.connectionState="disconnected"}},onChannelAdded:function(t){this.receiver.receive(null,t)},onSessionInitiate:function(t,e){var n=this;this._log("info","Initiating incoming session"),this.state="pending",this.pc.isInitiator=!1;var r=t.contents[0].application;this.receiver=new c.Receiver({hash:r.offer.hash.algo}),this.receiver.on("progress",function(t,e){n._log("info","Receive progress "+t+"/"+e)}),this.receiver.on("receivedFile",function(t){n.receivedFile=t,n.maybeReceivedFile()}),this.receiver.metadata=r.offer,t.contents[0].application={applicationType:"datachannel"},this.pc.handleOffer({type:"offer",jingle:t},function(t){if(t)return n._log("error","Could not create WebRTC answer"),e({condition:"general-error"});e()})},onSessionAccept:function(t,e){var n=this;this.state="active",t.contents[0].application={applicationType:"datachannel"},this.pc.handleAnswer({type:"answer",jingle:t},function(t){if(t)return n._log("error","Could not process WebRTC answer"),e({condition:"general-error"});n.emit("accepted",n),e()})},onSessionTerminate:function(t,e){this._log("info","Terminating session"),this.pc.close(),s.prototype.end.call(this,t.reason,!0),e()},onDescriptionInfo:function(t,e){var n=t.contents[0].application.offer.hash;this.receiver.metadata.hash=n,this.receiver.metadata.actualhash&&this.maybeReceivedFile(),e()},onTransportInfo:function(t,e){this.pc.processIce(t,function(){e()})}}),e.exports=r},{"extend-object":410,"filetransfer/hashed":412,"jingle-session":430,rtcpeerconnection:514,util:621}],427:[function(t,e,n){function r(t){s.call(this,t),this.pc.on("addChannel",this.handleDataChannelAdded.bind(this)),this._channels={}}var i=t("util"),o=t("extend-object"),s=t("jingle-media-session-purecloud");i.inherits(r,s),Object.defineProperties(r.prototype,{channels:{get:function(){return this._channels}}}),r.prototype=o(r.prototype,{start:function(t,e){this.getDataChannel("jingle-media-session"),s.prototype.start.call(this,t,e)},sendDirectly:function(t,e,n,r){var i={type:e,creator:n,payload:r},o=this.getDataChannel(t);return"open"==o.readyState&&(o.send(JSON.stringify(i)),!0)},getDataChannel:function(t,e){if(!this.pc.createDataChannel)return this.emit("error",new Error("createDataChannel not supported"));var n=this.channels[t];return e=e||{},n||(n=this.channels[t]=this.pc.createDataChannel(t,e),this._observeDataChannel(n),n)},handleDataChannelAdded:function(t){this.channels[t.label]=t,this._observeDataChannel(t)},_observeDataChannel:function(t){var e=this;t.onclose=this.emit.bind(this,"channelClose",t),t.onerror=this.emit.bind(this,"channelError",t),t.onmessage=function(n){e.emit("channelMessage",e,t.label,JSON.parse(n.data),t,n)},t.onopen=this.emit.bind(this,"channelOpen",t)}}),e.exports=r},{"extend-object":410,"jingle-media-session-purecloud":428,util:621}],428:[function(t,e,n){function r(t,e){"rtp"===t.application.applicationType&&(delete t.transport,delete t.application.payloads,delete t.application.headerExtensions,t.application.mux=!1,t.application.sources&&(t.application.sources=t.application.sources.filter(function(t){return e.id===t.parameters[1].value.split(" ")[0]})),t.application.sourceGroups&&(t.application.sourceGroups=t.application.sourceGroups.filter(function(e){for(var n=!1,r=0;r<t.application.sources.length;r++)if(t.application.sources[r].ssrc===e.sources[0]){n=!0;break}return n})))}function i(t){(t.application.sources||[]).forEach(function(t){t.parameters=t.parameters.filter(function(t){return!("mslabel"===t.key||"label"===t.key)})})}function o(t){u.call(this,t),this.pc=new l({iceServers:t.iceServers||[],iceTransportPolicy:t.iceTransportPolicy||"all",useJingle:!0},t.constraints||{}),this.pc.on("ice",this.onIceCandidate.bind(this,t)),this.pc.on("endOfCandidates",this.onIceEndOfCandidates.bind(this,t)),this.pc.on("iceConnectionStateChange",this.onIceStateChange.bind(this,t)),this.pc.on("addStream",this.onAddStream.bind(this)),this.pc.on("removeStream",this.onRemoveStream.bind(this)),this.pc.on("addChannel",this.onAddChannel.bind(this)),t.stream&&this.addStream(t.stream),this._ringing=!1}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=t("util"),c=t("extend-object"),u=t("jingle-session"),l=t("rtcpeerconnection");a.inherits(o,u),Object.defineProperties(o.prototype,{ringing:{get:function(){return this._ringing},set:function(t){t!==this._ringing&&(this._ringing=t,this.emit("change:ringing",t))}},streams:{get:function(){return"closed"!==this.pc.signalingState?this.pc.getRemoteStreams():[]}}}),o.prototype=c(o.prototype,{start:function(t,e){var n=this;this.state="pending",e=e||function(){},this.pc.isInitiator=!0,this.pc.offer(t,function(r,o){if(r)return n._log("error","Could not create WebRTC offer",r),n.end("failed-application",!0);t&&t.mandatory&&o.jingle.contents.forEach(function(e){var n=e.application.media;"rtp"===e.application.applicationType&&(t.mandatory.OfferToReceiveAudio||"audio"!==n||(e.senders="initiator"),t.mandatory.OfferToReceiveVideo||"video"!==n||(e.senders="initiator"))}),o.jingle.contents.forEach(i),n.send("session-initiate",o.jingle),e()})},accept:function(t,e){var n=this;1===arguments.length&&"function"==typeof t&&(e=t,t={}),e=e||function(){},t=t||{};var r=t.constraints||{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};n.constraints=r,e=e||function(){},t=t||{},n.constraints=t.constraints||{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},this._log("info","Accepted incoming session"),this.state="active",this.pc.answer(n.constraints,function(t,r){if(t)return n._log("error","Could not create WebRTC answer",t),n.end("failed-application");r.jingle.contents.forEach(i),n.send("session-accept",r.jingle),e()})},end:function(t,e){var n=this;this.streams.forEach(function(t){n.onRemoveStream({stream:t})}),"closed"!==this.pc.signalingState&&this.pc.close(),u.prototype.end.call(this,t,e)},ring:function(){this._log("info","Ringing on incoming session"),this.ringing=!0,this.send("session-info",{ringing:!0})},mute:function(t,e){this._log("info","Muting",e),this.send("session-info",{mute:{creator:t,name:e}})},unmute:function(t,e){this._log("info","Unmuting",e),this.send("session-info",{unmute:{creator:t,name:e}})},hold:function(){this._log("info","Placing on hold"),this.send("session-info",{hold:!0})},resume:function(){this._log("info","Resuming from hold"),this.send("session-info",{active:!0})},addStream:function(t,e,n){var i=this;n=n||function(){},this.pc.addStream(t),e&&("object"===(void 0===e?"undefined":s(e))&&(i.constraints=e),this.pc.isInitiator?this.pc.offer(i.constraints,function(e,o){if(e)return i._log("error","Could not create offer for adding new stream",e),n(e);i.pc.handleAnswer({type:"answer",jingle:i.pc.remoteDescription},function(e){if(e)return i._log("error","Could not process answer for adding new stream",e),n(e);o.jingle.contents.forEach(function(e){r(e,t)}),o.jingle.contents=o.jingle.contents.filter(function(t){return"rtp"===t.application.applicationType&&t.application.sources&&t.application.sources.length}),delete o.jingle.groups,i.send("source-add",o.jingle),n()})}):this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(e){if(e)return i._log("error","Could not process offer for adding new stream",e),n(e);i.pc.answer(i.constraints,function(e,o){if(e)return i._log("error","Could not create answer for adding new stream",e),n(e);o.jingle.contents.forEach(function(e){r(e,t)}),o.jingle.contents=o.jingle.contents.filter(function(t){return"rtp"===t.application.applicationType&&t.application.sources&&t.application.sources.length}),delete o.jingle.groups,i.send("source-add",o.jingle),n()})}))},addStream2:function(t,e){this.addStream(t,!0,e)},removeStream:function(t,e,n){var i=this;if(n=n||function(){},!e)return void this.pc.removeStream(t);"object"===(void 0===e?"undefined":s(e))&&(i.constraints=e);var o=this.pc.localDescription;o.contents.forEach(function(e){r(e,t)}),o.contents=o.contents.filter(function(t){return"rtp"===t.application.applicationType&&t.application.sources&&t.application.sources.length}),delete o.groups,this.send("source-remove",o),this.pc.removeStream(t),this.pc.isInitiator?this.pc.offer(i.constraints,function(t){if(t)return i._log("error","Could not create offer for removing stream",t),n(t);i.pc.handleAnswer({type:"answer",jingle:i.pc.remoteDescription},function(t){if(t)return i._log("error","Could not process answer for removing stream",t),n(t);n()})}):this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(t){if(t)return i._log("error","Could not process offer for removing stream",t),n(t);i.pc.answer(i.constraints,function(t){if(t)return i._log("error","Could not create answer for removing stream",t),n(t);n()})})},removeStream2:function(t,e){this.removeStream(t,!0,e)},switchStream:function(t,e,n){var r=this;n=n||function(){};var i=this.pc.localDescription;i.contents.forEach(function(t){delete t.transport,delete t.application.payloads}),this.pc.removeStream(t),this.send("source-remove",i),this.pc.addStream(e),this.pc.isInitiator?this.pc.offer(r.constraints,function(t,e){if(t)return r._log("error","Could not create offer for switching streams",t),n(t);e.jingle.contents.forEach(function(t){delete t.transport,delete t.application.payloads}),r.pc.handleAnswer({type:"answer",jingle:r.pc.remoteDescription},function(t){if(t)return r._log("error","Could not process answer for switching streams",t),n(t);r.send("source-add",e.jingle),n()})}):this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(t){if(t)return r._log("error","Could not process offer for switching streams",t),n(t);r.pc.answer(r.constraints,function(t,e){if(t)return r._log("error","Could not create answer for switching streams",t),n(t);e.jingle.contents.forEach(function(t){delete t.transport,delete t.application.payloads}),r.send("source-add",e.jingle),n()})})},onIceCandidate:function(t,e){this._log("info","Discovered new ICE candidate",e.jingle),this.send("transport-info",e.jingle),t.signalEndOfCandidates&&(this.lastCandidate=e)},onIceEndOfCandidates:function(t){if(this._log("info","ICE end of candidates"),t.signalEndOfCandidates&&this.lastCandidate){var e=this.lastCandidate.jingle;e.contents[0].transport={transportType:e.contents[0].transport.transportType,gatheringComplete:!0},this.lastCandidate=null,this.send("transport-info",e)}else if("connecting"!==this.connectionState){var n={msg:"ICE End of candidates signaled with no candidates gathered.",signalingState:this.pc&&this.pc.signalingState,connectionState:this.connectionState,localDescription:this.pc&&this.pc.localDescription&&this.pc.localDescription.sdp,remoteDescription:this.pc&&this.pc.remoteDescription&&this.pc.remoteDescription.sdp,sid:this.sid};this.emit("log:warn",n)}},onIceStateChange:function(t){switch(this.pc.iceConnectionState){case"checking":this.connectionState="connecting",t&&t.signalEndOfCandidates&&!t.disableEOCShortCircuit&&this.onIceEndOfCandidates(t);break;case"completed":case"connected":this.connectionState="connected";break;case"disconnected":"stable"===this.pc.signalingState?this.connectionState="interrupted":this.connectionState="disconnected";break;case"failed":this.connectionState="failed",this.end("failed-transport");break;case"closed":this.connectionState="disconnected"}},onAddStream:function(t){this._log("info","Stream added"),this.emit("peerStreamAdded",this,t.stream)},onRemoveStream:function(t){this._log("info","Stream removed"),this.emit("peerStreamRemoved",this,t.stream)},onSessionInitiate:function(t,e){var n=this;this._log("info","Initiating incoming session"),this.state="pending",this.pc.isInitiator=!1,this.pc.handleOffer({type:"offer",jingle:t},function(t){if(t)return n._log("error","Could not create WebRTC answer",t),e({condition:"general-error"});e()})},onSessionAccept:function(t,e){var n=this;this.state="active",this.pc.handleAnswer({type:"answer",jingle:t},function(t){if(t)return n._log("error","Could not process WebRTC answer",t),e({condition:"general-error"});n.emit("accepted",n),e()})},onSessionTerminate:function(t,e){var n=this;this._log("info","Terminating session"),this.streams.forEach(function(t){n.onRemoveStream({stream:t})}),this.pc.close(),u.prototype.end.call(this,t.reason,!0),e()},onSessionInfo:function(t,e){return t.ringing?(this._log("info","Outgoing session is ringing"),this.ringing=!0,this.emit("ringing",this),e()):t.hold?(this._log("info","On hold"),this.emit("hold",this),e()):t.active?(this._log("info","Resuming from hold"),this.emit("resumed",this),e()):t.mute?(this._log("info","Muting",t.mute),this.emit("mute",this,t.mute),e()):t.unmute?(this._log("info","Unmuting",t.unmute),this.emit("unmute",this,t.unmute),e()):void e()},onTransportInfo:function(t,e){this.pc.processIce(t,function(){e()})},onSourceAdd:function(t,e){var n=this;this._log("info","Adding new stream source");var r=this.pc.remoteDescription;this.pc.remoteDescription.contents.forEach(function(e,n){var i=e.application,o=i.sources||[],s=i.sourceGroups||[];t.contents.forEach(function(t){if(e.name===t.name){var i=t.application,a=i.sources||[];o=o.concat(a),r.contents[n].application.sources=JSON.parse(JSON.stringify(o));var c=i.sourceGroups||[];s=s.concat(c),r.contents[n].application.sourceGroups=JSON.parse(JSON.stringify(s))}})}),this.pc.isInitiator?this.pc.offer(this.constraints,function(t){if(t)return n._log("error","Error adding new stream source",t),e({condition:"general-error"});n.pc.handleAnswer({type:"answer",jingle:r},function(t){if(t)return n._log("error","Error adding new stream source",t),e({condition:"general-error"});e()})}):this.pc.handleOffer({type:"offer",jingle:r},function(t){if(t)return n._log("error","Error adding new stream source",t),e({condition:"general-error"});n.pc.answer(n.constraints,function(t){if(t)return n._log("error","Error adding new stream source",t),e({condition:"general-error"});e()})})},onSourceRemove:function(t,e){var n=this;this._log("info","Removing stream source");var r=this.pc.remoteDescription;this.pc.remoteDescription.contents.forEach(function(e,n){var i=e.application,o=i.sources||[],s=i.sourceGroups||[];t.contents.forEach(function(t){if(e.name===t.name){var i,a,c,u,l=t.application,f=l.sources||[],p=l.sourceGroups||[];for(a=0;a<f.length;a++){for(i=-1,c=0;c<o.length;c++)if(f[a].ssrc===o[c].ssrc){i=c;break}i>-1&&(o.splice(i,1),r.contents[n].application.sources=JSON.parse(JSON.stringify(o)))}for(a=0;a<p.length;a++){for(i=-1,c=0;c<s.length;c++)if(p[a].semantics===s[c].semantics&&p[a].sources.length===s[c].sources.length){var h=!0;for(u=0;u<p[a].sources.length;u++)if(p[a].sources[u]!==s[c].sources[u]){h=!1;break}if(h){i=c;break}}i>-1&&(s.splice(i,1),r.contents[n].application.sourceGroups=JSON.parse(JSON.stringify(s)))}}})}),this.pc.isInitiator?this.pc.offer(this.constraints,function(t){if(t)return n._log("error","Error removing stream source",t),e({condition:"general-error"});n.pc.handleAnswer({type:"answer",jingle:r},function(t){if(t)return n._log("error","Error removing stream source",t),e({condition:"general-error"});e()})}):this.pc.handleOffer({type:"offer",jingle:r},function(t){if(t)return n._log("error","Error removing stream source",t),e({condition:"general-error"});n.pc.answer(n.constraints,function(t){if(t)return n._log("error","Error removing stream source",t),e({condition:"general-error"});e()})})},onAddChannel:function(t){this.emit("addChannel",t)}}),e.exports=o},{"extend-object":410,"jingle-session":430,rtcpeerconnection:514,util:621}],429:[function(t,e,n){function r(t){s.call(this),t=t||{},this.jid=t.jid,this.selfID=t.selfID||this.jid&&this.jid.full||this.jid||"",this.sessions={},this.peers={},this.prepareSession=t.prepareSession||function(t){return t.applicationTypes.indexOf("rtp")>=0?new u(t):t.applicationTypes.indexOf("filetransfer")>=0?new l(t):void 0},this.performTieBreak=t.performTieBreak||function(t,e){var n=e.jingle.contents.map(function(t){if(t.application)return t.application.applicationType});return o(t.pendingApplicationTypes,n).length>0},this.screenSharingSupport=a.screenSharing,this.capabilities=["urn:xmpp:jingle:1"],a.support&&(this.capabilities=["urn:xmpp:jingle:1","urn:xmpp:jingle:apps:rtp:1","urn:xmpp:jingle:apps:rtp:audio","urn:xmpp:jingle:apps:rtp:video","urn:xmpp:jingle:apps:rtp:rtcb-fb:0","urn:xmpp:jingle:apps:rtp:rtp-hdrext:0","urn:xmpp:jingle:apps:rtp:ssma:0","urn:xmpp:jingle:apps:dtls:0","urn:xmpp:jingle:apps:grouping:0","urn:xmpp:jingle:apps:file-transfer:3","urn:xmpp:jingle:transports:ice-udp:1","urn:xmpp:jingle:transports.dtls-sctp:1","urn:ietf:rfc:3264","urn:ietf:rfc:5576","urn:ietf:rfc:5888"]),this.config={debug:!1,peerConnectionConfig:{iceServers:t.iceServers||[{url:"stun:stun.l.google.com:19302"}],iceTransportPolicy:t.iceTransportPolicy||"all",disableEOCShortCircuit:t.disableEOCShortCircuit},peerConnectionConstraints:{optional:[{DtlsSrtpKeyAgreement:!0},{RtpDataChannels:!1}]},media:{audio:!0,video:!0}};for(var e in t)this.config[e]=t[e];this.iceServers=this.config.peerConnectionConfig.iceServers}var i=t("util"),o=t("intersect"),s=t("wildemitter"),a=t("webrtcsupport"),c=t("jingle-session"),u=t("jingle-media-session-purecloud"),l=t("jingle-filetransfer-session-purecloud");i.inherits(r,s),r.prototype.addICEServer=function(t){"string"==typeof t&&(t={url:t}),this.iceServers.push(t)},r.prototype.addSession=function(t){var e=this,n=t.sid,r=t.peerID;return this.sessions[n]=t,this.peers[r]||(this.peers[r]=[]),this.peers[r].push(t),t.on("terminated",function(){var i=e.peers[r]||[];i.length&&i.splice(i.indexOf(t),1),delete e.sessions[n]}),t.on("*",function(n,r,i,o){if("send"===n){var s=r.jingle&&r.jingle.action;t.isInitiator&&"session-initiate"===s&&e.emit("outgoing",t)}!e.config.debug||"log:debug"!==n&&"log:error"!==n||console.log("Jingle:",r,i,o),0!==n.indexOf("change")&&e.emit(n,r,i,o)}),this.emit("createdSession",t),t},r.prototype.createMediaSession=function(t,e,n){var r=new u({sid:e,peer:t,initiator:!0,stream:n,parent:this,iceServers:this.iceServers,iceTransportPolicy:this.config.peerConnectionConfig.iceTransportPolicy,disableEOCShortCircuit:this.config.peerConnectionConfig.disableEOCShortCircuit,constraints:this.config.peerConnectionConstraints});return this.addSession(r),r},r.prototype.createFileTransferSession=function(t,e){var n=new l({sid:e,peer:t,initiator:!0,parent:this});return this.addSession(n),n},r.prototype.endPeerSessions=function(t,e,n){t=t.full||t;var r=this.peers[t]||[];delete this.peers[t],r.forEach(function(t){t.end(e||"gone",n)})},r.prototype.endAllSessions=function(t,e){var n=this;Object.keys(this.peers).forEach(function(r){n.endPeerSessions(r,t,e)})},r.prototype._createIncomingSession=function(t,e){var n;return this.prepareSession&&(n=this.prepareSession(t,e)),n||(n=new c(t)),this.addSession(n),n},r.prototype._sendError=function(t,e,n){n.type||(n.type="cancel"),this.emit("send",{to:t,id:e,type:"error",error:n})},r.prototype._log=function(t,e){this.emit("log:"+t,e)},r.prototype.process=function(t){var e=this,n=t.jingle?t.jingle.sid:null,r=this.sessions[n]||null,i=t.id,o=t.from.full||t.from;if("error"===t.type){var s=t.error&&"tie-break"===t.error.jingleCondition;return r&&r.pending&&s?r.end("alternative-session",!0):(r&&(r.pendingAction=!1),this.emit("error",t))}if("result"===t.type)return void(r&&(r.pendingAction=!1));var a=t.jingle.action,c=t.jingle.contents||[],u=c.map(function(t){if(t.application)return t.application.applicationType}),l=c.map(function(t){if(t.transport)return t.transport.transportType});if("session-initiate"!==a){if(!r)return this._log("error","Unknown session",n),this._sendError(o,i,{condition:"item-not-found",jingleCondition:"unknown-session"});if(r.peerID!==o||r.ended)return this._log("error","Session has ended, or action has wrong sender"),this._sendError(o,i,{condition:"item-not-found",jingleCondition:"unknown-session"});if("session-accept"===a&&!r.pending)return this._log("error","Tried to accept session twice",n),this._sendError(o,i,{condition:"unexpected-request",jingleCondition:"out-of-order"});if("session-terminate"!==a&&a===r.pendingAction&&(this._log("error","Tie break during pending request"),r.isInitiator))return this._sendError(o,i,{condition:"conflict",jingleCondition:"tie-break"})}else if(r){if(r.peerID!==o)return this._log("error","Duplicate sid from new sender"),this._sendError(o,i,{condition:"service-unavailable"});if(!r.pending)return this._log("error","Someone is doing this wrong"),this._sendError(o,i,{condition:"unexpected-request",jingleCondition:"out-of-order"});if(this.selfID>r.peerID&&this.performTieBreak(r,t))return this._log("error","Tie break new session because of duplicate sids"),this._sendError(o,i,{condition:"conflict",jingleCondition:"tie-break"})}else if(this.peers[o]&&this.peers[o].length)for(var f=0,p=this.peers[o].length;f<p;f++){var h=this.peers[o][f];if(h&&h.pending&&h.sid>n&&this.performTieBreak(h,t))return this._log("info","Tie break session-initiate"),this._sendError(o,i,{condition:"conflict",jingleCondition:"tie-break"})}if("session-initiate"===a){if(!c.length)return e._sendError(o,i,{condition:"bad-request"});r=this._createIncomingSession({sid:n,peer:t.from,peerID:o,initiator:!1,parent:this,applicationTypes:u,transportTypes:l,iceServers:this.iceServers,iceTransportPolicy:this.config.peerConnectionConfig.iceTransportPolicy,disableEOCShortCircuit:this.config.peerConnectionConfig.disableEOCShortCircuit,constraints:this.config.peerConnectionConstraints},t)}r.process(a,t.jingle,function(n){n?(e._log("error","Could not process request",t,n),e._sendError(o,i,n)):(e.emit("send",{to:o,id:i,type:"result"}),"session-initiate"===a&&e.emit("incoming",r))})},e.exports=r},{intersect:422,"jingle-filetransfer-session-purecloud":426,"jingle-media-session-purecloud":428,"jingle-session":430,util:621,webrtcsupport:627,wildemitter:628}],430:[function(t,e,n){function r(t){c.call(this);var e=this;this.sid=t.sid||o.v4(),this.peer=t.peer,this.peerID=t.peerID||this.peer.full||this.peer,this.isInitiator=t.initiator||!1,this.parent=t.parent,this.state="starting",this.connectionState="starting",this.pendingApplicationTypes=t.applicationTypes||[],this.pendingAction=!1,this.processingQueue=s.queue(function(t,n){if(e.ended)return n();var r=t.action,i=t.changes,o=t.cb;if(e._log("debug",r),!u[r])return e._log("error","Invalid action: "+r),o({condition:"bad-request"}),n();e[u[r]](i,function(t,e){return o(t,e),n()})})}var i=t("util"),o=t("uuid"),s=t("async"),a=t("extend-object"),c=t("wildemitter"),u={"content-accept":"onContentAccept","content-add":"onContentAdd","content-modify":"onContentModify","content-reject":"onContentReject","content-remove":"onContentRemove","description-info":"onDescriptionInfo","security-info":"onSecurityInfo","session-accept":"onSessionAccept","session-info":"onSessionInfo","session-initiate":"onSessionInitiate","session-terminate":"onSessionTerminate","transport-accept":"onTransportAccept","transport-info":"onTransportInfo","transport-reject":"onTransportReject","transport-replace":"onTransportReplace","source-add":"onSourceAdd","source-remove":"onSourceRemove"};i.inherits(r,c),Object.keys(u).forEach(function(t){var e=u[t];r.prototype[e]=function(e,n){this._log("error","Unsupported action: "+t),n()}}),Object.defineProperties(r.prototype,{state:{get:function(){return this._sessionState},set:function(t){
if(t!==this._sessionState){var e=this._sessionState;this._log("info","Changing session state to: "+t),this._sessionState=t,this.emit("change:sessionState",this,t),this.emit("change:"+t,this,!0),e&&this.emit("change:"+e,this,!1)}}},connectionState:{get:function(){return this._connectionState},set:function(t){if(t!==this._connectionState){var e=this._connectionState;this._log("info","Changing connection state to: "+t),this._connectionState=t,this.emit("change:connectionState",this,t),this.emit("change:"+t,this,!0),e&&this.emit("change:"+e,this,!1)}}},starting:{get:function(){return"starting"===this._sessionState}},pending:{get:function(){return"pending"===this._sessionState}},active:{get:function(){return"active"===this._sessionState}},ended:{get:function(){return"ended"===this._sessionState}},connected:{get:function(){return"connected"===this._connectionState}},connecting:{get:function(){return"connecting"===this._connectionState}},disconnected:{get:function(){return"disconnected"===this._connectionState}},interrupted:{get:function(){return"interrupted"===this._connectionState}}}),r.prototype=a(r.prototype,{_log:function(t,e){e=this.sid+": "+e,this.emit("log:"+t,e)},send:function(t,e){e=e||{},e.sid=this.sid,e.action=t;var n={"session-inititate":!0,"session-accept":!0,"content-add":!0,"content-remove":!0,"content-reject":!0,"content-accept":!0,"content-modify":!0,"transport-replace":!0,"transport-reject":!0,"transport-accept":!0,"source-add":!0,"source-remove":!0};this.pendingAction=!!n[t]&&t,this.emit("send",{to:this.peer,id:o.v4(),type:"set",jingle:e})},process:function(t,e,n){this.processingQueue.push({action:t,changes:e,cb:n})},start:function(){this._log("error","Can not start base sessions"),this.end("unsupported-applications",!0)},accept:function(){this._log("error","Can not accept base sessions"),this.end("unsupported-applications")},cancel:function(){this.end("cancel")},decline:function(){this.end("decline")},end:function(t,e){this.state="ended",this.processingQueue.kill(),t||(t="success"),"string"==typeof t&&(t={condition:t}),e||this.send("session-terminate",{reason:t}),this.emit("terminated",this,t)},onSessionTerminate:function(t,e){this.end(t.reason,!0),e()},onSessionInfo:function(t,e){var n={sid:!0,action:!0,initiator:!0,responder:!0},r=!1;Object.keys(t).forEach(function(t){n[t]||(r=!0)}),r?e({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"}):e()},onDescriptionInfo:function(t,e){e({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"})},onTransportInfo:function(t,e){e({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"})},onContentAdd:function(t,e){e(),this.send("content-reject",{reason:{condition:"failed-application",text:"content-add is not supported"}})},onTransportReplace:function(t,e){e(),this.send("transport-reject",{reason:{condition:"failed-application",text:"transport-replace is not supported"}})}}),e.exports=r},{async:431,"extend-object":410,util:621,uuid:622,wildemitter:628}],431:[function(e,n,r){(function(e,i){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(e,i){"object"===(void 0===r?"undefined":o(r))&&void 0!==n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.async=e.async||{})}(this,function(t){"use strict";function r(t,e){e|=0;for(var n=Math.max(t.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=t[e+i];return r}function s(t){var e=void 0===t?"undefined":o(t);return null!=t&&("object"==e||"function"==e)}function a(t){setTimeout(t,0)}function c(t){return function(e){var n=r(arguments,1);t(function(){e.apply(null,n)})}}function u(t){return ae(function(e,n){var r;try{r=t.apply(this,e)}catch(t){return n(t)}s(r)&&"function"==typeof r.then?r.then(function(t){l(n,null,t)},function(t){l(n,t.message?t:new Error(t))}):n(null,r)})}function l(t,e,n){try{t(e,n)}catch(t){le(f,t)}}function f(t){throw t}function p(t){return fe&&"AsyncFunction"===t[Symbol.toStringTag]}function h(t){return p(t)?u(t):t}function d(t){return function(e){var n=r(arguments,1),i=ae(function(n,r){var i=this;return t(e,function(t,e){h(t).apply(i,n.concat(e))},r)});return n.length?i.apply(this,n):i}}function g(t){var e=ve.call(t,_e),n=t[_e];try{t[_e]=void 0;var r=!0}catch(t){}var i=ye.call(t);return r&&(e?t[_e]=n:delete t[_e]),i}function m(t){return we.call(t)}function v(t){return null==t?void 0===t?Se:xe:je&&je in Object(t)?g(t):m(t)}function y(t){if(!s(t))return!1;var e=v(t);return e==ke||e==Ce||e==Ee||e==Te}function _(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Oe}function b(t){return null!=t&&_(t.length)&&!y(t)}function w(){}function x(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}function S(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function j(t){return null!=t&&"object"==(void 0===t?"undefined":o(t))}function E(t){return j(t)&&v(t)==Pe}function k(){return!1}function C(t,e){return!!(e=null==e?Ve:e)&&("number"==typeof t||He.test(t))&&t>-1&&t%1==0&&t<e}function T(t){return j(t)&&_(t.length)&&!!Ge[v(t)]}function O(t,e){var n=Fe(t),r=!n&&Me(t),i=!n&&!r&&Je(t),o=!n&&!r&&!i&&tn(t),s=n||r||i||o,a=s?S(t.length,String):[],c=a.length;for(var u in t)!e&&!nn.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||C(u,c))||a.push(u);return a}function A(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||rn)}function R(t){if(!A(t))return on(t);var e=[];for(var n in Object(t))an.call(t,n)&&"constructor"!=n&&e.push(n);return e}function I(t){return b(t)?O(t):R(t)}function P(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}function D(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}function N(t){var e=I(t),n=-1,r=e.length;return function(){var i=e[++n];return n<r?{value:t[i],key:i}:null}}function L(t){if(b(t))return P(t);var e=Ie(t);return e?D(e):N(t)}function M(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function F(t){return function(e,n,r){function i(t,e){if(c-=1,t)a=!0,r(t);else{if(e===Ae||a&&c<=0)return a=!0,r(null);o()}}function o(){for(;c<t&&!a;){var e=s();if(null===e)return a=!0,void(c<=0&&r(null));c+=1,n(e.value,e.key,M(i))}}if(r=x(r||w),t<=0||!e)return r(null);var s=L(e),a=!1,c=0;o()}}function B(t,e,n,r){F(e)(t,h(n),r)}function z(t,e){return function(n,r,i){return t(n,e,r,i)}}function U(t,e,n){function r(t,e){t?n(t):++o!==s&&e!==Ae||n(null)}n=x(n||w);var i=0,o=0,s=t.length;for(0===s&&n(null);i<s;i++)e(t[i],i,M(r))}function q(t){return function(e,n,r){return t(un,e,h(n),r)}}function W(t,e,n,r){r=r||w,e=e||[];var i=[],o=0,s=h(n);t(e,function(t,e,n){var r=o++;s(t,function(t,e){i[r]=e,n(t)})},function(t){r(t,i)})}function J(t){return function(e,n,r,i){return t(F(n),e,h(r),i)}}function V(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function H(t,e){return t&&gn(t,e,I)}function G(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function X(t){return t!==t}function $(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Y(t,e,n){return e===e?$(t,e,n):G(t,X,n)}function Q(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function K(t){return"symbol"==(void 0===t?"undefined":o(t))||j(t)&&v(t)==vn}function Z(t){if("string"==typeof t)return t;if(Fe(t))return Q(t,Z)+"";if(K(t))return bn?bn.call(t):"";var e=t+"";return"0"==e&&1/t==-yn?"-0":e}function tt(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function et(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:tt(t,e,n)}function nt(t,e){for(var n=t.length;n--&&Y(e,t[n],0)>-1;);return n}function rt(t,e){for(var n=-1,r=t.length;++n<r&&Y(e,t[n],0)>-1;);return n}function it(t){return t.split("")}function ot(t){return wn.test(t)}function st(t){return t.match(An)||[]}function at(t){return ot(t)?st(t):it(t)}function ct(t){return null==t?"":Z(t)}function ut(t,e,n){if((t=ct(t))&&(n||void 0===e))return t.replace(Rn,"");if(!t||!(e=Z(e)))return t;var r=at(t),i=at(e);return et(r,rt(r,i),nt(r,i)+1).join("")}function lt(t){return t=t.toString().replace(Nn,""),t=t.match(In)[2].replace(" ",""),t=t?t.split(Pn):[],t=t.map(function(t){return ut(t.replace(Dn,""))})}function ft(t,e){var n={};H(t,function(t,e){function r(e,n){var r=Q(i,function(t){return e[t]});r.push(n),h(t).apply(null,r)}var i,o=p(t),s=!o&&1===t.length||o&&0===t.length;if(Fe(t))i=t.slice(0,-1),t=t[t.length-1],n[e]=i.concat(i.length>0?r:t);else if(s)n[e]=t;else{if(i=lt(t),0===t.length&&!o&&0===i.length)throw new Error("autoInject task functions require explicit parameters.");o||i.pop(),n[e]=i.concat(r)}}),mn(n,e)}function pt(){this.head=this.tail=null,this.length=0}function ht(t,e){t.length=1,t.head=t.tail=e}function dt(t,e,n){function r(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(l.started=!0,Fe(t)||(t=[t]),0===t.length&&l.idle())return le(function(){l.drain()});for(var r=0,i=t.length;r<i;r++){var o={data:t[r],callback:n||w};e?l._tasks.unshift(o):l._tasks.push(o)}c||(c=!0,le(function(){c=!1,l.process()}))}function i(t){return function(e){s-=1;for(var n=0,r=t.length;n<r;n++){var i=t[n],o=Y(a,i,0);0===o?a.shift():o>0&&a.splice(o,1),i.callback.apply(i,arguments),null!=e&&l.error(e,i.data)}s<=l.concurrency-l.buffer&&l.unsaturated(),l.idle()&&l.drain(),l.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var o=h(t),s=0,a=[],c=!1,u=!1,l={_tasks:new pt,concurrency:e,payload:n,saturated:w,unsaturated:w,buffer:e/4,empty:w,drain:w,error:w,started:!1,paused:!1,push:function(t,e){r(t,!1,e)},kill:function(){l.drain=w,l._tasks.empty()},unshift:function(t,e){r(t,!0,e)},remove:function(t){l._tasks.remove(t)},process:function(){if(!u){for(u=!0;!l.paused&&s<l.concurrency&&l._tasks.length;){var t=[],e=[],n=l._tasks.length;l.payload&&(n=Math.min(n,l.payload));for(var r=0;r<n;r++){var c=l._tasks.shift();t.push(c),a.push(c),e.push(c.data)}s+=1,0===l._tasks.length&&l.empty(),s===l.concurrency&&l.saturated();var f=M(i(t));o(e,f)}u=!1}},length:function(){return l._tasks.length},running:function(){return s},workersList:function(){return a},idle:function(){return l._tasks.length+s===0},pause:function(){l.paused=!0},resume:function(){!1!==l.paused&&(l.paused=!1,le(l.process))}};return l}function gt(t,e){return dt(t,1,e)}function mt(t,e,n,r){r=x(r||w);var i=h(n);Mn(t,function(t,n,r){i(e,t,function(t,n){e=n,r(t)})},function(t){r(t,e)})}function vt(){var t=Q(arguments,h);return function(){var e=r(arguments),n=this,i=e[e.length-1];"function"==typeof i?e.pop():i=w,mt(t,e,function(t,e,i){e.apply(n,t.concat(function(t){var e=r(arguments,1);i(t,e)}))},function(t,e){i.apply(n,[t].concat(e))})}}function yt(t){return t}function _t(t,e){return function(n,r,i,o){o=o||w;var s,a=!1;n(r,function(n,r,o){i(n,function(r,i){r?o(r):t(i)&&!s?(a=!0,s=e(!0,n),o(null,Ae)):o()})},function(t){t?o(t):o(null,a?s:e(!1))})}}function bt(t,e){return e}function wt(t){return function(e){var n=r(arguments,1);n.push(function(e){var n=r(arguments,1);"object"===("undefined"==typeof console?"undefined":o(console))&&(e?console.error&&console.error(e):console[t]&&V(n,function(e){console[t](e)}))}),h(e).apply(null,n)}}function xt(t,e,n){function i(t){if(t)return n(t);var e=r(arguments,1);e.push(o),a.apply(this,e)}function o(t,e){return t?n(t):e?void s(i):n(null)}n=M(n||w);var s=h(t),a=h(e);o(null,!0)}function St(t,e,n){n=M(n||w);var i=h(t);i(function t(o){if(o)return n(o);var s=r(arguments,1);if(e.apply(this,s))return i(t);n.apply(null,[null].concat(s))})}function jt(t,e,n){St(t,function(){return!e.apply(this,arguments)},n)}function Et(t,e,n){function r(t){if(t)return n(t);s(i)}function i(t,e){return t?n(t):e?void o(r):n(null)}n=M(n||w);var o=h(e),s=h(t);s(i)}function kt(t){return function(e,n,r){return t(e,r)}}function Ct(t,e,n){un(t,kt(h(e)),n)}function Tt(t,e,n,r){F(e)(t,kt(h(n)),r)}function Ot(t){return p(t)?t:ae(function(e,n){var r=!0;e.push(function(){var t=arguments;r?le(function(){n.apply(null,t)}):n.apply(null,t)}),t.apply(this,e),r=!1})}function At(t){return!t}function Rt(t){return function(e){return null==e?void 0:e[t]}}function It(t,e,n,r){var i=new Array(e.length);t(e,function(t,e,r){n(t,function(t,n){i[e]=!!n,r(t)})},function(t){if(t)return r(t);for(var n=[],o=0;o<e.length;o++)i[o]&&n.push(e[o]);r(null,n)})}function Pt(t,e,n,r){var i=[];t(e,function(t,e,r){n(t,function(n,o){n?r(n):(o&&i.push({index:e,value:t}),r())})},function(t){t?r(t):r(null,Q(i.sort(function(t,e){return t.index-e.index}),Rt("value")))})}function Dt(t,e,n,r){(b(e)?It:Pt)(t,e,h(n),r||w)}function Nt(t,e){function n(t){if(t)return r(t);i(n)}var r=M(e||w),i=h(Ot(t));n()}function Lt(t,e,n,r){r=x(r||w);var i={},o=h(n);B(t,e,function(t,e,n){o(t,e,function(t,r){if(t)return n(t);i[e]=r,n()})},function(t){r(t,i)})}function Mt(t,e){return e in t}function Ft(t,e){var n=Object.create(null),i=Object.create(null);e=e||yt;var o=h(t),s=ae(function(t,s){var a=e.apply(null,t);Mt(n,a)?le(function(){s.apply(null,n[a])}):Mt(i,a)?i[a].push(s):(i[a]=[s],o.apply(null,t.concat(function(){var t=r(arguments);n[a]=t;var e=i[a];delete i[a];for(var o=0,s=e.length;o<s;o++)e[o].apply(null,t)})))});return s.memo=n,s.unmemoized=t,s}function Bt(t,e,n){n=n||w;var i=b(e)?[]:{};t(e,function(t,e,n){h(t)(function(t,o){arguments.length>2&&(o=r(arguments,1)),i[e]=o,n(t)})},function(t){n(t,i)})}function zt(t,e){Bt(un,t,e)}function Ut(t,e,n){Bt(F(e),t,n)}function qt(t,e){if(e=x(e||w),!Fe(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var n=0,r=t.length;n<r;n++)h(t[n])(e)}function Wt(t,e,n,i){mt(r(t).reverse(),e,n,i)}function Jt(t){var e=h(t);return ae(function(t,n){return t.push(function(t,e){if(t)n(null,{error:t});else{var i;i=arguments.length<=2?e:r(arguments,1),n(null,{value:i})}}),e.apply(this,t)})}function Vt(t){var e;return Fe(t)?e=Q(t,Jt):(e={},H(t,function(t,n){e[n]=Jt.call(this,t)})),e}function Ht(t,e,n,r){Dt(t,e,function(t,e){n(t,function(t,n){e(t,!n)})},r)}function Gt(t){return function(){return t}}function Xt(t,e,n){function r(){c(function(t){t&&u++<a.times&&("function"!=typeof a.errorFilter||a.errorFilter(t))?setTimeout(r,a.intervalFunc(u)):n.apply(null,arguments)})}var i=5,s=0,a={times:i,intervalFunc:Gt(s)};if(arguments.length<3&&"function"==typeof t?(n=e||w,e=t):(!function(t,e){if("object"===(void 0===e?"undefined":o(e)))t.times=+e.times||i,t.intervalFunc="function"==typeof e.interval?e.interval:Gt(+e.interval||s),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||i}}(a,t),n=n||w),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var c=h(e),u=1;r()}function $t(t,e){Bt(Mn,t,e)}function Yt(t,e,n){function r(t,e){var n=t.criteria,r=e.criteria;return n<r?-1:n>r?1:0}var i=h(e);ln(t,function(t,e){i(t,function(n,r){if(n)return e(n);e(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);n(null,Q(e.sort(r),Rt("value")))})}function Qt(t,e,n){var r=h(t);return ae(function(i,o){function s(){var e=t.name||"anonymous",r=new Error('Callback function "'+e+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),c=!0,o(r)}var a,c=!1;i.push(function(){c||(o.apply(null,arguments),clearTimeout(a))}),a=setTimeout(s,e),r.apply(null,i)})}function Kt(t,e,n,r){for(var i=-1,o=yr(vr((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}function Zt(t,e,n,r){var i=h(n);pn(Kt(0,t,1),e,i,r)}function te(t,e,n,r){arguments.length<=3&&(r=n,n=e,e=Fe(t)?[]:{}),r=x(r||w);var i=h(n);un(t,function(t,n,r){i(e,t,n,r)},function(t){r(t,e)})}function ee(t,e){var n,i=null;e=e||w,Xn(t,function(t,e){h(t)(function(t,o){n=arguments.length>2?r(arguments,1):o,i=t,e(!t)})},function(){e(i,n)})}function ne(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function re(t,e,n){n=M(n||w);var i=h(e);if(!t())return n(null);i(function e(o){if(o)return n(o);if(t())return i(e);var s=r(arguments,1);n.apply(null,[null].concat(s))})}function ie(t,e,n){re(function(){return!t.apply(this,arguments)},e,n)}var oe,se=function(t){var e=r(arguments,1);return function(){var n=r(arguments);return t.apply(null,e.concat(n))}},ae=function(t){return function(){var e=r(arguments),n=e.pop();t.call(this,e,n)}},ce="function"==typeof setImmediate&&setImmediate,ue="object"===(void 0===e?"undefined":o(e))&&"function"==typeof e.nextTick;oe=ce?setImmediate:ue?e.nextTick:a;var le=c(oe),fe="function"==typeof Symbol,pe="object"==(void 0===i?"undefined":o(i))&&i&&i.Object===Object&&i,he="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,de=pe||he||Function("return this")(),ge=de.Symbol,me=Object.prototype,ve=me.hasOwnProperty,ye=me.toString,_e=ge?ge.toStringTag:void 0,be=Object.prototype,we=be.toString,xe="[object Null]",Se="[object Undefined]",je=ge?ge.toStringTag:void 0,Ee="[object AsyncFunction]",ke="[object Function]",Ce="[object GeneratorFunction]",Te="[object Proxy]",Oe=9007199254740991,Ae={},Re="function"==typeof Symbol&&Symbol.iterator,Ie=function(t){return Re&&t[Re]&&t[Re]()},Pe="[object Arguments]",De=Object.prototype,Ne=De.hasOwnProperty,Le=De.propertyIsEnumerable,Me=E(function(){return arguments}())?E:function(t){return j(t)&&Ne.call(t,"callee")&&!Le.call(t,"callee")},Fe=Array.isArray,Be="object"==(void 0===t?"undefined":o(t))&&t&&!t.nodeType&&t,ze=Be&&"object"==(void 0===n?"undefined":o(n))&&n&&!n.nodeType&&n,Ue=ze&&ze.exports===Be,qe=Ue?de.Buffer:void 0,We=qe?qe.isBuffer:void 0,Je=We||k,Ve=9007199254740991,He=/^(?:0|[1-9]\d*)$/,Ge={};Ge["[object Float32Array]"]=Ge["[object Float64Array]"]=Ge["[object Int8Array]"]=Ge["[object Int16Array]"]=Ge["[object Int32Array]"]=Ge["[object Uint8Array]"]=Ge["[object Uint8ClampedArray]"]=Ge["[object Uint16Array]"]=Ge["[object Uint32Array]"]=!0,Ge["[object Arguments]"]=Ge["[object Array]"]=Ge["[object ArrayBuffer]"]=Ge["[object Boolean]"]=Ge["[object DataView]"]=Ge["[object Date]"]=Ge["[object Error]"]=Ge["[object Function]"]=Ge["[object Map]"]=Ge["[object Number]"]=Ge["[object Object]"]=Ge["[object RegExp]"]=Ge["[object Set]"]=Ge["[object String]"]=Ge["[object WeakMap]"]=!1;var Xe="object"==(void 0===t?"undefined":o(t))&&t&&!t.nodeType&&t,$e=Xe&&"object"==(void 0===n?"undefined":o(n))&&n&&!n.nodeType&&n,Ye=$e&&$e.exports===Xe,Qe=Ye&&pe.process,Ke=function(){try{return Qe&&Qe.binding&&Qe.binding("util")}catch(t){}}(),Ze=Ke&&Ke.isTypedArray,tn=Ze?function(t){return function(e){return t(e)}}(Ze):T,en=Object.prototype,nn=en.hasOwnProperty,rn=Object.prototype,on=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),sn=Object.prototype,an=sn.hasOwnProperty,cn=z(B,1/0),un=function(t,e,n){(b(t)?U:cn)(t,h(e),n)},ln=q(W),fn=d(ln),pn=J(W),hn=z(pn,1),dn=d(hn),gn=function(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var c=s[t?a:++i];if(!1===n(o[c],c,o))break}return e}}(),mn=function(t,e,n){function i(t,e){v.push(function(){c(t,e)})}function o(){if(0===v.length&&0===d)return n(null,p);for(;v.length&&d<e;){v.shift()()}}function s(t,e){var n=m[t];n||(n=m[t]=[]),n.push(e)}function a(t){V(m[t]||[],function(t){t()}),o()}function c(t,e){if(!g){var i=M(function(e,i){if(d--,arguments.length>2&&(i=r(arguments,1)),e){var o={};H(p,function(t,e){o[e]=t}),o[t]=i,g=!0,m=Object.create(null),n(e,o)}else p[t]=i,a(t)});d++;var o=h(e[e.length-1]);e.length>1?o(p,i):o(i)}}function u(e){var n=[];return H(t,function(t,r){Fe(t)&&Y(t,e,0)>=0&&n.push(r)}),n}"function"==typeof e&&(n=e,e=null),n=x(n||w);var l=I(t),f=l.length;if(!f)return n(null);e||(e=f);var p={},d=0,g=!1,m=Object.create(null),v=[],y=[],_={};H(t,function(e,n){if(!Fe(e))return i(n,[e]),void y.push(n);var r=e.slice(0,e.length-1),o=r.length;if(0===o)return i(n,e),void y.push(n);_[n]=o,V(r,function(a){if(!t[a])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+a+"` in "+r.join(", "));s(a,function(){0===--o&&i(n,e)})})}),function(){for(var t,e=0;y.length;)t=y.pop(),e++,V(u(t),function(t){0==--_[t]&&y.push(t)});if(e!==f)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),o()},vn="[object Symbol]",yn=1/0,_n=ge?ge.prototype:void 0,bn=_n?_n.toString:void 0,wn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),xn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Sn="\\ud83c[\\udffb-\\udfff]",jn="(?:\\ud83c[\\udde6-\\uddff]){2}",En="[\\ud800-\\udbff][\\udc00-\\udfff]",kn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Cn="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",jn,En].join("|")+")[\\ufe0e\\ufe0f]?"+kn+")*",Tn="[\\ufe0e\\ufe0f]?"+kn+Cn,On="(?:"+["[^\\ud800-\\udfff]"+xn+"?",xn,jn,En,"[\\ud800-\\udfff]"].join("|")+")",An=RegExp(Sn+"(?="+Sn+")|"+On+Tn,"g"),Rn=/^\s+|\s+$/g,In=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Pn=/,/,Dn=/(=.+)?(\s*)$/,Nn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;pt.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},pt.prototype.empty=function(){for(;this.head;)this.shift();return this},pt.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},pt.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},pt.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):ht(this,t)},pt.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):ht(this,t)},pt.prototype.shift=function(){return this.head&&this.removeLink(this.head)},pt.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},pt.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,n=0;n<this.length;n++)t[n]=e.data,e=e.next;return t},pt.prototype.remove=function(t){for(var e=this.head;e;){var n=e.next;t(e)&&this.removeLink(e),e=n}return this};var Ln,Mn=z(B,1),Fn=function(){return vt.apply(null,r(arguments).reverse())},Bn=Array.prototype.concat,zn=function(t,e,n,i){i=i||w;var o=h(n);pn(t,e,function(t,e){o(t,function(t){return t?e(t):e(null,r(arguments,1))})},function(t,e){for(var n=[],r=0;r<e.length;r++)e[r]&&(n=Bn.apply(n,e[r]));return i(t,n)})},Un=z(zn,1/0),qn=z(zn,1),Wn=function(){var t=r(arguments),e=[null].concat(t);return function(){return arguments[arguments.length-1].apply(this,e)}},Jn=q(_t(yt,bt)),Vn=J(_t(yt,bt)),Hn=z(Vn,1),Gn=wt("dir"),Xn=z(Tt,1),$n=q(_t(At,At)),Yn=J(_t(At,At)),Qn=z(Yn,1),Kn=q(Dt),Zn=J(Dt),tr=z(Zn,1),er=function(t,e,n,r){r=r||w;var i=h(n);pn(t,e,function(t,e){i(t,function(n,r){return n?e(n):e(null,{key:r,val:t})})},function(t,e){for(var n={},i=Object.prototype.hasOwnProperty,o=0;o<e.length;o++)if(e[o]){var s=e[o].key,a=e[o].val;i.call(n,s)?n[s].push(a):n[s]=[a]}return r(t,n)})},nr=z(er,1/0),rr=z(er,1),ir=wt("log"),or=z(Lt,1/0),sr=z(Lt,1);Ln=ue?e.nextTick:ce?setImmediate:a;var ar=c(Ln),cr=function(t,e){var n=h(t);return dt(function(t,e){n(t[0],e)},e,1)},ur=function(t,e){var n=cr(t,e);return n.push=function(t,e,r){if(null==r&&(r=w),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,Fe(t)||(t=[t]),0===t.length)return le(function(){n.drain()});e=e||0;for(var i=n._tasks.head;i&&e>=i.priority;)i=i.next;for(var o=0,s=t.length;o<s;o++){var a={data:t[o],priority:e,callback:r};i?n._tasks.insertBefore(i,a):n._tasks.push(a)}le(n.process)},delete n.unshift,n},lr=q(Ht),fr=J(Ht),pr=z(fr,1),hr=function(t,e){e||(e=t,t=null);var n=h(e);return ae(function(e,r){function i(t){n.apply(null,e.concat(t))}t?Xt(t,i,r):Xt(i,r)})},dr=q(_t(Boolean,yt)),gr=J(_t(Boolean,yt)),mr=z(gr,1),vr=Math.ceil,yr=Math.max,_r=z(Zt,1/0),br=z(Zt,1),wr=function(t,e){function n(e){var n=h(t[o++]);e.push(M(i)),n.apply(null,e)}function i(i){if(i||o===t.length)return e.apply(null,arguments);n(r(arguments,1))}if(e=x(e||w),!Fe(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var o=0;n([])},xr={apply:se,applyEach:fn,applyEachSeries:dn,asyncify:u,auto:mn,autoInject:ft,cargo:gt,compose:Fn,concat:Un,concatLimit:zn,concatSeries:qn,constant:Wn,detect:Jn,detectLimit:Vn,detectSeries:Hn,dir:Gn,doDuring:xt,doUntil:jt,doWhilst:St,during:Et,each:Ct,eachLimit:Tt,eachOf:un,eachOfLimit:B,eachOfSeries:Mn,eachSeries:Xn,ensureAsync:Ot,every:$n,everyLimit:Yn,everySeries:Qn,filter:Kn,filterLimit:Zn,filterSeries:tr,forever:Nt,groupBy:nr,groupByLimit:er,groupBySeries:rr,log:ir,map:ln,mapLimit:pn,mapSeries:hn,mapValues:or,mapValuesLimit:Lt,mapValuesSeries:sr,memoize:Ft,nextTick:ar,parallel:zt,parallelLimit:Ut,priorityQueue:ur,queue:cr,race:qt,reduce:mt,reduceRight:Wt,reflect:Jt,reflectAll:Vt,reject:lr,rejectLimit:fr,rejectSeries:pr,retry:Xt,retryable:hr,seq:vt,series:$t,setImmediate:le,some:dr,someLimit:gr,someSeries:mr,sortBy:Yt,timeout:Qt,times:_r,timesLimit:Zt,timesSeries:br,transform:te,tryEach:ee,unmemoize:ne,until:ie,waterfall:wr,whilst:re,all:$n,allLimit:Yn,allSeries:Qn,any:dr,anyLimit:gr,anySeries:mr,find:Jn,findLimit:Vn,findSeries:Hn,forEach:Ct,forEachSeries:Xn,forEachLimit:Tt,forEachOf:un,forEachOfSeries:Mn,forEachOfLimit:B,inject:mt,foldl:mt,foldr:Wt,select:Kn,selectLimit:Zn,selectSeries:tr,wrapSync:u};t.default=xr,t.apply=se,t.applyEach=fn,t.applyEachSeries=dn,t.asyncify=u,t.auto=mn,t.autoInject=ft,t.cargo=gt,t.compose=Fn,t.concat=Un,t.concatLimit=zn,t.concatSeries=qn,t.constant=Wn,t.detect=Jn,t.detectLimit=Vn,t.detectSeries=Hn,t.dir=Gn,t.doDuring=xt,t.doUntil=jt,t.doWhilst=St,t.during=Et,t.each=Ct,t.eachLimit=Tt,t.eachOf=un,t.eachOfLimit=B,t.eachOfSeries=Mn,t.eachSeries=Xn,t.ensureAsync=Ot,t.every=$n,t.everyLimit=Yn,t.everySeries=Qn,t.filter=Kn,t.filterLimit=Zn,t.filterSeries=tr,t.forever=Nt,t.groupBy=nr,t.groupByLimit=er,t.groupBySeries=rr,t.log=ir,t.map=ln,t.mapLimit=pn,t.mapSeries=hn,t.mapValues=or,t.mapValuesLimit=Lt,t.mapValuesSeries=sr,t.memoize=Ft,t.nextTick=ar,t.parallel=zt,t.parallelLimit=Ut,t.priorityQueue=ur,t.queue=cr,t.race=qt,t.reduce=mt,t.reduceRight=Wt,t.reflect=Jt,t.reflectAll=Vt,t.reject=lr,t.rejectLimit=fr,t.rejectSeries=pr,t.retry=Xt,t.retryable=hr,t.seq=vt,t.series=$t,t.setImmediate=le,t.some=dr,t.someLimit=gr,t.someSeries=mr,t.sortBy=Yt,t.timeout=Qt,t.times=_r,t.timesLimit=Zt,t.timesSeries=br,t.transform=te,t.tryEach=ee,t.unmemoize=ne,t.until=ie,t.waterfall=wr,t.whilst=re,t.all=$n,t.allLimit=Yn,t.allSeries=Qn,t.any=dr,t.anyLimit=gr,t.anySeries=mr,t.find=Jn,t.findLimit=Vn,t.findSeries=Hn,t.forEach=Ct,t.forEachSeries=Xn,t.forEachLimit=Tt,t.forEachOf=un,t.forEachOfSeries=Mn,t.forEachOfLimit=B,t.inject=mt,t.foldl=mt,t.foldr=Wt,t.select=Kn,t.selectLimit=Zn,t.selectSeries=tr,t.wrapSync=u,Object.defineProperty(t,"__esModule",{value:!0})})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:492}],432:[function(t,e,n){"use strict";var r=t("jxt").createRegistry();r.use(t("jxt-xmpp-types")),r.use(t("./stanzas/iq")),r.use(t("./stanzas/message")),r.use(t("./stanzas/error")),r.use(t("./stanzas/jingle")),r.use(t("./stanzas/rtp")),r.use(t("./stanzas/file")),r.use(t("./stanzas/iceUdp")),r.use(t("./stanzas/extdisco")),r.use(t("./stanzas/jingleMessage")),e.exports={getXml:function(t){return new(r.getIq())(t)},getMessageXml:function(t){return new(r.getMessage())(t)},getData:function(t){return"string"!=typeof t&&(t=t.toString()),r.parse(t)}}},{"./stanzas/error":433,"./stanzas/extdisco":434,"./stanzas/file":435,"./stanzas/iceUdp":436,"./stanzas/iq":437,"./stanzas/jingle":438,"./stanzas/jingleMessage":439,"./stanzas/message":440,"./stanzas/rtp":441,jxt:446,"jxt-xmpp-types":445}],433:[function(t,e,n){"use strict";var r="urn:ietf:params:xml:ns:xmpp-stanzas",i=["bad-request","conflict","feature-not-implemented","forbidden","gone","internal-server-error","item-not-found","jid-malformed","not-acceptable","not-allowed","not-authorized","payment-required","recipient-unavailable","redirect","registration-required","remote-server-not-found","remote-server-timeout","resource-constraint","service-unavailable","subscription-required","undefined-condition","unexpected-request"];e.exports=function(t){var e=t.utils,n=t.define({name:"error",namespace:"jabber:client",element:"error",fields:{lang:{get:function(){return(this.parent||{}).lang||""}},condition:e.enumSub(r,i),gone:{get:function(){return e.getSubText(this.xml,r,"gone")},set:function(t){this.condition="gone",e.setSubText(this.xml,r,"gone",t)}},redirect:{get:function(){return e.getSubText(this.xml,r,"redirect")},set:function(t){this.condition="redirect",e.setSubText(this.xml,r,"redirect",t)}},code:e.attribute("code"),type:e.attribute("type"),by:e.jidAttribute("by"),$text:{get:function(){return e.getSubLangText(this.xml,r,"text",this.lang)}},text:{get:function(){return this.$text[this.lang]||""},set:function(t){e.setSubLangText(this.xml,r,"text",t,this.lang)}}}});t.withMessage(function(e){t.extend(e,n)}),t.withPresence(function(e){t.extend(e,n)}),t.withIq(function(e){t.extend(e,n)})}},{}],434:[function(t,e,n){"use strict";var r="urn:xmpp:extdisco:1";e.exports=function(t){var e=t.utils,i=n.Services=t.define({name:"services",namespace:r,element:"services",fields:{type:e.attribute("type")}}),o=n.Credentials=t.define({name:"credentials",namespace:r,element:"credentials"}),s=t.define({name:"service",namespace:r,element:"service",fields:{host:e.attribute("host"),port:e.attribute("port"),transport:e.attribute("transport"),type:e.attribute("type"),username:e.attribute("username"),password:e.attribute("password")}});t.extend(i,s,"services"),t.extend(o,s),t.withDataForm(function(e){t.extend(s,e)}),t.withIq(function(e){t.extend(e,i),t.extend(e,o)})}},{}],435:[function(t,e,n){"use strict";var r="urn:xmpp:jingle:apps:file-transfer:3";e.exports=function(t){var e=t.utils,n=t.define({name:"_file",namespace:r,element:"file",fields:{name:e.textSub(r,"name"),desc:e.textSub(r,"desc"),size:e.numberSub(r,"size"),date:e.dateSub(r,"date")}}),i=t.define({name:"range",namespace:r,element:"range",fields:{offset:e.numberAttribute("offset")}}),o=t.define({name:"thumbnail",namespace:"urn:xmpp:thumbs:0",element:"thumbnail",fields:{cid:e.attribute("cid"),mimeType:e.attribute("mime-type"),width:e.numberAttribute("width"),height:e.numberAttribute("height")}}),s=t.define({name:"_filetransfer",namespace:r,element:"description",tags:["jingle-application"],fields:{descType:{value:"filetransfer"},offer:e.subExtension("offer",r,"offer",n),request:e.subExtension("request",r,"request",n)}});t.extend(n,i),t.extend(n,o),t.withDefinition("hash","urn:xmpp:hashes:1",function(e){t.extend(n,e,"hashes")}),t.withDefinition("content","urn:xmpp:jingle:1",function(e){t.extend(e,s)})}},{}],436:[function(t,e,n){"use strict";var r="urn:xmpp:jingle:transports:ice-udp:1";e.exports=function(t){var e=t.utils,n=t.define({name:"_iceUdp",namespace:r,element:"transport",tags:["jingle-transport"],fields:{transType:{value:"iceUdp"},transportType:{value:"iceUdp"},pwd:e.attribute("pwd"),ufrag:e.attribute("ufrag")}}),i=t.define({name:"_iceUdp2",namespace:r,element:"transport",tags:["jingle-transport"],fields:{transportType:{value:"iceUdp"},pwd:e.attribute("pwd"),ufrag:e.attribute("ufrag")}}),o=t.define({name:"remoteCandidate",namespace:r,element:"remote-candidate",fields:{component:e.attribute("component"),ip:e.attribute("ip"),port:e.attribute("port")}}),s=t.define({name:"_iceUdpCandidate",namespace:r,element:"candidate",fields:{component:e.attribute("component"),foundation:e.attribute("foundation"),generation:e.attribute("generation"),id:e.attribute("id"),ip:e.attribute("ip"),network:e.attribute("network"),port:e.attribute("port"),
priority:e.attribute("priority"),protocol:e.attribute("protocol"),relAddr:e.attribute("rel-addr"),relPort:e.attribute("rel-port"),tcpType:e.attribute("tcptype"),type:e.attribute("type")}}),a=t.define({name:"_iceFingerprint",namespace:"urn:xmpp:jingle:apps:dtls:0",element:"fingerprint",fields:{hash:e.attribute("hash"),setup:e.attribute("setup"),value:e.text(),required:e.boolAttribute("required")}}),c=t.define({name:"_sctpMap",namespace:"urn:xmpp:jingle:transports:dtls-sctp:1",element:"sctpmap",fields:{number:e.attribute("number"),protocol:e.attribute("protocol"),streams:e.attribute("streams")}}),u=t.define({name:"gatheringComplete",element:"gathering-complete"});t.extend(n,s,"candidates"),t.extend(n,o),t.extend(n,a,"fingerprints"),t.extend(n,c,"sctp"),t.extend(n,u),t.extend(i,s,"candidates"),t.extend(i,o),t.extend(i,a,"fingerprints"),t.extend(i,c,"sctp"),t.extend(i,u),t.withDefinition("content","urn:xmpp:jingle:1",function(e){t.extend(e,n),t.extend(e,i)})}},{}],437:[function(t,e,n){"use strict";e.exports=function(t){var e=t.utils,n=t.define({name:"iq",namespace:"jabber:client",element:"iq",topLevel:!0,fields:{lang:e.langAttribute(),id:e.attribute("id"),to:e.jidAttribute("to",!0),from:e.jidAttribute("from",!0),type:e.attribute("type")}}),r=n.prototype.toJSON;n.prototype.toJSON=function(){var t=r.call(this);return t.resultReply=this.resultReply,t.errorReply=this.errorReply,t},n.prototype.resultReply=function(t){return t=t||{},t.to=this.from,t.id=this.id,t.type="result",new n(t)},n.prototype.errorReply=function(t){return t=t||{},t.to=this.from,t.id=this.id,t.type="error",new n(t)}}},{}],438:[function(t,e,n){"use strict";var r="urn:xmpp:jingle:1",i=["out-of-order","tie-break","unknown-session","unsupported-info"],o=["alternative-session","busy","cancel","connectivity-error","decline","expired","failed-application","failed-transport","general-error","gone","incompatible-parameters","media-error","security-error","success","timeout","unsupported-applications","unsupported-transports"];e.exports=function(t){var e=t.utils,n=t.define({name:"jingle",namespace:r,element:"jingle",fields:{action:e.attribute("action"),initiator:e.attribute("initiator"),responder:e.attribute("responder"),sid:e.attribute("sid")}}),s=t.define({name:"_jingleContent",namespace:r,element:"content",fields:{creator:e.attribute("creator"),disposition:e.attribute("disposition","session"),name:e.attribute("name"),senders:e.attribute("senders","both"),application:{get:function(){for(var e=t.tagged("jingle-application").map(function(t){return t.prototype._name}),n=0,r=e.length;n<r;n++)if(this._extensions[e[n]])return this._extensions[e[n]]},set:function(t){this["_"+t.applicationType]=t}},transport:{get:function(){for(var e=t.tagged("jingle-transport").map(function(t){return t.prototype._name}),n=0,r=e.length;n<r;n++)if(this._extensions[e[n]])return this._extensions[e[n]]},set:function(t){this["_"+t.transportType]=t}}}}),a=t.define({name:"reason",namespace:r,element:"reason",fields:{condition:e.enumSub(r,o),alternativeSession:{get:function(){return e.getSubText(this.xml,r,"alternative-session")},set:function(t){this.condition="alternative-session",e.setSubText(this.xml,r,"alternative-session",t)}},text:e.textSub(r,"text")}});t.extend(n,s,"contents"),t.extend(n,a),t.withStanzaError(function(n){t.add(n,"jingleCondition",e.enumSub("urn:xmpp:jingle:errors:1",i))}),t.withIq(function(e){t.extend(e,n)})}},{}],439:[function(t,e,n){"use strict";var r="urn:xmpp:jingle-message:0";e.exports=function(t){var e=t.utils,n=t.define({name:"accept",namespace:r,element:"accept",fields:{id:e.attribute("id")}}),i=t.define({name:"propose",namespace:r,element:"propose",fields:{id:e.attribute("id")}});t.withDefinition("description","urn:xmpp:jingle:apps:rtp:1",function(e){t.extend(i,e,"descriptions")});var o=t.define({name:"retract",namespace:r,element:"retract",fields:{id:e.attribute("id")}}),s=t.define({name:"reject",namespace:r,element:"reject",fields:{id:e.attribute("id")}}),a=t.define({name:"proceed",namespace:r,element:"proceed",fields:{id:e.attribute("id")}});t.withMessage(function(e){t.extend(e,n),t.extend(e,i),t.extend(e,o),t.extend(e,s),t.extend(e,a)})}},{}],440:[function(t,e,n){"use strict";e.exports=function(t){var e=t.utils;t.define({name:"message",namespace:"jabber:client",element:"message",topLevel:!0,fields:{lang:e.langAttribute(),id:e.attribute("id"),to:e.jidAttribute("to",!0),from:e.jidAttribute("from",!0),type:e.attribute("type","normal"),thread:e.textSub("jabber:client","thread"),parentThread:e.subAttribute("jabber:client","thread","parent"),subject:e.textSub("jabber:client","subject"),$body:{get:function(){return e.getSubLangText(this.xml,this._NS,"body",this.lang)}},body:{get:function(){return this.$body[this.lang]||""},set:function(t){e.setSubLangText(this.xml,this._NS,"body",t,this.lang)}},attention:e.boolSub("urn:xmpp:attention:0","attention"),chatState:e.enumSub("http://jabber.org/protocol/chatstates",["active","composing","paused","inactive","gone"]),replace:e.subAttribute("urn:xmpp:message-correct:0","replace","id"),requestReceipt:e.boolSub("urn:xmpp:receipts","request"),receipt:e.subAttribute("urn:xmpp:receipts","received","id")}})}},{}],441:[function(t,e,n){"use strict";var r="urn:xmpp:jingle:apps:rtp:1",i="urn:xmpp:jingle:apps:rtp:rtcp-fb:0",o="urn:xmpp:jingle:apps:rtp:rtp-hdrext:0",s="urn:xmpp:jingle:apps:rtp:info:1",a="urn:xmpp:jingle:apps:rtp:ssma:0",c="urn:xmpp:jingle:apps:grouping:0";e.exports=function(t){var e=t.utils,n={get:function(){var t=e.find(this.xml,i,"rtcp-fb"),n=[];return t.forEach(function(t){n.push({type:e.getAttribute(t,"type"),subtype:e.getAttribute(t,"subtype")})}),t=e.find(this.xml,i,"rtcp-fb-trr-int"),t.forEach(function(t){n.push({type:e.getAttribute(t,"type"),value:e.getAttribute(t,"value")})}),n},set:function(t){var n=this,o=e.find(this.xml,i,"rtcp-fb");o.forEach(function(t){n.xml.removeChild(t)}),o=e.find(this.xml,i,"rtcp-fb-trr-int"),o.forEach(function(t){n.xml.removeChild(t)}),t.forEach(function(t){var o;"trr-int"===t.type?(o=e.createElement(i,"rtcp-fb-trr-int",r),e.setAttribute(o,"type",t.type),e.setAttribute(o,"value",t.value)):(o=e.createElement(i,"rtcp-fb",r),e.setAttribute(o,"type",t.type),e.setAttribute(o,"subtype",t.subtype)),n.xml.appendChild(o)})}},u=t.define({name:"bandwidth",namespace:r,element:"bandwidth",fields:{type:e.attribute("type"),bandwidth:e.text()}}),l=t.define({name:"_rtp",namespace:r,element:"description",tags:["jingle-application"],fields:{applicationType:{value:"rtp"},media:e.attribute("media"),ssrc:e.attribute("ssrc"),mux:e.boolSub(r,"rtcp-mux"),encryption:{get:function(){var t=e.find(this.xml,r,"encryption");if(!t.length)return[];t=t[0];var n=this,i=e.find(t,r,"crypto"),o=[];return i.forEach(function(t){o.push(new h({},t,n).toJSON())}),o},set:function(t){var n=e.find(this.xml,r,"encryption");if(n.length&&this.xml.removeChild(n),t.length){e.setBoolSubAttribute(this.xml,r,"encryption","required",!0),n=e.find(this.xml,r,"encryption")[0];var i=this;t.forEach(function(t){var e=new h(t,null,i);n.appendChild(e.xml)})}}},feedback:n,headerExtensions:{get:function(){var t=e.find(this.xml,o,"rtp-hdrext"),n=[];return t.forEach(function(t){n.push({id:e.getAttribute(t,"id"),uri:e.getAttribute(t,"uri"),senders:e.getAttribute(t,"senders")})}),n},set:function(t){var n=this;e.find(this.xml,o,"rtp-hdrext").forEach(function(t){n.xml.removeChild(t)}),t.forEach(function(t){var i=e.createElement(o,"rtp-hdrext",r);e.setAttribute(i,"id",t.id),e.setAttribute(i,"uri",t.uri),e.setAttribute(i,"senders",t.senders),n.xml.appendChild(i)})}}}}),f=t.define({name:"_datachannel",namespace:"urn:xmpp:jingle:transports:webrtc-datachannel:0",element:"description",tags:["jingle-application"],fields:{applicationType:{value:"datachannel"}}}),p=t.define({name:"_payloadType",namespace:r,element:"payload-type",fields:{channels:e.attribute("channels"),clockrate:e.attribute("clockrate"),id:e.attribute("id"),maxptime:e.attribute("maxptime"),name:e.attribute("name"),ptime:e.attribute("ptime"),feedback:n,parameters:{get:function(){var t=[];return e.find(this.xml,r,"parameter").forEach(function(n){t.push({key:e.getAttribute(n,"name"),value:e.getAttribute(n,"value")})}),t},set:function(t){var n=this;t.forEach(function(t){var i=e.createElement(r,"parameter");e.setAttribute(i,"name",t.key),e.setAttribute(i,"value",t.value),n.xml.appendChild(i)})}}}}),h=t.define({name:"crypto",namespace:r,element:"crypto",fields:{cipherSuite:e.attribute("crypto-suite"),keyParams:e.attribute("key-params"),sessionParams:e.attribute("session-params"),tag:e.attribute("tag")}}),d=t.define({name:"_group",namespace:c,element:"group",fields:{semantics:e.attribute("semantics"),contents:e.multiSubAttribute(c,"content","name")}}),g=t.define({name:"_sourceGroup",namespace:a,element:"ssrc-group",fields:{semantics:e.attribute("semantics"),sources:e.multiSubAttribute(a,"source","ssrc")}}),m=t.define({name:"_source",namespace:a,element:"source",fields:{ssrc:e.attribute("ssrc"),parameters:{get:function(){var t=[];return e.find(this.xml,a,"parameter").forEach(function(n){t.push({key:e.getAttribute(n,"name"),value:e.getAttribute(n,"value")})}),t},set:function(t){var n=this;t.forEach(function(t){var r=e.createElement(a,"parameter");e.setAttribute(r,"name",t.key),e.setAttribute(r,"value",t.value),n.xml.appendChild(r)})}}}}),v=t.define({name:"mute",namespace:s,element:"mute",fields:{creator:e.attribute("creator"),name:e.attribute("name")}}),y=t.define({name:"unmute",namespace:s,element:"unmute",fields:{creator:e.attribute("creator"),name:e.attribute("name")}});t.extend(l,u),t.extend(l,p,"payloads"),t.extend(l,m,"sources"),t.extend(l,g,"sourceGroups"),t.withDefinition("content","urn:xmpp:jingle:1",function(e){t.extend(e,l),t.extend(e,f)}),t.withDefinition("jingle","urn:xmpp:jingle:1",function(n){t.extend(n,v),t.extend(n,y),t.extend(n,d,"groups"),t.add(n,"ringing",e.boolSub(s,"ringing")),t.add(n,"hold",e.boolSub(s,"hold")),t.add(n,"active",e.boolSub(s,"active"))})}},{}],442:[function(t,e,n){function r(t){this.message=t}function i(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,s=0,a=0,c="";i=e.charAt(a++);~i&&(n=s%4?64*n+i:i,s++%4)?c+=String.fromCharCode(255&n>>(-2*s&6)):0)i=o.indexOf(i);return c}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||i},{}],443:[function(t,e,n){function r(t){return decodeURIComponent(i(t).replace(/(.)/g,function(t,e){var n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}var i=t("./atob");e.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return r(e)}catch(t){return i(e)}}},{"./atob":442}],444:[function(t,e,n){"use strict";function r(t){this.message=t}var i=t("./base64_url_decode");r.prototype=new Error,r.prototype.name="InvalidTokenError",e.exports=function(t,e){if("string"!=typeof t)throw new r("Invalid token specified");e=e||{};var n=!0===e.header?0:1;try{return JSON.parse(i(t.split(".")[n]))}catch(t){throw new r("Invalid token specified: "+t.message)}},e.exports.InvalidTokenError=r},{"./base64_url_decode":443}],445:[function(t,e,n){"use strict";var r=t("xmpp-jid").JID;e.exports=function(t){var e=t.utils;t.withIq=function(t){this.withDefinition("iq","jabber:client",t),this.withDefinition("iq","jabber:component:accept",t)},t.withMessage=function(t){this.withDefinition("message","jabber:client",t),this.withDefinition("message","jabber:component:accept",t)},t.withPresence=function(t){this.withDefinition("presence","jabber:client",t),this.withDefinition("presence","jabber:component:accept",t)},t.withStreamFeatures=function(t){this.withDefinition("features","http://etherx.jabber.org/streams",t)},t.withStanzaError=function(t){this.withDefinition("error","jabber:client",t),this.withDefinition("error","jabber:component:accept",t)},t.withDataForm=function(t){this.withDefinition("x","jabber:x:data",t)},t.withPubsubItem=function(t){this.withDefinition("item","http://jabber.org/protocol/pubsub",t),this.withDefinition("item","http://jabber.org/protocol/pubsub#event",t)},t.getMessage=function(){return this.getDefinition("message","jabber:client")},t.getPresence=function(){return this.getDefinition("presence","jabber:client")},t.getIq=function(){return this.getDefinition("iq","jabber:client")},t.getStreamError=function(){return this.getDefinition("error","http://etherx.jabber.org/streams")},t.getComponentMessage=function(){return this.getDefinition("message","jabber:component:accept")},t.getComponentPresence=function(){return this.getDefinition("presence","jabber:component:accept")},t.getComponentIq=function(){return this.getDefinition("iq","jabber:component:accept")},t.utils.jidAttribute=function(t,n){return{get:function(){var i=new r(e.getAttribute(this.xml,t));return n&&(i.prepped=!0),i},set:function(n){e.setAttribute(this.xml,t,(n||"").toString())}}},t.utils.jidSub=function(t,n,i){return{get:function(){var o=new r(e.getSubText(this.xml,t,n));return i&&(o.prepped=!0),o},set:function(r){e.setSubText(this.xml,t,n,(r||"").toString())}}},t.utils.tzoSub=e.field(function(t,n,r,i){var o,s,a,c=-1,u=e.getSubText(t,n,r);return u?("-"===u.charAt(0)&&(c=1,u=u.slice(1)),o=u.split(":"),s=parseInt(o[0],10),a=parseInt(o[1],10),(60*s+a)*c):i},function(t,n,r,i){var o,s,a="-";"number"==typeof i?(i<0&&(i=-i,a="+"),o=i/60,s=i%60,a+=(o<10?"0":"")+o+":"+(s<10?"0":"")+s):a=i,e.setSubText(t,n,r,a)})}},{"xmpp-jid":629}],446:[function(t,e,n){"use strict";function r(){this._LOOKUP={},this._LOOKUP_EXT={},this._TAGS={},this._CB_DEFINITION={},this._CB_TAG={},this._ID=o.v4(),this.utils=i({},s,a)}var i=t("lodash.assign"),o=t("uuid"),s=t("./lib/types"),a=t("./lib/helpers"),c=t("./lib/stanza");r.prototype.use=function(t){return t&&"function"==typeof t?(t["__JXT_LOADED_"+this._ID]||(t(this),t["__JXT_LOADED_"+this._ID]=!0),this):this},r.prototype.getDefinition=function(t,e,n){var r=this._LOOKUP[e+"|"+t];if(n&&!r)throw new Error("Could not find definition for <"+t+' xmlns="'+e+'" />');return r},r.prototype.getExtensions=function(t,e){return this._LOOKUP_EXT[e+"|"+t]||{}},r.prototype.withDefinition=function(t,e,n){var r=e+"|"+t;this._CB_DEFINITION[r]||(this._CB_DEFINITION[r]=[]),this._CB_DEFINITION[r].push(n),this._LOOKUP[r]&&n(this._LOOKUP[r])},r.prototype.withTag=function(t,e){this._CB_TAG[t]||(this._CB_TAG[t]=[]),this._CB_TAG[t].push(e),this.tagged(t).forEach(function(t){e(t)})},r.prototype.tagged=function(t){return this._TAGS[t]||[]},r.prototype.build=function(t){var e=this.getDefinition(t.localName,t.namespaceURI);if(e)return new e(null,t)},r.prototype.parse=function(t){var e=a.parse(t);if(e)return this.build(e)},r.prototype.extend=function(t,e,n,r){var i=t.prototype._NS+"|"+t.prototype._EL,o=e.prototype._name,a=e.prototype._NS+"|"+e.prototype._EL;this._LOOKUP[a]=e,this._LOOKUP_EXT[a]||(this._LOOKUP_EXT[a]={}),this._LOOKUP_EXT[i]||(this._LOOKUP_EXT[i]={}),this._LOOKUP_EXT[i][o]=e,(!n||n&&!r)&&this.add(t,o,s.extension(e)),n&&this.add(t,n,s.multiExtension(e))},r.prototype.add=function(t,e,n){n.enumerable=!0,Object.defineProperty(t.prototype,e,n)},r.prototype.define=function(t){var e=this,n=c(this,t),r=n.prototype._NS,i=n.prototype._EL,o=n.prototype._TAGS,s=r+"|"+i;return this._LOOKUP[s]=n,o.forEach(function(t){e._TAGS[t]||(e._TAGS[t]=[]),e._TAGS[t].push(n)}),Object.keys(t.fields||{}).forEach(function(r){e.add(n,r,t.fields[r])}),this._CB_DEFINITION[s]&&this._CB_DEFINITION[s].forEach(function(t){t(n)}),o.forEach(function(t){e._CB_TAG[t]&&e._CB_TAG[t].forEach(function(t){t(n)})}),n},r.createRegistry=function(){return new r},i(r,a),i(r,s);var u=new r;r.define=u.define.bind(u),r.extend=u.extend.bind(u),r.add=u.add.bind(u),r.parse=u.parse.bind(u),r.build=u.build.bind(u),r.getExtensions=u.getExtensions.bind(u),r.getDefinition=u.getDefinition.bind(u),r.withDefinition=u.withDefinition.bind(u),r.withTag=u.withTag.bind(u),r.tagged=u.tagged.bind(u),r.getGlobalJXT=function(){return u},e.exports=r},{"./lib/helpers":447,"./lib/stanza":448,"./lib/types":449,"lodash.assign":450,uuid:622}],447:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("ltx"),o=t("ltx/lib/DOMElement"),s=n.XML_NS="http://www.w3.org/XML/1998/namespace";n.parse=function(t){var e=i.parse(t,{Element:o});if(1===e.nodeType)return e},n.createElement=function(t,e,r){var i=new o(e);return r&&r===t||n.setAttribute(i,"xmlns",t),i};var a=n.find=function(t,e,n){for(var r=[],i=t.getElementsByTagName(n),o=0,s=i.length;o<s;o++){var a=i[o];a.namespaceURI===e&&a.parentNode===t&&r.push(a)}return r};n.findOrCreate=function(t,e,r){var i=n.find(t,e,r);if(i.length)return i[0];var o=n.createElement(e,r,t.namespaceURI);return t.appendChild(o),o},n.getAttribute=function(t,e,n){return t.getAttribute(e)||n||""},n.getAttributeNS=function(t,e,n,r){return t.getAttributeNS(e,n)||r||""},n.setAttribute=function(t,e,n,r){n||r?t.setAttribute(e,n):t.removeAttribute(e)},n.setAttributeNS=function(t,e,n,r,i){r||i?t.setAttributeNS(e,n,r):t.removeAttributeNS(e,n)},n.getBoolAttribute=function(t,e,n){var r=t.getAttribute(e)||n||"";return"true"===r||"1"===r},n.setBoolAttribute=function(t,e,n){n?t.setAttribute(e,"1"):t.removeAttribute(e)},n.getSubAttribute=function(t,e,n,r,i){var o=a(t,e,n);if(!o)return"";for(var s=0;s<o.length;s++)return o[s].getAttribute(r)||i||"";return""},n.setSubAttribute=function(t,e,r,i,o){var s=a(t,e,r);if(s.length)for(var c=0;c<s.length;c++){if(o)return void s[c].setAttribute(i,o);s[c].removeAttribute(i)}else o&&(r=n.createElement(e,r,t.namespaceURI),r.setAttribute(i,o),t.appendChild(r))},n.getBoolSubAttribute=function(t,e,n,r,i){var o=t.getSubAttribute(e,n,r)||i||"";return"true"===o||"1"===o},n.setBoolSubAttribute=function(t,e,r,i,o){o=o?"1":"",n.setSubAttribute(t,e,r,i,o)},n.getText=function(t){return t.textContent},n.setText=function(t,e){t.textContent=e},n.getSubText=n.getTextSub=function(t,e,n,r){var i=a(t,e,n);return r=r||"",i.length?i[0].textContent||r:r},n.setSubText=n.setTextSub=function(t,e,r,i){var o=a(t,e,r);if(o.length)for(var s=0;s<o.length;s++)t.removeChild(o[s]);if(i){var c=n.createElement(e,r,t.namespaceURI);!0!==i&&(c.textContent=i),t.appendChild(c)}},n.getMultiSubText=function(t,e,n,r){var i=a(t,e,n),o=[];r=r||function(t){return t.textContent||""};for(var s=0;s<i.length;s++)o.push(r(i[s]));return o},n.setMultiSubText=function(t,e,r,i,o){var s=a(t,e,r),c=[];o=o||function(i){if(i){var o=n.createElement(e,r,t.namespaceURI);o.textContent=i,t.appendChild(o)}},c="string"==typeof i?(i||"").split("\n"):i;var u,l;for(u=0,l=s.length;u<l;u++)t.removeChild(s[u]);for(u=0,l=c.length;u<l;u++)o(c[u])},n.getMultiSubAttribute=function(t,e,r,i){return n.getMultiSubText(t,e,r,function(t){return n.getAttribute(t,i)})},n.setMultiSubAttribute=function(t,e,r,i,o){n.setMultiSubText(t,e,r,o,function(o){var s=n.createElement(e,r,t.namespaceURI);n.setAttribute(s,i,o),t.appendChild(s)})},n.getSubLangText=function(t,e,n,r){var i=a(t,e,n);if(!i.length)return{};for(var o,c,u={},l=[],f=0;f<i.length;f++)c=i[f],o=c.getAttributeNS(s,"lang")||r,l.push(o),u[o]=c.textContent||"";return u},n.setSubLangText=function(t,e,i,o,c){var u,l,f=a(t,e,i);if(f.length)for(var p=0;p<f.length;p++)t.removeChild(f[p]);if("string"==typeof o)u=n.createElement(e,i,t.namespaceURI),u.textContent=o,t.appendChild(u);else if("object"===(void 0===o?"undefined":r(o)))for(l in o)o.hasOwnProperty(l)&&(u=n.createElement(e,i,t.namespaceURI),l!==c&&u.setAttributeNS(s,"lang",l),u.textContent=o[l],t.appendChild(u))},n.getBoolSub=function(t,e,n){return!!a(t,e,n).length},n.setBoolSub=function(t,e,r,i){var o=a(t,e,r);if(o.length)for(var s=0;s<o.length;s++){if(i)return;t.removeChild(o[s])}else if(i){var c=n.createElement(e,r,t.namespaceURI);t.appendChild(c)}}},{ltx:470,"ltx/lib/DOMElement":471}],448:[function(t,e,n){"use strict";var r=t("./helpers"),i=t("lodash.assign"),o={constructor:!0,parent:!0,prototype:!0,toJSON:!0,toString:!0,xml:!0};e.exports=function(t,e){function n(n,o,s){var a=this,c=(o||{}).parentNode||(s||{}).xml,u=(c||{}).namespaceURI;a.xml=o||r.createElement(a._NS,a._EL,u),Object.keys(a._PREFIXES).forEach(function(t){var e=a._PREFIXES[t];a.xml.setAttribute("xmlns:"+t,e)}),a._extensions={};for(var l=0,f=a.xml.childNodes.length;l<f;l++){var p=a.xml.childNodes[l],h=t.getDefinition(p.localName,p.namespaceURI);if(void 0!==h){var d=h.prototype._name;a._extensions[d]=new h(null,p),a._extensions[d].parent=a}}return i(a,n),e.init&&e.init.apply(a,[n]),a}return n.prototype._isJXT=!0,n.prototype._name=e.name,n.prototype._eventname=e.eventName,n.prototype._NS=e.namespace,n.prototype._EL=e.element||e.name,n.prototype._PREFIXES=e.prefixes||{},n.prototype._TAGS=e.tags||[],n.prototype.toString=function(){return this.xml.toString()},n.prototype.toJSON=function(){var e,n={};for(e in this._extensions)this._extensions[e].toJSON&&"_"!==e[0]&&(n[e]=this._extensions[e].toJSON());for(e in this){var r=!o[e]&&"_"!==e[0],i=t.getExtensions(this._EL,this._NS)[e];if(r&&!i){var s=this[e];if("function"==typeof s)continue;var a=Object.prototype.toString.call(s);if(a.indexOf("Object")>=0)Object.keys(s).length>0&&(s._isJXT?n[e]=s.toJSON():n[e]=s);else if(a.indexOf("Array")>=0){if(s.length>0){for(var c=[],u=s.length,l=0;l<u;l++){var f=s[l];void 0!==f&&(f._isJXT?c.push(f.toJSON()):c.push(f))}n[e]=c}}else void 0!==s&&!1!==s&&""!==s&&(n[e]=s)}}return n},n}},{"./helpers":447,"lodash.assign":450}],449:[function(t,e,n){(function(e){"use strict";var r=t("./helpers"),i=t("lodash.assign"),o=r.find,s=r.createElement,a=n.field=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return{get:function(){return t.apply(null,[this.xml].concat(n))},set:function(t){e.apply(null,[this.xml].concat(n).concat([t]))}}}};n.boolAttribute=a(r.getBoolAttribute,r.setBoolAttribute),n.subAttribute=a(r.getSubAttribute,r.setSubAttribute),n.boolSubAttribute=a(r.getSubBoolAttribute,r.setSubBoolAttribute),n.text=a(r.getText,r.setText),n.textSub=n.subText=a(r.getSubText,r.setSubText),n.multiTextSub=n.multiSubText=a(r.getMultiSubText,r.setMultiSubText),n.multiSubAttribute=a(r.getMultiSubAttribute,r.setMultiSubAttribute),n.langTextSub=n.subLangText=a(r.getSubLangText,r.setSubLangText),n.boolSub=a(r.getBoolSub,r.setBoolSub),n.langAttribute=a(function(t){return t.getAttributeNS(r.XML_NS,"lang")||""},function(t,e){t.setAttributeNS(r.XML_NS,"lang",e)}),n.b64Text=a(function(t){return t.textContent&&"="!==t.textContent?new e(t.textContent,"base64"):""},function(t,n){if("string"==typeof n){var r=new e(n).toString("base64");t.textContent=r||"="}else t.textContent=""}),n.dateAttribute=function(t,e){return{get:function(){var n=r.getAttribute(this.xml,t);return n?new Date(n):e?new Date(Date.now()):void 0},set:function(e){e&&("string"!=typeof e&&(e=e.toISOString()),r.setAttribute(this.xml,t,e))}}},n.dateSub=function(t,e,n){return{get:function(){var i=r.getSubText(this.xml,t,e);return i?new Date(i):n?new Date(Date.now()):void 0},set:function(n){n&&("string"!=typeof n&&(n=n.toISOString()),r.setSubText(this.xml,t,e,n))}}},n.dateSubAttribute=function(t,e,n,i){return{get:function(){var o=r.getSubAttribute(this.xml,t,e,n);return o?new Date(o):i?new Date(Date.now()):void 0},set:function(i){i&&("string"!=typeof i&&(i=i.toISOString()),r.setSubAttribute(this.xml,t,e,n,i))}}},n.numberAttribute=function(t,e,n){return{get:function(){var i=e?parseFloat:parseInt,o=r.getAttribute(this.xml,t,"");if(!o)return n;var s=i(o,10);return isNaN(s)?n:s},set:function(e){r.setAttribute(this.xml,t,e.toString())}}},n.numberSub=function(t,e,n,i){return{get:function(){var o=n?parseFloat:parseInt,s=r.getSubText(this.xml,t,e,"");if(!s)return i;var a=o(s,10);return isNaN(a)?i:a},set:function(n){r.setSubText(this.xml,t,e,n.toString())}}},n.attribute=function(t,e){return{get:function(){return r.getAttribute(this.xml,t,e)},set:function(e){r.setAttribute(this.xml,t,e)}}},n.attributeNS=function(t,e,n){return{get:function(){return r.getAttributeNS(this.xml,t,e,n)},set:function(n){r.setAttributeNS(this.xml,t,e,n)}}},n.extension=function(t){return{get:function(){var e=this,n=t.prototype._name;if(!this._extensions[n]){var r=o(this.xml,t.prototype._NS,t.prototype._EL);r.length?this._extensions[n]=new t(null,r[0],e):(this._extensions[n]=new t({},null,e),this.xml.appendChild(this._extensions[n].xml)),this._extensions[n].parent=this}return this._extensions[n]},set:function(e){if(e){var n=this[t.prototype._name];!0===e&&(e={}),i(n,e)}}}},n.multiExtension=function(t){return{get:function(){for(var e=this,n=o(this.xml,t.prototype._NS,t.prototype._EL),r=[],i=0,s=n.length;i<s;i++)r.push(new t({},n[i],e));return r},set:function(e){e=e||[];var n,r,i=this,s=o(this.xml,t.prototype._NS,t.prototype._EL);for(n=0,r=s.length;n<r;n++)i.xml.removeChild(s[n]);for(n=0,r=e.length;n<r;n++){var a=new t(e[n],null,i);i.xml.appendChild(a.xml)}}}},n.enumSub=function(t,e){return{get:function(){var n=this,r=[];return e.forEach(function(e){var i=o(n.xml,t,e);i.length&&r.push(i[0].nodeName)}),r[0]||""},set:function(n){var r=this,i=!1;if(e.forEach(function(e){var s=o(r.xml,t,e);s.length&&(e===n?i=!0:r.xml.removeChild(s[0]))}),n&&!i){var a=s(t,n);this.xml.appendChild(a)}}}},n.subExtension=function(t,e,n,r){return{get:function(){if(!this._extensions[t]){var i=o(this.xml,e,n);i.length?i=i[0]:(i=s(e,n,this._NS),this.xml.appendChild(i));var a=o(i,r.prototype._NS,r.prototype._EL);a.length?this._extensions[t]=new r(null,a[0],{xml:i}):(this._extensions[t]=new r({},null,{xml:i}),i.appendChild(this._extensions[t].xml)),this._extensions[t].parent=this}return this._extensions[t]},set:function(r){var s=o(this.xml,e,n);if(s.length&&!r&&this.xml.removeChild(s[0]),r){var a=this[t];!0===r&&(r={}),i(a,r)}}}},n.subMultiExtension=function(t,e,n){return{get:function(){var r=this,i=[],s=o(this.xml,t,e);return s.length?(s=s[0],o(s,n.prototype._NS,n.prototype._EL).forEach(function(t){i.push(new n({},t,r))}),i):i},set:function(r){var i=this,a=o(this.xml,t,e);a.length&&i.xml.removeChild(a[0]),r.length&&(a=s(t,e,this._NS),r.forEach(function(e){var r=new n(e,null,{xml:{namespaceURI:t}});a.appendChild(r.xml)}),i.xml.appendChild(a))}}}}).call(this,t("buffer").Buffer)},{"./helpers":447,buffer:59,"lodash.assign":450}],450:[function(t,e,n){function r(t,e,n){for(var r=-1,i=s(e),o=i.length;++r<o;){var a=i[r],c=t[a],u=n(c,e[a],a,t,e);(u===u?u===c:c!==c)&&(void 0!==c||a in t)||(t[a]=u)}return t}var i=t("lodash._baseassign"),o=t("lodash._createassigner"),s=t("lodash.keys"),a=o(function(t,e,n){return n?r(t,e,n):i(t,e)});e.exports=a},{"lodash._baseassign":456,"lodash._createassigner":460,"lodash.keys":451}],451:[function(t,e,n){function r(t){return null!=t&&o(y(t))}function i(t,e){return t="number"==typeof t||h.test(t)?+t:-1,e=null==e?v:e,t>-1&&t%1==0&&t<e}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=v}function s(t){for(var e=c(t),n=e.length,r=n&&t.length,s=!!r&&o(r)&&(p(t)||f(t)),a=-1,u=[];++a<n;){var l=e[a];(s&&i(l,r)||g.call(t,l))&&u.push(l)}return u}function a(t){var e=void 0===t?"undefined":u(t);return!!t&&("object"==e||"function"==e)}function c(t){if(null==t)return[];a(t)||(t=Object(t));var e=t.length;e=e&&o(e)&&(p(t)||f(t))&&e||0;for(var n=t.constructor,r=-1,s="function"==typeof n&&n.prototype===t,c=Array(e),u=e>0;++r<e;)c[r]=r+"";for(var l in t)u&&i(l,e)||"constructor"==l&&(s||!g.call(t,l))||c.push(l);return c}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=t("lodash._getnative"),f=t("lodash.isarguments"),p=t("lodash.isarray"),h=/^\d+$/,d=Object.prototype,g=d.hasOwnProperty,m=l(Object,"keys"),v=9007199254740991,y=function(t){return function(e){return null==e?void 0:e[t]}}("length"),_=m?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&r(t)?s(t):a(t)?m(t):[]}:s;e.exports=_},{"lodash._getnative":461,"lodash.isarguments":465,"lodash.isarray":466}],452:[function(t,e,n){n.RateLimiter=t("./lib/rateLimiter"),n.TokenBucket=t("./lib/tokenBucket")},{"./lib/rateLimiter":454,"./lib/tokenBucket":455}],453:[function(t,e,n){(function(t){var n=function(){if(void 0!==t&&t.hrtime){var e=t.hrtime(),n=e[0],r=e[1];return 1e3*n+Math.floor(r/1e6)}return(new Date).getTime()};e.exports=n}).call(this,t("_process"))},{_process:492}],454:[function(t,e,n){(function(n){var r=t("./tokenBucket"),i=t("./clock"),o=function(t,e,n){this.tokenBucket=new r(t,t,e,null),this.tokenBucket.content=t,this.curIntervalStart=i(),this.tokensThisInterval=0,this.fireImmediately=n};o.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(t,e){function r(n,r){if(n)return e(n,null);o.tokensThisInterval+=t,e(null,r)}if(t>this.tokenBucket.bucketSize)return n.nextTick(e.bind(null,"Requested tokens "+t+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var o=this,s=i();if((s<this.curIntervalStart||s-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=s,this.tokensThisInterval=0),t>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)n.nextTick(e.bind(null,null,-1));else{var a=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-s);setTimeout(function(){o.tokenBucket.removeTokens(t,r)},a)}return!1}return this.tokenBucket.removeTokens(t,r)},tryRemoveTokens:function(t){if(t>this.tokenBucket.bucketSize)return!1;var e=i();if((e<this.curIntervalStart||e-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=e,this.tokensThisInterval=0),t>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var n=this.tokenBucket.tryRemoveTokens(t);return n&&(this.tokensThisInterval+=t),n},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},e.exports=o}).call(this,t("_process"))},{"./clock":453,"./tokenBucket":455,_process:492}],455:[function(t,e,n){(function(t){var n=function(t,e,n,r){if(this.bucketSize=t,this.tokensPerInterval=e,"string"==typeof n)switch(n){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+n)}else this.interval=n;this.parentBucket=r,this.content=0,this.lastDrip=+new Date};n.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(e,n){function r(){var t=Math.ceil((e-i.content)*(i.interval/i.tokensPerInterval));return setTimeout(function(){i.removeTokens(e,n)},t),!1}var i=this;return this.bucketSize?e>this.bucketSize?(t.nextTick(n.bind(null,"Requested tokens "+e+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),e>this.content?r():this.parentBucket?this.parentBucket.removeTokens(e,function(t,o){return t?n(t,null):e>i.content?r():(i.content-=e,void n(null,Math.min(o,i.content)))}):(this.content-=e,t.nextTick(n.bind(null,null,this.content)),!0)):(t.nextTick(n.bind(null,null,e,Number.POSITIVE_INFINITY)),!0)},tryRemoveTokens:function(t){return!this.bucketSize||!(t>this.bucketSize)&&(this.drip(),!(t>this.content)&&(!(this.parentBucket&&!this.parent.tryRemoveTokens(t))&&(this.content-=t,!0)))},drip:function(){if(!this.tokensPerInterval)return void(this.content=this.bucketSize);var t=+new Date,e=Math.max(t-this.lastDrip,0);this.lastDrip=t;var n=e*(this.tokensPerInterval/this.interval);this.content=Math.min(this.content+n,this.bucketSize)}},e.exports=n}).call(this,t("_process"))},{_process:492}],456:[function(t,e,n){function r(t,e){
return null==e?t:i(e,o(e),t)}var i=t("lodash._basecopy"),o=t("lodash.keys");e.exports=r},{"lodash._basecopy":458,"lodash.keys":457}],457:[function(t,e,n){arguments[4][451][0].apply(n,arguments)},{dup:451,"lodash._getnative":461,"lodash.isarguments":465,"lodash.isarray":466}],458:[function(t,e,n){function r(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}e.exports=r},{}],459:[function(t,e,n){function r(t,e,n){if("function"!=typeof t)return i;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,s){return t.call(e,n,r,i,o,s)}}return function(){return t.apply(e,arguments)}}function i(t){return t}e.exports=r},{}],460:[function(t,e,n){function r(t){return s(function(e,n){var r=-1,s=null==e?0:n.length,a=s>2?n[s-2]:void 0,c=s>2?n[2]:void 0,u=s>1?n[s-1]:void 0;for("function"==typeof a?(a=i(a,u,5),s-=2):(a="function"==typeof u?u:void 0,s-=a?1:0),c&&o(n[0],n[1],c)&&(a=s<3?void 0:a,s=1);++r<s;){var l=n[r];l&&t(e,l,a)}return e})}var i=t("lodash._bindcallback"),o=t("lodash._isiterateecall"),s=t("lodash.restparam");e.exports=r},{"lodash._bindcallback":459,"lodash._isiterateecall":462,"lodash.restparam":467}],461:[function(t,e,n){function r(t){return!!t&&"object"==(void 0===t?"undefined":c(t))}function i(t,e){var n=null==t?void 0:t[e];return a(n)?n:void 0}function o(t){return s(t)&&d.call(t)==u}function s(t){var e=void 0===t?"undefined":c(t);return!!t&&("object"==e||"function"==e)}function a(t){return null!=t&&(o(t)?g.test(p.call(t)):r(t)&&l.test(t))}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u="[object Function]",l=/^\[object .+?Constructor\]$/,f=Object.prototype,p=Function.prototype.toString,h=f.hasOwnProperty,d=f.toString,g=RegExp("^"+p.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},{}],462:[function(t,e,n){function r(t){return null!=t&&s(f(t))}function i(t,e){return t="number"==typeof t||u.test(t)?+t:-1,e=null==e?l:e,t>-1&&t%1==0&&t<e}function o(t,e,n){if(!a(n))return!1;var o=void 0===e?"undefined":c(e);if("number"==o?r(n)&&i(e,n.length):"string"==o&&e in n){var s=n[e];return t===t?t===s:s!==s}return!1}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=l}function a(t){var e=void 0===t?"undefined":c(t);return!!t&&("object"==e||"function"==e)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=/^\d+$/,l=9007199254740991,f=function(t){return function(e){return null==e?void 0:e[t]}}("length");e.exports=o},{}],463:[function(t,e,n){function r(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function o(t,e){var n=N(t)||d(t)?i(t.length,String):[],r=n.length,o=!!r;for(var s in t)!e&&!O.call(t,s)||o&&("length"==s||l(s,r))||n.push(s);return n}function s(t,e,n){var r=t[e];O.call(t,e)&&h(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function a(t){if(!p(t))return I(t);var e=[];for(var n in Object(t))O.call(t,n)&&"constructor"!=n&&e.push(n);return e}function c(t,e){return e=P(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=P(n.length-e,0),s=Array(o);++i<o;)s[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=s,r(t,this,a)}}function u(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],c=r?r(n[a],t[a],a,n,t):void 0;s(n,a,void 0===c?t[a]:c)}return n}function l(t,e){return!!(e=null==e?S:e)&&("number"==typeof t||C.test(t))&&t>-1&&t%1==0&&t<e}function f(t,e,n){if(!_(n))return!1;var r=void 0===e?"undefined":x(e);return!!("number"==r?g(n)&&l(e,n.length):"string"==r&&e in n)&&h(n[e],t)}function p(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||T)}function h(t,e){return t===e||t!==t&&e!==e}function d(t){return m(t)&&O.call(t,"callee")&&(!R.call(t,"callee")||A.call(t)==j)}function g(t){return null!=t&&y(t.length)&&!v(t)}function m(t){return b(t)&&g(t)}function v(t){var e=_(t)?A.call(t):"";return e==E||e==k}function y(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=S}function _(t){var e=void 0===t?"undefined":x(t);return!!t&&("object"==e||"function"==e)}function b(t){return!!t&&"object"==(void 0===t?"undefined":x(t))}function w(t){return g(t)?o(t):a(t)}var x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S=9007199254740991,j="[object Arguments]",E="[object Function]",k="[object GeneratorFunction]",C=/^(?:0|[1-9]\d*)$/,T=Object.prototype,O=T.hasOwnProperty,A=T.toString,R=T.propertyIsEnumerable,I=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),P=Math.max,D=!R.call({valueOf:1},"valueOf"),N=Array.isArray,L=function(t){return c(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,s&&f(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}(function(t,e){if(D||p(e)||g(e))return void u(e,w(e),t);for(var n in e)O.call(e,n)&&s(t,n,e[n])});e.exports=L},{}],464:[function(t,e,n){(function(t){function r(t,e){return t.set(e[0],e[1]),t}function i(t,e){return t.add(e),t}function o(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););return t}function s(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function a(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function c(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function u(t,e){return null==t?void 0:t[e]}function l(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function f(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function p(t,e){return function(n){return t(e(n))}}function h(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function d(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function g(){this.__data__=Le?Le(null):{}}function m(t){return this.has(t)&&delete this.__data__[t]}function v(t){var e=this.__data__;if(Le){var n=e[t];return n===At?void 0:n}return ye.call(e,t)?e[t]:void 0}function y(t){var e=this.__data__;return Le?void 0!==e[t]:ye.call(e,t)}function _(t,e){return this.__data__[t]=Le&&void 0===e?At:e,this}function b(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function w(){this.__data__=[]}function x(t){var e=this.__data__,n=z(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ce.call(e,n,1),!0)}function S(t){var e=this.__data__,n=z(e,t);return n<0?void 0:e[n][1]}function j(t){return z(this.__data__,t)>-1}function E(t,e){var n=this.__data__,r=z(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function k(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function C(){this.__data__={hash:new d,map:new(Ie||b),string:new d}}function T(t){return st(this,t).delete(t)}function O(t){return st(this,t).get(t)}function A(t){return st(this,t).has(t)}function R(t,e){return st(this,t).set(t,e),this}function I(t){this.__data__=new b(t)}function P(){this.__data__=new b}function D(t){return this.__data__.delete(t)}function N(t){return this.__data__.get(t)}function L(t){return this.__data__.has(t)}function M(t,e){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!Ie||r.length<Ot-1)return r.push([t,e]),this;n=this.__data__=new k(r)}return n.set(t,e),this}function F(t,e){var n=He(t)||yt(t)?c(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!ye.call(t,o)||i&&("length"==o||ft(o,r))||n.push(o);return n}function B(t,e,n){var r=t[e];ye.call(t,e)&&vt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function z(t,e){for(var n=t.length;n--;)if(vt(t[n][0],e))return n;return-1}function U(t,e){return t&&rt(e,Et(e),t)}function q(t,e,n,r,i,s,a){var c;if(r&&(c=s?r(t,i,s,a):r(t)),void 0!==c)return c;if(!St(t))return t;var u=He(t);if(u){if(c=ct(t),!e)return nt(t,c)}else{var f=Ve(t),p=f==Nt||f==Lt;if(Ge(t))return X(t,e);if(f==Bt||f==It||p&&!s){if(l(t))return s?t:{};if(c=ut(p?{}:t),!e)return it(t,U(c,t))}else{if(!oe[f])return s?t:{};c=lt(t,f,q,e)}}a||(a=new I);var h=a.get(t);if(h)return h;if(a.set(t,c),!u)var d=n?ot(t):Et(t);return o(d||t,function(i,o){d&&(o=i,i=t[o]),B(c,o,q(i,e,n,r,o,t,a))}),c}function W(t){return St(t)?Ee(t):{}}function J(t,e,n){var r=e(t);return He(t)?r:s(r,n(t))}function V(t){return _e.call(t)}function H(t){return!(!St(t)||ht(t))&&(wt(t)||l(t)?be:re).test(gt(t))}function G(t){if(!dt(t))return Ae(t);var e=[];for(var n in Object(t))ye.call(t,n)&&"constructor"!=n&&e.push(n);return e}function X(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function $(t){var e=new t.constructor(t.byteLength);return new Se(e).set(new Se(t)),e}function Y(t,e){var n=e?$(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Q(t,e,n){return a(e?n(f(t),!0):f(t),r,new t.constructor)}function K(t){var e=new t.constructor(t.source,ne.exec(t));return e.lastIndex=t.lastIndex,e}function Z(t,e,n){return a(e?n(h(t),!0):h(t),i,new t.constructor)}function tt(t){return We?Object(We.call(t)):{}}function et(t,e){var n=e?$(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function nt(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function rt(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var s=e[i],a=r?r(n[s],t[s],s,n,t):void 0;B(n,s,void 0===a?t[s]:a)}return n}function it(t,e){return rt(t,Je(t),e)}function ot(t){return J(t,Et,Je)}function st(t,e){var n=t.__data__;return pt(e)?n["string"==typeof e?"string":"hash"]:n.map}function at(t,e){var n=u(t,e);return H(n)?n:void 0}function ct(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&ye.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function ut(t){return"function"!=typeof t.constructor||dt(t)?{}:W(je(t))}function lt(t,e,n,r){var i=t.constructor;switch(e){case Jt:return $(t);case Pt:case Dt:return new i(+t);case Vt:return Y(t,r);case Ht:case Gt:case Xt:case $t:case Yt:case Qt:case Kt:case Zt:case te:return et(t,r);case Mt:return Q(t,r,n);case Ft:case qt:return new i(t);case zt:return K(t);case Ut:return Z(t,r,n);case Wt:return tt(t)}}function ft(t,e){return!!(e=null==e?Rt:e)&&("number"==typeof t||ie.test(t))&&t>-1&&t%1==0&&t<e}function pt(t){var e=void 0===t?"undefined":Tt(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function ht(t){return!!me&&me in t}function dt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||de)}function gt(t){if(null!=t){try{return ve.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function mt(t){return q(t,!0,!0)}function vt(t,e){return t===e||t!==t&&e!==e}function yt(t){return bt(t)&&ye.call(t,"callee")&&(!ke.call(t,"callee")||_e.call(t)==It)}function _t(t){return null!=t&&xt(t.length)&&!wt(t)}function bt(t){return jt(t)&&_t(t)}function wt(t){var e=St(t)?_e.call(t):"";return e==Nt||e==Lt}function xt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Rt}function St(t){var e=void 0===t?"undefined":Tt(t);return!!t&&("object"==e||"function"==e)}function jt(t){return!!t&&"object"==(void 0===t?"undefined":Tt(t))}function Et(t){return _t(t)?F(t):G(t)}function kt(){return[]}function Ct(){return!1}var Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot=200,At="__lodash_hash_undefined__",Rt=9007199254740991,It="[object Arguments]",Pt="[object Boolean]",Dt="[object Date]",Nt="[object Function]",Lt="[object GeneratorFunction]",Mt="[object Map]",Ft="[object Number]",Bt="[object Object]",zt="[object RegExp]",Ut="[object Set]",qt="[object String]",Wt="[object Symbol]",Jt="[object ArrayBuffer]",Vt="[object DataView]",Ht="[object Float32Array]",Gt="[object Float64Array]",Xt="[object Int8Array]",$t="[object Int16Array]",Yt="[object Int32Array]",Qt="[object Uint8Array]",Kt="[object Uint8ClampedArray]",Zt="[object Uint16Array]",te="[object Uint32Array]",ee=/[\\^$.*+?()[\]{}|]/g,ne=/\w*$/,re=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,oe={};oe[It]=oe["[object Array]"]=oe[Jt]=oe[Vt]=oe[Pt]=oe[Dt]=oe[Ht]=oe[Gt]=oe[Xt]=oe[$t]=oe[Yt]=oe[Mt]=oe[Ft]=oe[Bt]=oe[zt]=oe[Ut]=oe[qt]=oe[Wt]=oe[Qt]=oe[Kt]=oe[Zt]=oe[te]=!0,oe["[object Error]"]=oe[Nt]=oe["[object WeakMap]"]=!1;var se="object"==(void 0===t?"undefined":Tt(t))&&t&&t.Object===Object&&t,ae="object"==("undefined"==typeof self?"undefined":Tt(self))&&self&&self.Object===Object&&self,ce=se||ae||Function("return this")(),ue="object"==(void 0===n?"undefined":Tt(n))&&n&&!n.nodeType&&n,le=ue&&"object"==(void 0===e?"undefined":Tt(e))&&e&&!e.nodeType&&e,fe=le&&le.exports===ue,pe=Array.prototype,he=Function.prototype,de=Object.prototype,ge=ce["__core-js_shared__"],me=function(){var t=/[^.]+$/.exec(ge&&ge.keys&&ge.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ve=he.toString,ye=de.hasOwnProperty,_e=de.toString,be=RegExp("^"+ve.call(ye).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),we=fe?ce.Buffer:void 0,xe=ce.Symbol,Se=ce.Uint8Array,je=p(Object.getPrototypeOf,Object),Ee=Object.create,ke=de.propertyIsEnumerable,Ce=pe.splice,Te=Object.getOwnPropertySymbols,Oe=we?we.isBuffer:void 0,Ae=p(Object.keys,Object),Re=at(ce,"DataView"),Ie=at(ce,"Map"),Pe=at(ce,"Promise"),De=at(ce,"Set"),Ne=at(ce,"WeakMap"),Le=at(Object,"create"),Me=gt(Re),Fe=gt(Ie),Be=gt(Pe),ze=gt(De),Ue=gt(Ne),qe=xe?xe.prototype:void 0,We=qe?qe.valueOf:void 0;d.prototype.clear=g,d.prototype.delete=m,d.prototype.get=v,d.prototype.has=y,d.prototype.set=_,b.prototype.clear=w,b.prototype.delete=x,b.prototype.get=S,b.prototype.has=j,b.prototype.set=E,k.prototype.clear=C,k.prototype.delete=T,k.prototype.get=O,k.prototype.has=A,k.prototype.set=R,I.prototype.clear=P,I.prototype.delete=D,I.prototype.get=N,I.prototype.has=L,I.prototype.set=M;var Je=Te?p(Te,Object):kt,Ve=V;(Re&&Ve(new Re(new ArrayBuffer(1)))!=Vt||Ie&&Ve(new Ie)!=Mt||Pe&&"[object Promise]"!=Ve(Pe.resolve())||De&&Ve(new De)!=Ut||Ne&&"[object WeakMap]"!=Ve(new Ne))&&(Ve=function(t){var e=_e.call(t),n=e==Bt?t.constructor:void 0,r=n?gt(n):void 0;if(r)switch(r){case Me:return Vt;case Fe:return Mt;case Be:return"[object Promise]";case ze:return Ut;case Ue:return"[object WeakMap]"}return e});var He=Array.isArray,Ge=Oe||Ct;e.exports=mt}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],465:[function(t,e,n){function r(t){return o(t)&&m.call(t,"callee")&&(!y.call(t,"callee")||v.call(t)==p)}function i(t){return null!=t&&a(t.length)&&!s(t)}function o(t){return u(t)&&i(t)}function s(t){var e=c(t)?v.call(t):"";return e==h||e==d}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}function c(t){var e=void 0===t?"undefined":l(t);return!!t&&("object"==e||"function"==e)}function u(t){return!!t&&"object"==(void 0===t?"undefined":l(t))}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=9007199254740991,p="[object Arguments]",h="[object Function]",d="[object GeneratorFunction]",g=Object.prototype,m=g.hasOwnProperty,v=g.toString,y=g.propertyIsEnumerable;e.exports=r},{}],466:[function(t,e,n){function r(t){return!!t&&"object"==(void 0===t?"undefined":c(t))}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=v}function o(t){return s(t)&&d.call(t)==u}function s(t){var e=void 0===t?"undefined":c(t);return!!t&&("object"==e||"function"==e)}function a(t){return null!=t&&(o(t)?g.test(p.call(t)):r(t)&&l.test(t))}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u="[object Function]",l=/^\[object .+?Constructor\]$/,f=Object.prototype,p=Function.prototype.toString,h=f.hasOwnProperty,d=f.toString,g=RegExp("^"+p.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=function(t,e){var n=null==t?void 0:t[e];return a(n)?n:void 0}(Array,"isArray"),v=9007199254740991,y=m||function(t){return r(t)&&i(t.length)&&"[object Array]"==d.call(t)};e.exports=y},{}],467:[function(t,e,n){function r(t,e){if("function"!=typeof t)throw new TypeError(i);return e=o(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=o(n.length-e,0),s=Array(i);++r<i;)s[r]=n[e+r];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,n[0],s);case 2:return t.call(this,n[0],n[1],s)}var a=Array(e+1);for(r=-1;++r<e;)a[r]=n[r];return a[e]=s,t.apply(this,a)}}var i="Expected a function",o=Math.max;e.exports=r},{}],468:[function(e,n,r){(function(e){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function s(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function a(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function c(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function u(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function l(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function f(t,e){return!!(null==t?0:t.length)&&x(t,e,0)>-1}function p(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function h(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function d(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function g(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function m(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function v(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function y(t){return t.split("")}function _(t){return t.match(Fe)||[]}function b(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function w(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function x(t,e,n){return e===e?Y(t,e,n):w(t,j,n)}function S(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function j(t){return t!==t}function E(t,e){var n=null==t?0:t.length;return n?A(t,e)/n:Dt}function k(t){return function(e){return null==e?rt:e[t]}}function C(t){return function(e){return null==t?rt:t[e]}}function T(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function O(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function A(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==rt&&(n=n===rt?o:n+o)}return n}function R(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function I(t,e){return h(e,function(e){return[e,t[e]]})}function P(t){return function(e){return t(e)}}function D(t,e){return h(e,function(e){return t[e]})}function N(t,e){return t.has(e)}function L(t,e){for(var n=-1,r=t.length;++n<r&&x(e,t[n],0)>-1;);return n}function M(t,e){for(var n=t.length;n--&&x(e,t[n],0)>-1;);return n}function F(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function B(t){return"\\"+kn[t]}function z(t,e){return null==t?rt:t[e]}function U(t){return vn.test(t)}function q(t){return yn.test(t)}function W(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function J(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function V(t,e){return function(n){return t(e(n))}}function H(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==ut||(t[n]=ut,o[i++]=n)}return o}function G(t,e){return"__proto__"==e?rt:t[e]}function X(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function $(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Y(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Q(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function K(t){return U(t)?tt(t):Wn(t)}function Z(t){return U(t)?et(t):y(t)}function tt(t){for(var e=gn.lastIndex=0;gn.test(t);)++e;return e}function et(t){return t.match(gn)||[]}function nt(t){return t.match(mn)||[]}var rt,it=200,ot="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",st="Expected a function",at="__lodash_hash_undefined__",ct=500,ut="__lodash_placeholder__",lt=1,ft=2,pt=4,ht=1,dt=2,gt=1,mt=2,vt=4,yt=8,_t=16,bt=32,wt=64,xt=128,St=256,jt=512,Et=30,kt="...",Ct=800,Tt=16,Ot=1,At=2,Rt=1/0,It=9007199254740991,Pt=1.7976931348623157e308,Dt=NaN,Nt=4294967295,Lt=Nt-1,Mt=Nt>>>1,Ft=[["ary",xt],["bind",gt],["bindKey",mt],["curry",yt],["curryRight",_t],["flip",jt],["partial",bt],["partialRight",wt],["rearg",St]],Bt="[object Arguments]",zt="[object Array]",Ut="[object AsyncFunction]",qt="[object Boolean]",Wt="[object Date]",Jt="[object DOMException]",Vt="[object Error]",Ht="[object Function]",Gt="[object GeneratorFunction]",Xt="[object Map]",$t="[object Number]",Yt="[object Null]",Qt="[object Object]",Kt="[object Proxy]",Zt="[object RegExp]",te="[object Set]",ee="[object String]",ne="[object Symbol]",re="[object Undefined]",ie="[object WeakMap]",oe="[object WeakSet]",se="[object ArrayBuffer]",ae="[object DataView]",ce="[object Float32Array]",ue="[object Float64Array]",le="[object Int8Array]",fe="[object Int16Array]",pe="[object Int32Array]",he="[object Uint8Array]",de="[object Uint8ClampedArray]",ge="[object Uint16Array]",me="[object Uint32Array]",ve=/\b__p \+= '';/g,ye=/\b(__p \+=) '' \+/g,_e=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39);/g,we=/[&<>"']/g,xe=RegExp(be.source),Se=RegExp(we.source),je=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,ke=/<%=([\s\S]+?)%>/g,Ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Te=/^\w*$/,Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ae=/[\\^$.*+?()[\]{}|]/g,Re=RegExp(Ae.source),Ie=/^\s+|\s+$/g,Pe=/^\s+/,De=/\s+$/,Ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Le=/\{\n\/\* \[wrapped with (.+)\] \*/,Me=/,? & /,Fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Be=/\\(\\)?/g,ze=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ue=/\w*$/,qe=/^[-+]0x[0-9a-f]+$/i,We=/^0b[01]+$/i,Je=/^\[object .+?Constructor\]$/,Ve=/^0o[0-7]+$/i,He=/^(?:0|[1-9]\d*)$/,Ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xe=/($^)/,$e=/['\n\r\u2028\u2029\\]/g,Ye="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ke="["+Qe+"]",Ze="["+Ye+"]",tn="[a-z\\xdf-\\xf6\\xf8-\\xff]",en="[^\\ud800-\\udfff"+Qe+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",nn="\\ud83c[\\udffb-\\udfff]",rn="(?:\\ud83c[\\udde6-\\uddff]){2}",on="[\\ud800-\\udbff][\\udc00-\\udfff]",sn="[A-Z\\xc0-\\xd6\\xd8-\\xde]",an="(?:"+tn+"|"+en+")",cn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",un="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rn,on].join("|")+")[\\ufe0e\\ufe0f]?"+cn+")*",ln="[\\ufe0e\\ufe0f]?"+cn+un,fn="(?:"+["[\\u2700-\\u27bf]",rn,on].join("|")+")"+ln,pn="(?:"+["[^\\ud800-\\udfff]"+Ze+"?",Ze,rn,on,"[\\ud800-\\udfff]"].join("|")+")",hn=RegExp("['’]","g"),dn=RegExp(Ze,"g"),gn=RegExp(nn+"(?="+nn+")|"+pn+ln,"g"),mn=RegExp([sn+"?"+tn+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Ke,sn,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Ke,sn+an,"$"].join("|")+")",sn+"?"+an+"+(?:['’](?:d|ll|m|re|s|t|ve))?",sn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",fn].join("|"),"g"),vn=RegExp("[\\u200d\\ud800-\\udfff"+Ye+"\\ufe0e\\ufe0f]"),yn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_n=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bn=-1,wn={};wn[ce]=wn[ue]=wn[le]=wn[fe]=wn[pe]=wn[he]=wn[de]=wn[ge]=wn[me]=!0,wn[Bt]=wn[zt]=wn[se]=wn[qt]=wn[ae]=wn[Wt]=wn[Vt]=wn[Ht]=wn[Xt]=wn[$t]=wn[Qt]=wn[Zt]=wn[te]=wn[ee]=wn[ie]=!1;var xn={};xn[Bt]=xn[zt]=xn[se]=xn[ae]=xn[qt]=xn[Wt]=xn[ce]=xn[ue]=xn[le]=xn[fe]=xn[pe]=xn[Xt]=xn[$t]=xn[Qt]=xn[Zt]=xn[te]=xn[ee]=xn[ne]=xn[he]=xn[de]=xn[ge]=xn[me]=!0,xn[Vt]=xn[Ht]=xn[ie]=!1;var Sn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},jn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},En={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},kn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cn=parseFloat,Tn=parseInt,On="object"==(void 0===e?"undefined":i(e))&&e&&e.Object===Object&&e,An="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,Rn=On||An||Function("return this")(),In="object"==(void 0===r?"undefined":i(r))&&r&&!r.nodeType&&r,Pn=In&&"object"==(void 0===n?"undefined":i(n))&&n&&!n.nodeType&&n,Dn=Pn&&Pn.exports===In,Nn=Dn&&On.process,Ln=function(){try{return Nn&&Nn.binding&&Nn.binding("util")}catch(t){}}(),Mn=Ln&&Ln.isArrayBuffer,Fn=Ln&&Ln.isDate,Bn=Ln&&Ln.isMap,zn=Ln&&Ln.isRegExp,Un=Ln&&Ln.isSet,qn=Ln&&Ln.isTypedArray,Wn=k("length"),Jn=C(Sn),Vn=C(jn),Hn=C(En),Gn=function t(e){function n(t){if(nc(t)&&!dp(t)&&!(t instanceof C)){if(t instanceof y)return t;if(hl.call(t,"__wrapped__"))return Zo(t)}return new y(t)}function r(){}function y(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=rt}function C(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Nt,this.__views__=[]}function Y(){var t=new C(this.__wrapped__);return t.__actions__=Di(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Di(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Di(this.__views__),t}function tt(){if(this.__filtered__){var t=new C(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function et(){var t=this.__wrapped__.value(),e=this.__dir__,n=dp(t),r=e<0,i=n?t.length:0,o=jo(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=r?a:s-1,l=this.__iteratees__,f=l.length,p=0,h=Wl(c,this.__takeCount__);if(!n||!r&&i==c&&h==c)return vi(t,this.__actions__);var d=[];t:for(;c--&&p<h;){u+=e;for(var g=-1,m=t[u];++g<f;){var v=l[g],y=v.iteratee,_=v.type,b=y(m);if(_==At)m=b;else if(!b){if(_==Ot)continue t;break t}}d[p++]=m}return d}function Fe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ye(){this.__data__=Zl?Zl(null):{},this.size=0}function Qe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ke(t){var e=this.__data__;if(Zl){var n=e[t];return n===at?rt:n}return hl.call(e,t)?e[t]:rt}function Ze(t){var e=this.__data__;return Zl?e[t]!==rt:hl.call(e,t)}function tn(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Zl&&e===rt?at:e,this}function en(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function nn(){this.__data__=[],this.size=0}function rn(t){var e=this.__data__,n=$n(e,t);return!(n<0)&&(n==e.length-1?e.pop():Cl.call(e,n,1),--this.size,!0)}function on(t){var e=this.__data__,n=$n(e,t);return n<0?rt:e[n][1]}function sn(t){return $n(this.__data__,t)>-1}function an(t,e){var n=this.__data__,r=$n(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function cn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function un(){this.size=0,this.__data__={hash:new Fe,map:new($l||en),string:new Fe}}function ln(t){var e=bo(this,t).delete(t);return this.size-=e?1:0,e}function fn(t){return bo(this,t).get(t)}function pn(t){return bo(this,t).has(t)}function gn(t,e){var n=bo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function mn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new cn;++e<n;)this.add(t[e])}function vn(t){return this.__data__.set(t,at),this}function yn(t){return this.__data__.has(t)}function Sn(t){var e=this.__data__=new en(t);this.size=e.size}function jn(){this.__data__=new en,this.size=0}function En(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function kn(t){return this.__data__.get(t)}function On(t){return this.__data__.has(t)}function An(t,e){var n=this.__data__;if(n instanceof en){var r=n.__data__;if(!$l||r.length<it-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cn(r)}return n.set(t,e),this.size=n.size,this}function In(t,e){var n=dp(t),r=!n&&hp(t),i=!n&&!r&&mp(t),o=!n&&!r&&!i&&wp(t),s=n||r||i||o,a=s?R(t.length,sl):[],c=a.length;for(var u in t)!e&&!hl.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Io(u,c))||a.push(u);return a}function Pn(t){var e=t.length;return e?t[Kr(0,e-1)]:rt}function Nn(t,e){
return $o(Di(t),er(e,0,t.length))}function Ln(t){return $o(Di(t))}function Wn(t,e,n){(n===rt||qa(t[e],n))&&(n!==rt||e in t)||Zn(t,e,n)}function Xn(t,e,n){var r=t[e];hl.call(t,e)&&qa(r,n)&&(n!==rt||e in t)||Zn(t,e,n)}function $n(t,e){for(var n=t.length;n--;)if(qa(t[n][0],e))return n;return-1}function Yn(t,e,n,r){return pf(t,function(t,i,o){e(r,t,n(t),o)}),r}function Qn(t,e){return t&&Ni(e,Mc(e),t)}function Kn(t,e){return t&&Ni(e,Fc(e),t)}function Zn(t,e,n){"__proto__"==e&&Rl?Rl(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function tr(t,e){for(var n=-1,r=e.length,i=Zu(r),o=null==t;++n<r;)i[n]=o?rt:Dc(t,e[n]);return i}function er(t,e,n){return t===t&&(n!==rt&&(t=t<=n?t:n),e!==rt&&(t=t>=e?t:e)),t}function nr(t,e,n,r,i,o){var s,c=e&lt,u=e&ft,l=e&pt;if(n&&(s=i?n(t,r,i,o):n(t)),s!==rt)return s;if(!ec(t))return t;var f=dp(t);if(f){if(s=Co(t),!c)return Di(t,s)}else{var p=jf(t),h=p==Ht||p==Gt;if(mp(t))return ji(t,c);if(p==Qt||p==Bt||h&&!i){if(s=u||h?{}:To(t),!c)return u?Mi(t,Kn(s,t)):Li(t,Qn(s,t))}else{if(!xn[p])return i?t:{};s=Oo(t,p,c)}}o||(o=new Sn);var d=o.get(t);if(d)return d;if(o.set(t,s),bp(t))return t.forEach(function(r){s.add(nr(r,e,n,r,t,o))}),s;if(yp(t))return t.forEach(function(r,i){s.set(i,nr(r,e,n,i,t,o))}),s;var g=l?u?mo:go:u?Fc:Mc,m=f?rt:g(t);return a(m||t,function(r,i){m&&(i=r,r=t[i]),Xn(s,i,nr(r,e,n,i,t,o))}),s}function rr(t){var e=Mc(t);return function(n){return ir(n,t,e)}}function ir(t,e,n){var r=n.length;if(null==t)return!r;for(t=il(t);r--;){var i=n[r],o=e[i],s=t[i];if(s===rt&&!(i in t)||!o(s))return!1}return!0}function or(t,e,n){if("function"!=typeof t)throw new al(st);return Cf(function(){t.apply(rt,n)},e)}function sr(t,e,n,r){var i=-1,o=f,s=!0,a=t.length,c=[],u=e.length;if(!a)return c;n&&(e=h(e,P(n))),r?(o=p,s=!1):e.length>=it&&(o=N,s=!1,e=new mn(e));t:for(;++i<a;){var l=t[i],d=null==n?l:n(l);if(l=r||0!==l?l:0,s&&d===d){for(var g=u;g--;)if(e[g]===d)continue t;c.push(l)}else o(e,d,r)||c.push(l)}return c}function ar(t,e){var n=!0;return pf(t,function(t,r,i){return n=!!e(t,r,i)}),n}function cr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(null!=s&&(a===rt?s===s&&!hc(s):n(s,a)))var a=s,c=o}return c}function ur(t,e,n,r){var i=t.length;for(n=_c(n),n<0&&(n=-n>i?0:i+n),r=r===rt||r>i?i:_c(r),r<0&&(r+=i),r=n>r?0:bc(r);n<r;)t[n++]=e;return t}function lr(t,e){var n=[];return pf(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function fr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Ro),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?fr(a,e-1,n,r,i):d(i,a):r||(i[i.length]=a)}return i}function pr(t,e){return t&&df(t,e,Mc)}function hr(t,e){return t&&gf(t,e,Mc)}function dr(t,e){return l(e,function(e){return Ka(t[e])})}function gr(t,e){e=xi(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Yo(e[n++])];return n&&n==r?t:rt}function mr(t,e,n){var r=e(t);return dp(t)?r:d(r,n(t))}function vr(t){return null==t?t===rt?re:Yt:Al&&Al in il(t)?So(t):Wo(t)}function yr(t,e){return t>e}function _r(t,e){return null!=t&&hl.call(t,e)}function br(t,e){return null!=t&&e in il(t)}function wr(t,e,n){return t>=Wl(e,n)&&t<ql(e,n)}function xr(t,e,n){for(var r=n?p:f,i=t[0].length,o=t.length,s=o,a=Zu(o),c=1/0,u=[];s--;){var l=t[s];s&&e&&(l=h(l,P(e))),c=Wl(l.length,c),a[s]=!n&&(e||i>=120&&l.length>=120)?new mn(s&&l):rt}l=t[0];var d=-1,g=a[0];t:for(;++d<i&&u.length<c;){var m=l[d],v=e?e(m):m;if(m=n||0!==m?m:0,!(g?N(g,v):r(u,v,n))){for(s=o;--s;){var y=a[s];if(!(y?N(y,v):r(t[s],v,n)))continue t}g&&g.push(v),u.push(m)}}return u}function Sr(t,e,n,r){return pr(t,function(t,i,o){e(r,n(t),i,o)}),r}function jr(t,e,n){e=xi(e,t),t=Vo(t,e);var r=null==t?t:t[Yo(ys(e))];return null==r?rt:o(r,t,n)}function Er(t){return nc(t)&&vr(t)==Bt}function kr(t){return nc(t)&&vr(t)==se}function Cr(t){return nc(t)&&vr(t)==Wt}function Tr(t,e,n,r,i){return t===e||(null==t||null==e||!nc(t)&&!nc(e)?t!==t&&e!==e:Or(t,e,n,r,Tr,i))}function Or(t,e,n,r,i,o){var s=dp(t),a=dp(e),c=s?zt:jf(t),u=a?zt:jf(e);c=c==Bt?Qt:c,u=u==Bt?Qt:u;var l=c==Qt,f=u==Qt,p=c==u;if(p&&mp(t)){if(!mp(e))return!1;s=!0,l=!1}if(p&&!l)return o||(o=new Sn),s||wp(t)?lo(t,e,n,r,i,o):fo(t,e,c,n,r,i,o);if(!(n&ht)){var h=l&&hl.call(t,"__wrapped__"),d=f&&hl.call(e,"__wrapped__");if(h||d){var g=h?t.value():t,m=d?e.value():e;return o||(o=new Sn),i(g,m,n,r,o)}}return!!p&&(o||(o=new Sn),po(t,e,n,r,i,o))}function Ar(t){return nc(t)&&jf(t)==Xt}function Rr(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=il(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var c=a[0],u=t[c],l=a[1];if(s&&a[2]){if(u===rt&&!(c in t))return!1}else{var f=new Sn;if(r)var p=r(u,l,c,t,e,f);if(!(p===rt?Tr(l,u,ht|dt,r,f):p))return!1}}return!0}function Ir(t){return!(!ec(t)||Mo(t))&&(Ka(t)?_l:Je).test(Qo(t))}function Pr(t){return nc(t)&&vr(t)==Zt}function Dr(t){return nc(t)&&jf(t)==te}function Nr(t){return nc(t)&&tc(t.length)&&!!wn[vr(t)]}function Lr(t){return"function"==typeof t?t:null==t?Cu:"object"==(void 0===t?"undefined":i(t))?dp(t)?qr(t[0],t[1]):Ur(t):Nu(t)}function Mr(t){if(!Fo(t))return Ul(t);var e=[];for(var n in il(t))hl.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Fr(t){if(!ec(t))return qo(t);var e=Fo(t),n=[];for(var r in t)("constructor"!=r||!e&&hl.call(t,r))&&n.push(r);return n}function Br(t,e){return t<e}function zr(t,e){var n=-1,r=Wa(t)?Zu(t.length):[];return pf(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Ur(t){var e=wo(t);return 1==e.length&&e[0][2]?zo(e[0][0],e[0][1]):function(n){return n===t||Rr(n,t,e)}}function qr(t,e){return Do(t)&&Bo(e)?zo(Yo(t),e):function(n){var r=Dc(n,t);return r===rt&&r===e?Lc(n,t):Tr(e,r,ht|dt)}}function Wr(t,e,n,r,i){t!==e&&df(e,function(o,s){if(ec(o))i||(i=new Sn),Jr(t,e,s,n,Wr,r,i);else{var a=r?r(G(t,s),o,s+"",t,e,i):rt;a===rt&&(a=o),Wn(t,s,a)}},Fc)}function Jr(t,e,n,r,i,o,s){var a=G(t,n),c=G(e,n),u=s.get(c);if(u)return void Wn(t,n,u);var l=o?o(a,c,n+"",t,e,s):rt,f=l===rt;if(f){var p=dp(c),h=!p&&mp(c),d=!p&&!h&&wp(c);l=c,p||h||d?dp(a)?l=a:Ja(a)?l=Di(a):h?(f=!1,l=ji(c,!0)):d?(f=!1,l=Oi(c,!0)):l=[]:lc(c)||hp(c)?(l=a,hp(a)?l=xc(a):(!ec(a)||r&&Ka(a))&&(l=To(c))):f=!1}f&&(s.set(c,l),i(l,c,r,o,s),s.delete(c)),Wn(t,n,l)}function Vr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Io(e,n)?t[e]:rt}function Hr(t,e,n){var r=-1;return e=h(e.length?e:[Cu],P(_o())),O(zr(t,function(t,n,i){return{criteria:h(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return Ri(t,e,n)})}function Gr(t,e){return Xr(t,e,function(e,n){return Lc(t,n)})}function Xr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=gr(t,s);n(a,s)&&ii(o,xi(s,t),a)}return o}function $r(t){return function(e){return gr(e,t)}}function Yr(t,e,n,r){var i=r?S:x,o=-1,s=e.length,a=t;for(t===e&&(e=Di(e)),n&&(a=h(t,P(n)));++o<s;)for(var c=0,u=e[o],l=n?n(u):u;(c=i(a,l,c,r))>-1;)a!==t&&Cl.call(a,c,1),Cl.call(t,c,1);return t}function Qr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Io(i)?Cl.call(t,i,1):di(t,i)}}return t}function Kr(t,e){return t+Ll(Hl()*(e-t+1))}function Zr(t,e,n,r){for(var i=-1,o=ql(Nl((e-t)/(n||1)),0),s=Zu(o);o--;)s[r?o:++i]=t,t+=n;return s}function ti(t,e){var n="";if(!t||e<1||e>It)return n;do{e%2&&(n+=t),(e=Ll(e/2))&&(t+=t)}while(e);return n}function ei(t,e){return Tf(Jo(t,e,Cu),t+"")}function ni(t){return Pn(Yc(t))}function ri(t,e){var n=Yc(t);return $o(n,er(e,0,n.length))}function ii(t,e,n,r){if(!ec(t))return t;e=xi(e,t);for(var i=-1,o=e.length,s=o-1,a=t;null!=a&&++i<o;){var c=Yo(e[i]),u=n;if(i!=s){var l=a[c];u=r?r(l,c,a):rt,u===rt&&(u=ec(l)?l:Io(e[i+1])?[]:{})}Xn(a,c,u),a=a[c]}return t}function oi(t){return $o(Yc(t))}function si(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Zu(i);++r<i;)o[r]=t[r+e];return o}function ai(t,e){var n;return pf(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function ci(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=Mt){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!hc(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return ui(t,e,Cu,n)}function ui(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,s=e!==e,a=null===e,c=hc(e),u=e===rt;i<o;){var l=Ll((i+o)/2),f=n(t[l]),p=f!==rt,h=null===f,d=f===f,g=hc(f);if(s)var m=r||d;else m=u?d&&(r||p):a?d&&p&&(r||!h):c?d&&p&&!h&&(r||!g):!h&&!g&&(r?f<=e:f<e);m?i=l+1:o=l}return Wl(o,Lt)}function li(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!qa(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function fi(t){return"number"==typeof t?t:hc(t)?Dt:+t}function pi(t){if("string"==typeof t)return t;if(dp(t))return h(t,pi)+"";if(hc(t))return lf?lf.call(t):"";var e=t+"";return"0"==e&&1/t==-Rt?"-0":e}function hi(t,e,n){var r=-1,i=f,o=t.length,s=!0,a=[],c=a;if(n)s=!1,i=p;else if(o>=it){var u=e?null:bf(t);if(u)return X(u);s=!1,i=N,c=new mn}else c=e?[]:a;t:for(;++r<o;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,s&&h===h){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),a.push(l)}else i(c,h,n)||(c!==a&&c.push(h),a.push(l))}return a}function di(t,e){return e=xi(e,t),null==(t=Vo(t,e))||delete t[Yo(ys(e))]}function gi(t,e,n,r){return ii(t,e,n(gr(t,e)),r)}function mi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?si(t,r?0:o,r?o+1:i):si(t,r?o+1:0,r?i:o)}function vi(t,e){var n=t;return n instanceof C&&(n=n.value()),g(e,function(t,e){return e.func.apply(e.thisArg,d([t],e.args))},n)}function yi(t,e,n){var r=t.length;if(r<2)return r?hi(t[0]):[];for(var i=-1,o=Zu(r);++i<r;)for(var s=t[i],a=-1;++a<r;)a!=i&&(o[i]=sr(o[i]||s,t[a],e,n));return hi(fr(o,1),e,n)}function _i(t,e,n){for(var r=-1,i=t.length,o=e.length,s={};++r<i;){var a=r<o?e[r]:rt;n(s,t[r],a)}return s}function bi(t){return Ja(t)?t:[]}function wi(t){return"function"==typeof t?t:Cu}function xi(t,e){return dp(t)?t:Do(t,e)?[t]:Of(jc(t))}function Si(t,e,n){var r=t.length;return n=n===rt?r:n,!e&&n>=r?t:si(t,e,n)}function ji(t,e){if(e)return t.slice();var n=t.length,r=Sl?Sl(n):new t.constructor(n);return t.copy(r),r}function Ei(t){var e=new t.constructor(t.byteLength);return new xl(e).set(new xl(t)),e}function ki(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ci(t){var e=new t.constructor(t.source,Ue.exec(t));return e.lastIndex=t.lastIndex,e}function Ti(t){return uf?il(uf.call(t)):{}}function Oi(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ai(t,e){if(t!==e){var n=t!==rt,r=null===t,i=t===t,o=hc(t),s=e!==rt,a=null===e,c=e===e,u=hc(e);if(!a&&!u&&!o&&t>e||o&&s&&c&&!a&&!u||r&&s&&c||!n&&c||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!c)return-1}return 0}function Ri(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var c=Ai(i[r],o[r]);if(c){if(r>=a)return c;return c*("desc"==n[r]?-1:1)}}return t.index-e.index}function Ii(t,e,n,r){for(var i=-1,o=t.length,s=n.length,a=-1,c=e.length,u=ql(o-s,0),l=Zu(c+u),f=!r;++a<c;)l[a]=e[a];for(;++i<s;)(f||i<o)&&(l[n[i]]=t[i]);for(;u--;)l[a++]=t[i++];return l}function Pi(t,e,n,r){for(var i=-1,o=t.length,s=-1,a=n.length,c=-1,u=e.length,l=ql(o-a,0),f=Zu(l+u),p=!r;++i<l;)f[i]=t[i];for(var h=i;++c<u;)f[h+c]=e[c];for(;++s<a;)(p||i<o)&&(f[h+n[s]]=t[i++]);return f}function Di(t,e){var n=-1,r=t.length;for(e||(e=Zu(r));++n<r;)e[n]=t[n];return e}function Ni(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],c=r?r(n[a],t[a],a,n,t):rt;c===rt&&(c=t[a]),i?Zn(n,a,c):Xn(n,a,c)}return n}function Li(t,e){return Ni(t,xf(t),e)}function Mi(t,e){return Ni(t,Sf(t),e)}function Fi(t,e){return function(n,r){var i=dp(n)?s:Yn,o=e?e():{};return i(n,t,_o(r,2),o)}}function Bi(t){return ei(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:rt,s=i>2?n[2]:rt;for(o=t.length>3&&"function"==typeof o?(i--,o):rt,s&&Po(n[0],n[1],s)&&(o=i<3?rt:o,i=1),e=il(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}function zi(t,e){return function(n,r){if(null==n)return n;if(!Wa(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=il(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ui(t){return function(e,n,r){for(var i=-1,o=il(e),s=r(e),a=s.length;a--;){var c=s[t?a:++i];if(!1===n(o[c],c,o))break}return e}}function qi(t,e,n){function r(){return(this&&this!==Rn&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=e&gt,o=Vi(t);return r}function Wi(t){return function(e){e=jc(e);var n=U(e)?Z(e):rt,r=n?n[0]:e.charAt(0),i=n?Si(n,1).join(""):e.slice(1);return r[t]()+i}}function Ji(t){return function(e){return g(xu(nu(e).replace(hn,"")),t,"")}}function Vi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=ff(t.prototype),r=t.apply(n,e);return ec(r)?r:n}}function Hi(t,e,n){function r(){for(var s=arguments.length,a=Zu(s),c=s,u=yo(r);c--;)a[c]=arguments[c];var l=s<3&&a[0]!==u&&a[s-1]!==u?[]:H(a,u);return(s-=l.length)<n?ro(t,e,$i,r.placeholder,rt,a,l,rt,rt,n-s):o(this&&this!==Rn&&this instanceof r?i:t,this,a)}var i=Vi(t);return r}function Gi(t){return function(e,n,r){var i=il(e);if(!Wa(e)){var o=_o(n,3);e=Mc(e),n=function(t){return o(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:rt}}function Xi(t){return ho(function(e){var n=e.length,r=n,i=y.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new al(st);if(i&&!s&&"wrapper"==vo(o))var s=new y([],!0)}for(r=s?r:n;++r<n;){o=e[r];var a=vo(o),c="wrapper"==a?wf(o):rt;s=c&&Lo(c[0])&&c[1]==(xt|yt|bt|St)&&!c[4].length&&1==c[9]?s[vo(c[0])].apply(s,c[3]):1==o.length&&Lo(o)?s[a]():s.thru(o)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&dp(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function $i(t,e,n,r,i,o,s,a,c,u){function l(){for(var v=arguments.length,y=Zu(v),_=v;_--;)y[_]=arguments[_];if(d)var b=yo(l),w=F(y,b);if(r&&(y=Ii(y,r,i,d)),o&&(y=Pi(y,o,s,d)),v-=w,d&&v<u){var x=H(y,b);return ro(t,e,$i,l.placeholder,n,y,x,a,c,u-v)}var S=p?n:this,j=h?S[t]:t;return v=y.length,a?y=Ho(y,a):g&&v>1&&y.reverse(),f&&c<v&&(y.length=c),this&&this!==Rn&&this instanceof l&&(j=m||Vi(j)),j.apply(S,y)}var f=e&xt,p=e&gt,h=e&mt,d=e&(yt|_t),g=e&jt,m=h?rt:Vi(t);return l}function Yi(t,e){return function(n,r){return Sr(n,t,e(r),{})}}function Qi(t,e){return function(n,r){var i;if(n===rt&&r===rt)return e;if(n!==rt&&(i=n),r!==rt){if(i===rt)return r;"string"==typeof n||"string"==typeof r?(n=pi(n),r=pi(r)):(n=fi(n),r=fi(r)),i=t(n,r)}return i}}function Ki(t){return ho(function(e){return e=h(e,P(_o())),ei(function(n){var r=this;return t(e,function(t){return o(t,r,n)})})})}function Zi(t,e){e=e===rt?" ":pi(e);var n=e.length;if(n<2)return n?ti(e,t):e;var r=ti(e,Nl(t/K(e)));return U(e)?Si(Z(r),0,t).join(""):r.slice(0,t)}function to(t,e,n,r){function i(){for(var e=-1,c=arguments.length,u=-1,l=r.length,f=Zu(l+c),p=this&&this!==Rn&&this instanceof i?a:t;++u<l;)f[u]=r[u];for(;c--;)f[u++]=arguments[++e];return o(p,s?n:this,f)}var s=e&gt,a=Vi(t);return i}function eo(t){return function(e,n,r){return r&&"number"!=typeof r&&Po(e,n,r)&&(n=r=rt),e=yc(e),n===rt?(n=e,e=0):n=yc(n),r=r===rt?e<n?1:-1:yc(r),Zr(e,n,r,t)}}function no(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=wc(e),n=wc(n)),t(e,n)}}function ro(t,e,n,r,i,o,s,a,c,u){var l=e&yt,f=l?s:rt,p=l?rt:s,h=l?o:rt,d=l?rt:o;e|=l?bt:wt,(e&=~(l?wt:bt))&vt||(e&=~(gt|mt));var g=[t,e,i,h,f,d,p,a,c,u],m=n.apply(rt,g);return Lo(t)&&kf(m,g),m.placeholder=r,Go(m,t,e)}function io(t){var e=rl[t];return function(t,n){if(t=wc(t),n=null==n?0:Wl(_c(n),292)){var r=(jc(t)+"e").split("e");return r=(jc(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function oo(t){return function(e){var n=jf(e);return n==Xt?J(e):n==te?$(e):I(e,t(e))}}function so(t,e,n,r,i,o,s,a){var c=e&mt;if(!c&&"function"!=typeof t)throw new al(st);var u=r?r.length:0;if(u||(e&=~(bt|wt),r=i=rt),s=s===rt?s:ql(_c(s),0),a=a===rt?a:_c(a),u-=i?i.length:0,e&wt){var l=r,f=i;r=i=rt}var p=c?rt:wf(t),h=[t,e,n,r,i,l,f,o,s,a];if(p&&Uo(h,p),t=h[0],e=h[1],n=h[2],r=h[3],i=h[4],a=h[9]=h[9]===rt?c?0:t.length:ql(h[9]-u,0),!a&&e&(yt|_t)&&(e&=~(yt|_t)),e&&e!=gt)d=e==yt||e==_t?Hi(t,e,a):e!=bt&&e!=(gt|bt)||i.length?$i.apply(rt,h):to(t,e,n,r);else var d=qi(t,e,n);return Go((p?mf:kf)(d,h),t,e)}function ao(t,e,n,r){return t===rt||qa(t,ll[n])&&!hl.call(r,n)?e:t}function co(t,e,n,r,i,o){return ec(t)&&ec(e)&&(o.set(e,t),Wr(t,e,rt,co,o),o.delete(e)),t}function uo(t){return lc(t)?rt:t}function lo(t,e,n,r,i,o){var s=n&ht,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var l=-1,f=!0,p=n&dt?new mn:rt;for(o.set(t,e),o.set(e,t);++l<a;){var h=t[l],d=e[l];if(r)var g=s?r(d,h,l,e,t,o):r(h,d,l,t,e,o);if(g!==rt){if(g)continue;f=!1;break}if(p){if(!v(e,function(t,e){if(!N(p,e)&&(h===t||i(h,t,n,r,o)))return p.push(e)})){f=!1;break}}else if(h!==d&&!i(h,d,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function fo(t,e,n,r,i,o,s){switch(n){case ae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case se:return!(t.byteLength!=e.byteLength||!o(new xl(t),new xl(e)));case qt:case Wt:case $t:return qa(+t,+e);case Vt:return t.name==e.name&&t.message==e.message;case Zt:case ee:return t==e+"";case Xt:var a=J;case te:var c=r&ht;if(a||(a=X),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;r|=dt,s.set(t,e);var l=lo(a(t),a(e),r,i,o,s);return s.delete(t),l;case ne:if(uf)return uf.call(t)==uf.call(e)}return!1}function po(t,e,n,r,i,o){var s=n&ht,a=go(t),c=a.length;if(c!=go(e).length&&!s)return!1;for(var u=c;u--;){var l=a[u];if(!(s?l in e:hl.call(e,l)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var p=!0;o.set(t,e),o.set(e,t);for(var h=s;++u<c;){l=a[u];var d=t[l],g=e[l];if(r)var m=s?r(g,d,l,e,t,o):r(d,g,l,t,e,o);if(!(m===rt?d===g||i(d,g,n,r,o):m)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var v=t.constructor,y=e.constructor;v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(p=!1)}return o.delete(t),o.delete(e),p}function ho(t){return Tf(Jo(t,rt,ls),t+"")}function go(t){return mr(t,Mc,xf)}function mo(t){return mr(t,Fc,Sf)}function vo(t){for(var e=t.name+"",n=ef[e],r=hl.call(ef,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function yo(t){return(hl.call(n,"placeholder")?n:t).placeholder}function _o(){var t=n.iteratee||Tu;return t=t===Tu?Lr:t,arguments.length?t(arguments[0],arguments[1]):t}function bo(t,e){var n=t.__data__;return No(e)?n["string"==typeof e?"string":"hash"]:n.map}function wo(t){for(var e=Mc(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Bo(i)]}return e}function xo(t,e){var n=z(t,e);return Ir(n)?n:rt}function So(t){var e=hl.call(t,Al),n=t[Al];try{t[Al]=rt;var r=!0}catch(t){}var i=ml.call(t);return r&&(e?t[Al]=n:delete t[Al]),i}function jo(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Wl(e,t+s);break;case"takeRight":t=ql(t,e-s)}}return{start:t,end:e}}function Eo(t){var e=t.match(Le);return e?e[1].split(Me):[]}function ko(t,e,n){e=xi(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Yo(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&tc(i)&&Io(s,i)&&(dp(t)||hp(t))}function Co(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&hl.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function To(t){return"function"!=typeof t.constructor||Fo(t)?{}:ff(jl(t))}function Oo(t,e,n){var r=t.constructor;switch(e){case se:return Ei(t);case qt:case Wt:return new r(+t);case ae:return ki(t,n);case ce:case ue:case le:case fe:case pe:case he:case de:case ge:case me:return Oi(t,n);case Xt:return new r;case $t:case ee:return new r(t);case Zt:return Ci(t);case te:return new r;case ne:return Ti(t)}}function Ao(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ne,"{\n/* [wrapped with "+e+"] */\n")}function Ro(t){return dp(t)||hp(t)||!!(Tl&&t&&t[Tl])}function Io(t,e){var n=void 0===t?"undefined":i(t);return!!(e=null==e?It:e)&&("number"==n||"symbol"!=n&&He.test(t))&&t>-1&&t%1==0&&t<e}function Po(t,e,n){if(!ec(n))return!1;var r=void 0===e?"undefined":i(e);return!!("number"==r?Wa(n)&&Io(e,n.length):"string"==r&&e in n)&&qa(n[e],t)}function Do(t,e){if(dp(t))return!1;var n=void 0===t?"undefined":i(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!hc(t))||(Te.test(t)||!Ce.test(t)||null!=e&&t in il(e))}function No(t){var e=void 0===t?"undefined":i(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Lo(t){var e=vo(t),r=n[e];if("function"!=typeof r||!(e in C.prototype))return!1;if(t===r)return!0;var i=wf(r);return!!i&&t===i[0]}function Mo(t){return!!gl&&gl in t}function Fo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ll)}function Bo(t){return t===t&&!ec(t)}function zo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==rt||t in il(n)))}}function Uo(t,e){var n=t[1],r=e[1],i=n|r,o=i<(gt|mt|xt),s=r==xt&&n==yt||r==xt&&n==St&&t[7].length<=e[8]||r==(xt|St)&&e[7].length<=e[8]&&n==yt;if(!o&&!s)return t;r&gt&&(t[2]=e[2],i|=n&gt?0:vt);var a=e[3];if(a){var c=t[3];t[3]=c?Ii(c,a,e[4]):a,t[4]=c?H(t[3],ut):e[4]}return a=e[5],a&&(c=t[5],t[5]=c?Pi(c,a,e[6]):a,t[6]=c?H(t[5],ut):e[6]),a=e[7],a&&(t[7]=a),r&xt&&(t[8]=null==t[8]?e[8]:Wl(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function qo(t){var e=[];if(null!=t)for(var n in il(t))e.push(n);return e}function Wo(t){return ml.call(t)}function Jo(t,e,n){return e=ql(e===rt?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=ql(r.length-e,0),a=Zu(s);++i<s;)a[i]=r[e+i];i=-1;for(var c=Zu(e+1);++i<e;)c[i]=r[i];return c[e]=n(a),o(t,this,c)}}function Vo(t,e){return e.length<2?t:gr(t,si(e,0,-1))}function Ho(t,e){for(var n=t.length,r=Wl(e.length,n),i=Di(t);r--;){var o=e[r];t[r]=Io(o,n)?i[o]:rt}return t}function Go(t,e,n){var r=e+"";return Tf(t,Ao(r,Ko(Eo(r),n)))}function Xo(t){var e=0,n=0;return function(){var r=Jl(),i=Tt-(r-n);if(n=r,i>0){if(++e>=Ct)return arguments[0]}else e=0;return t.apply(rt,arguments)}}function $o(t,e){var n=-1,r=t.length,i=r-1;for(e=e===rt?r:e;++n<e;){var o=Kr(n,i),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}function Yo(t){if("string"==typeof t||hc(t))return t;var e=t+"";return"0"==e&&1/t==-Rt?"-0":e}function Qo(t){if(null!=t){try{return pl.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ko(t,e){return a(Ft,function(n){var r="_."+n[0];e&n[1]&&!f(t,r)&&t.push(r)}),t.sort()}function Zo(t){if(t instanceof C)return t.clone();var e=new y(t.__wrapped__,t.__chain__);return e.__actions__=Di(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function ts(t,e,n){e=(n?Po(t,e,n):e===rt)?1:ql(_c(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,s=Zu(Nl(r/e));i<r;)s[o++]=si(t,i,i+=e);return s}function es(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function ns(){var t=arguments.length;if(!t)return[];for(var e=Zu(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return d(dp(n)?Di(n):[n],fr(e,1))}function rs(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===rt?1:_c(e),si(t,e<0?0:e,r)):[]}function is(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===rt?1:_c(e),e=r-e,si(t,0,e<0?0:e)):[]}function os(t,e){return t&&t.length?mi(t,_o(e,3),!0,!0):[]}function ss(t,e){return t&&t.length?mi(t,_o(e,3),!0):[]}function as(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Po(t,e,n)&&(n=0,r=i),ur(t,e,n,r)):[]}function cs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:_c(n);return i<0&&(i=ql(r+i,0)),w(t,_o(e,3),i)}function us(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==rt&&(i=_c(n),i=n<0?ql(r+i,0):Wl(i,r-1)),w(t,_o(e,3),i,!0)}function ls(t){return(null==t?0:t.length)?fr(t,1):[]}function fs(t){return(null==t?0:t.length)?fr(t,Rt):[]}function ps(t,e){return(null==t?0:t.length)?(e=e===rt?1:_c(e),fr(t,e)):[]}function hs(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function ds(t){return t&&t.length?t[0]:rt}function gs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:_c(n);return i<0&&(i=ql(r+i,0)),x(t,e,i)}function ms(t){return(null==t?0:t.length)?si(t,0,-1):[]}function vs(t,e){return null==t?"":zl.call(t,e)}function ys(t){var e=null==t?0:t.length;return e?t[e-1]:rt}function _s(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==rt&&(i=_c(n),i=i<0?ql(r+i,0):Wl(i,r-1)),e===e?Q(t,e,i):w(t,j,i,!0)}function bs(t,e){return t&&t.length?Vr(t,_c(e)):rt}function ws(t,e){return t&&t.length&&e&&e.length?Yr(t,e):t}function xs(t,e,n){return t&&t.length&&e&&e.length?Yr(t,e,_o(n,2)):t}function Ss(t,e,n){return t&&t.length&&e&&e.length?Yr(t,e,rt,n):t}function js(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=_o(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Qr(t,i),n}function Es(t){return null==t?t:Gl.call(t)}function ks(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Po(t,e,n)?(e=0,n=r):(e=null==e?0:_c(e),n=n===rt?r:_c(n)),si(t,e,n)):[]}function Cs(t,e){return ci(t,e)}function Ts(t,e,n){return ui(t,e,_o(n,2))}function Os(t,e){var n=null==t?0:t.length;if(n){var r=ci(t,e);if(r<n&&qa(t[r],e))return r}return-1}function As(t,e){return ci(t,e,!0)}function Rs(t,e,n){return ui(t,e,_o(n,2),!0)}function Is(t,e){if(null==t?0:t.length){var n=ci(t,e,!0)-1;if(qa(t[n],e))return n}return-1}function Ps(t){return t&&t.length?li(t):[]}function Ds(t,e){return t&&t.length?li(t,_o(e,2)):[]}function Ns(t){var e=null==t?0:t.length;return e?si(t,1,e):[]}function Ls(t,e,n){return t&&t.length?(e=n||e===rt?1:_c(e),si(t,0,e<0?0:e)):[]}function Ms(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===rt?1:_c(e),e=r-e,si(t,e<0?0:e,r)):[]}function Fs(t,e){return t&&t.length?mi(t,_o(e,3),!1,!0):[]}function Bs(t,e){return t&&t.length?mi(t,_o(e,3)):[]}function zs(t){return t&&t.length?hi(t):[]}function Us(t,e){return t&&t.length?hi(t,_o(e,2)):[]}function qs(t,e){return e="function"==typeof e?e:rt,t&&t.length?hi(t,rt,e):[]}function Ws(t){if(!t||!t.length)return[];var e=0;return t=l(t,function(t){if(Ja(t))return e=ql(t.length,e),!0}),R(e,function(e){return h(t,k(e))})}function Js(t,e){if(!t||!t.length)return[];var n=Ws(t);return null==e?n:h(n,function(t){return o(e,rt,t)})}function Vs(t,e){return _i(t||[],e||[],Xn)}function Hs(t,e){return _i(t||[],e||[],ii)}function Gs(t){var e=n(t);return e.__chain__=!0,e}function Xs(t,e){return e(t),t}function $s(t,e){return e(t)}function Ys(){return Gs(this)}function Qs(){return new y(this.value(),this.__chain__)}function Ks(){this.__values__===rt&&(this.__values__=vc(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?rt:this.__values__[this.__index__++]}}function Zs(){return this}function ta(t){for(var e,n=this;n instanceof r;){var i=Zo(n);i.__index__=0,i.__values__=rt,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function ea(){var t=this.__wrapped__;if(t instanceof C){var e=t;return this.__actions__.length&&(e=new C(this)),e=e.reverse(),e.__actions__.push({func:$s,args:[Es],thisArg:rt}),new y(e,this.__chain__)}return this.thru(Es)}function na(){return vi(this.__wrapped__,this.__actions__)}function ra(t,e,n){var r=dp(t)?u:ar;return n&&Po(t,e,n)&&(e=rt),r(t,_o(e,3))}function ia(t,e){return(dp(t)?l:lr)(t,_o(e,3))}function oa(t,e){return fr(fa(t,e),1)}function sa(t,e){return fr(fa(t,e),Rt)}function aa(t,e,n){return n=n===rt?1:_c(n),fr(fa(t,e),n)}function ca(t,e){return(dp(t)?a:pf)(t,_o(e,3))}function ua(t,e){return(dp(t)?c:hf)(t,_o(e,3))}function la(t,e,n,r){t=Wa(t)?t:Yc(t),n=n&&!r?_c(n):0;var i=t.length;return n<0&&(n=ql(i+n,0)),pc(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&x(t,e,n)>-1}function fa(t,e){return(dp(t)?h:zr)(t,_o(e,3))}function pa(t,e,n,r){return null==t?[]:(dp(e)||(e=null==e?[]:[e]),n=r?rt:n,dp(n)||(n=null==n?[]:[n]),Hr(t,e,n))}function ha(t,e,n){var r=dp(t)?g:T,i=arguments.length<3;return r(t,_o(e,4),n,i,pf)}function da(t,e,n){var r=dp(t)?m:T,i=arguments.length<3;return r(t,_o(e,4),n,i,hf)}function ga(t,e){return(dp(t)?l:lr)(t,Oa(_o(e,3)))}function ma(t){return(dp(t)?Pn:ni)(t)}function va(t,e,n){return e=(n?Po(t,e,n):e===rt)?1:_c(e),(dp(t)?Nn:ri)(t,e)}function ya(t){return(dp(t)?Ln:oi)(t)}function _a(t){if(null==t)return 0;if(Wa(t))return pc(t)?K(t):t.length;var e=jf(t);return e==Xt||e==te?t.size:Mr(t).length}function ba(t,e,n){var r=dp(t)?v:ai;return n&&Po(t,e,n)&&(e=rt),r(t,_o(e,3))}function wa(t,e){if("function"!=typeof e)throw new al(st);return t=_c(t),function(){if(--t<1)return e.apply(this,arguments)}}function xa(t,e,n){return e=n?rt:e,e=t&&null==e?t.length:e,so(t,xt,rt,rt,rt,rt,e)}function Sa(t,e){var n;if("function"!=typeof e)throw new al(st);return t=_c(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=rt),n}}function ja(t,e,n){e=n?rt:e;var r=so(t,yt,rt,rt,rt,rt,rt,e);return r.placeholder=ja.placeholder,r}function Ea(t,e,n){e=n?rt:e;var r=so(t,_t,rt,rt,rt,rt,rt,e);return r.placeholder=Ea.placeholder,r}function ka(t,e,n){function r(e){var n=p,r=h;return p=h=rt,y=e,g=t.apply(r,n)}function i(t){return y=t,m=Cf(a,e),_?r(t):g}function o(t){var n=t-v,r=t-y,i=e-n;return b?Wl(i,d-r):i}function s(t){var n=t-v,r=t-y;return v===rt||n>=e||n<0||b&&r>=d}function a(){var t=np();if(s(t))return c(t);m=Cf(a,o(t))}function c(t){return m=rt,w&&p?r(t):(p=h=rt,g)}function u(){m!==rt&&_f(m),y=0,p=v=h=m=rt}function l(){return m===rt?g:c(np())}function f(){var t=np(),n=s(t);if(p=arguments,h=this,v=t,n){if(m===rt)return i(v);if(b)return m=Cf(a,e),r(v)}return m===rt&&(m=Cf(a,e)),g}var p,h,d,g,m,v,y=0,_=!1,b=!1,w=!0;if("function"!=typeof t)throw new al(st);return e=wc(e)||0,ec(n)&&(_=!!n.leading,b="maxWait"in n,d=b?ql(wc(n.maxWait)||0,e):d,w="trailing"in n?!!n.trailing:w),f.cancel=u,f.flush=l,f}function Ca(t){return so(t,jt)}function Ta(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new al(st);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ta.Cache||cn),n}function Oa(t){if("function"!=typeof t)throw new al(st);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Aa(t){return Sa(2,t)}function Ra(t,e){if("function"!=typeof t)throw new al(st);return e=e===rt?e:_c(e),ei(t,e)}function Ia(t,e){if("function"!=typeof t)throw new al(st);return e=null==e?0:ql(_c(e),0),ei(function(n){var r=n[e],i=Si(n,0,e);return r&&d(i,r),o(t,this,i)})}function Pa(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new al(st);return ec(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ka(t,e,{leading:r,maxWait:e,trailing:i})}function Da(t){return xa(t,1)}function Na(t,e){return cp(wi(e),t)}function La(){if(!arguments.length)return[];var t=arguments[0];return dp(t)?t:[t]}function Ma(t){return nr(t,pt)}function Fa(t,e){return e="function"==typeof e?e:rt,nr(t,pt,e)}function Ba(t){return nr(t,lt|pt)}function za(t,e){return e="function"==typeof e?e:rt,nr(t,lt|pt,e)}function Ua(t,e){return null==e||ir(t,e,Mc(e))}function qa(t,e){return t===e||t!==t&&e!==e}function Wa(t){return null!=t&&tc(t.length)&&!Ka(t)}function Ja(t){return nc(t)&&Wa(t)}function Va(t){return!0===t||!1===t||nc(t)&&vr(t)==qt}function Ha(t){return nc(t)&&1===t.nodeType&&!lc(t)}function Ga(t){if(null==t)return!0;if(Wa(t)&&(dp(t)||"string"==typeof t||"function"==typeof t.splice||mp(t)||wp(t)||hp(t)))return!t.length;var e=jf(t);if(e==Xt||e==te)return!t.size;if(Fo(t))return!Mr(t).length;for(var n in t)if(hl.call(t,n))return!1;return!0}function Xa(t,e){return Tr(t,e)}function $a(t,e,n){n="function"==typeof n?n:rt;var r=n?n(t,e):rt
;return r===rt?Tr(t,e,rt,n):!!r}function Ya(t){if(!nc(t))return!1;var e=vr(t);return e==Vt||e==Jt||"string"==typeof t.message&&"string"==typeof t.name&&!lc(t)}function Qa(t){return"number"==typeof t&&Bl(t)}function Ka(t){if(!ec(t))return!1;var e=vr(t);return e==Ht||e==Gt||e==Ut||e==Kt}function Za(t){return"number"==typeof t&&t==_c(t)}function tc(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=It}function ec(t){var e=void 0===t?"undefined":i(t);return null!=t&&("object"==e||"function"==e)}function nc(t){return null!=t&&"object"==(void 0===t?"undefined":i(t))}function rc(t,e){return t===e||Rr(t,e,wo(e))}function ic(t,e,n){return n="function"==typeof n?n:rt,Rr(t,e,wo(e),n)}function oc(t){return uc(t)&&t!=+t}function sc(t){if(Ef(t))throw new el(ot);return Ir(t)}function ac(t){return null===t}function cc(t){return null==t}function uc(t){return"number"==typeof t||nc(t)&&vr(t)==$t}function lc(t){if(!nc(t)||vr(t)!=Qt)return!1;var e=jl(t);if(null===e)return!0;var n=hl.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&pl.call(n)==vl}function fc(t){return Za(t)&&t>=-It&&t<=It}function pc(t){return"string"==typeof t||!dp(t)&&nc(t)&&vr(t)==ee}function hc(t){return"symbol"==(void 0===t?"undefined":i(t))||nc(t)&&vr(t)==ne}function dc(t){return t===rt}function gc(t){return nc(t)&&jf(t)==ie}function mc(t){return nc(t)&&vr(t)==oe}function vc(t){if(!t)return[];if(Wa(t))return pc(t)?Z(t):Di(t);if(Ol&&t[Ol])return W(t[Ol]());var e=jf(t);return(e==Xt?J:e==te?X:Yc)(t)}function yc(t){if(!t)return 0===t?t:0;if((t=wc(t))===Rt||t===-Rt){return(t<0?-1:1)*Pt}return t===t?t:0}function _c(t){var e=yc(t),n=e%1;return e===e?n?e-n:e:0}function bc(t){return t?er(_c(t),0,Nt):0}function wc(t){if("number"==typeof t)return t;if(hc(t))return Dt;if(ec(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ec(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ie,"");var n=We.test(t);return n||Ve.test(t)?Tn(t.slice(2),n?2:8):qe.test(t)?Dt:+t}function xc(t){return Ni(t,Fc(t))}function Sc(t){return t?er(_c(t),-It,It):0===t?t:0}function jc(t){return null==t?"":pi(t)}function Ec(t,e){var n=ff(t);return null==e?n:Qn(n,e)}function kc(t,e){return b(t,_o(e,3),pr)}function Cc(t,e){return b(t,_o(e,3),hr)}function Tc(t,e){return null==t?t:df(t,_o(e,3),Fc)}function Oc(t,e){return null==t?t:gf(t,_o(e,3),Fc)}function Ac(t,e){return t&&pr(t,_o(e,3))}function Rc(t,e){return t&&hr(t,_o(e,3))}function Ic(t){return null==t?[]:dr(t,Mc(t))}function Pc(t){return null==t?[]:dr(t,Fc(t))}function Dc(t,e,n){var r=null==t?rt:gr(t,e);return r===rt?n:r}function Nc(t,e){return null!=t&&ko(t,e,_r)}function Lc(t,e){return null!=t&&ko(t,e,br)}function Mc(t){return Wa(t)?In(t):Mr(t)}function Fc(t){return Wa(t)?In(t,!0):Fr(t)}function Bc(t,e){var n={};return e=_o(e,3),pr(t,function(t,r,i){Zn(n,e(t,r,i),t)}),n}function zc(t,e){var n={};return e=_o(e,3),pr(t,function(t,r,i){Zn(n,r,e(t,r,i))}),n}function Uc(t,e){return qc(t,Oa(_o(e)))}function qc(t,e){if(null==t)return{};var n=h(mo(t),function(t){return[t]});return e=_o(e),Xr(t,n,function(t,n){return e(t,n[0])})}function Wc(t,e,n){e=xi(e,t);var r=-1,i=e.length;for(i||(i=1,t=rt);++r<i;){var o=null==t?rt:t[Yo(e[r])];o===rt&&(r=i,o=n),t=Ka(o)?o.call(t):o}return t}function Jc(t,e,n){return null==t?t:ii(t,e,n)}function Vc(t,e,n,r){return r="function"==typeof r?r:rt,null==t?t:ii(t,e,n,r)}function Hc(t,e,n){var r=dp(t),i=r||mp(t)||wp(t);if(e=_o(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ec(t)&&Ka(o)?ff(jl(t)):{}}return(i?a:pr)(t,function(t,r,i){return e(n,t,r,i)}),n}function Gc(t,e){return null==t||di(t,e)}function Xc(t,e,n){return null==t?t:gi(t,e,wi(n))}function $c(t,e,n,r){return r="function"==typeof r?r:rt,null==t?t:gi(t,e,wi(n),r)}function Yc(t){return null==t?[]:D(t,Mc(t))}function Qc(t){return null==t?[]:D(t,Fc(t))}function Kc(t,e,n){return n===rt&&(n=e,e=rt),n!==rt&&(n=wc(n),n=n===n?n:0),e!==rt&&(e=wc(e),e=e===e?e:0),er(wc(t),e,n)}function Zc(t,e,n){return e=yc(e),n===rt?(n=e,e=0):n=yc(n),t=wc(t),wr(t,e,n)}function tu(t,e,n){if(n&&"boolean"!=typeof n&&Po(t,e,n)&&(e=n=rt),n===rt&&("boolean"==typeof e?(n=e,e=rt):"boolean"==typeof t&&(n=t,t=rt)),t===rt&&e===rt?(t=0,e=1):(t=yc(t),e===rt?(e=t,t=0):e=yc(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Hl();return Wl(t+i*(e-t+Cn("1e-"+((i+"").length-1))),e)}return Kr(t,e)}function eu(t){return Gp(jc(t).toLowerCase())}function nu(t){return(t=jc(t))&&t.replace(Ge,Jn).replace(dn,"")}function ru(t,e,n){t=jc(t),e=pi(e);var r=t.length;n=n===rt?r:er(_c(n),0,r);var i=n;return(n-=e.length)>=0&&t.slice(n,i)==e}function iu(t){return t=jc(t),t&&Se.test(t)?t.replace(we,Vn):t}function ou(t){return t=jc(t),t&&Re.test(t)?t.replace(Ae,"\\$&"):t}function su(t,e,n){t=jc(t),e=_c(e);var r=e?K(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Zi(Ll(i),n)+t+Zi(Nl(i),n)}function au(t,e,n){t=jc(t),e=_c(e);var r=e?K(t):0;return e&&r<e?t+Zi(e-r,n):t}function cu(t,e,n){t=jc(t),e=_c(e);var r=e?K(t):0;return e&&r<e?Zi(e-r,n)+t:t}function uu(t,e,n){return n||null==e?e=0:e&&(e=+e),Vl(jc(t).replace(Pe,""),e||0)}function lu(t,e,n){return e=(n?Po(t,e,n):e===rt)?1:_c(e),ti(jc(t),e)}function fu(){var t=arguments,e=jc(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function pu(t,e,n){return n&&"number"!=typeof n&&Po(t,e,n)&&(e=n=rt),(n=n===rt?Nt:n>>>0)?(t=jc(t),t&&("string"==typeof e||null!=e&&!_p(e))&&!(e=pi(e))&&U(t)?Si(Z(t),0,n):t.split(e,n)):[]}function hu(t,e,n){return t=jc(t),n=null==n?0:er(_c(n),0,t.length),e=pi(e),t.slice(n,n+e.length)==e}function du(t,e,r){var i=n.templateSettings;r&&Po(t,e,r)&&(e=rt),t=jc(t),e=kp({},e,i,ao);var o,s,a=kp({},e.imports,i.imports,ao),c=Mc(a),u=D(a,c),l=0,f=e.interpolate||Xe,p="__p += '",h=ol((e.escape||Xe).source+"|"+f.source+"|"+(f===ke?ze:Xe).source+"|"+(e.evaluate||Xe).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++bn+"]")+"\n";t.replace(h,function(e,n,r,i,a,c){return r||(r=i),p+=t.slice(l,c).replace($e,B),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e}),p+="';\n";var g=e.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(ve,""):p).replace(ye,"$1").replace(_e,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Xp(function(){return nl(c,d+"return "+p).apply(rt,u)});if(m.source=p,Ya(m))throw m;return m}function gu(t){return jc(t).toLowerCase()}function mu(t){return jc(t).toUpperCase()}function vu(t,e,n){if((t=jc(t))&&(n||e===rt))return t.replace(Ie,"");if(!t||!(e=pi(e)))return t;var r=Z(t),i=Z(e);return Si(r,L(r,i),M(r,i)+1).join("")}function yu(t,e,n){if((t=jc(t))&&(n||e===rt))return t.replace(De,"");if(!t||!(e=pi(e)))return t;var r=Z(t);return Si(r,0,M(r,Z(e))+1).join("")}function _u(t,e,n){if((t=jc(t))&&(n||e===rt))return t.replace(Pe,"");if(!t||!(e=pi(e)))return t;var r=Z(t);return Si(r,L(r,Z(e))).join("")}function bu(t,e){var n=Et,r=kt;if(ec(e)){var i="separator"in e?e.separator:i;n="length"in e?_c(e.length):n,r="omission"in e?pi(e.omission):r}t=jc(t);var o=t.length;if(U(t)){var s=Z(t);o=s.length}if(n>=o)return t;var a=n-K(r);if(a<1)return r;var c=s?Si(s,0,a).join(""):t.slice(0,a);if(i===rt)return c+r;if(s&&(a+=c.length-a),_p(i)){if(t.slice(a).search(i)){var u,l=c;for(i.global||(i=ol(i.source,jc(Ue.exec(i))+"g")),i.lastIndex=0;u=i.exec(l);)var f=u.index;c=c.slice(0,f===rt?a:f)}}else if(t.indexOf(pi(i),a)!=a){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r}function wu(t){return t=jc(t),t&&xe.test(t)?t.replace(be,Hn):t}function xu(t,e,n){return t=jc(t),e=n?rt:e,e===rt?q(t)?nt(t):_(t):t.match(e)||[]}function Su(t){var e=null==t?0:t.length,n=_o();return t=e?h(t,function(t){if("function"!=typeof t[1])throw new al(st);return[n(t[0]),t[1]]}):[],ei(function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}})}function ju(t){return rr(nr(t,lt))}function Eu(t){return function(){return t}}function ku(t,e){return null==t||t!==t?e:t}function Cu(t){return t}function Tu(t){return Lr("function"==typeof t?t:nr(t,lt))}function Ou(t){return Ur(nr(t,lt))}function Au(t,e){return qr(t,nr(e,lt))}function Ru(t,e,n){var r=Mc(e),i=dr(e,r);null!=n||ec(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=dr(e,Mc(e)));var o=!(ec(n)&&"chain"in n&&!n.chain),s=Ka(t);return a(i,function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Di(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,d([this.value()],arguments))})}),t}function Iu(){return Rn._===this&&(Rn._=yl),this}function Pu(){}function Du(t){return t=_c(t),ei(function(e){return Vr(e,t)})}function Nu(t){return Do(t)?k(Yo(t)):$r(t)}function Lu(t){return function(e){return null==t?rt:gr(t,e)}}function Mu(){return[]}function Fu(){return!1}function Bu(){return{}}function zu(){return""}function Uu(){return!0}function qu(t,e){if((t=_c(t))<1||t>It)return[];var n=Nt,r=Wl(t,Nt);e=_o(e),t-=Nt;for(var i=R(r,e);++n<t;)e(n);return i}function Wu(t){return dp(t)?h(t,Yo):hc(t)?[t]:Di(Of(jc(t)))}function Ju(t){var e=++dl;return jc(t)+e}function Vu(t){return t&&t.length?cr(t,Cu,yr):rt}function Hu(t,e){return t&&t.length?cr(t,_o(e,2),yr):rt}function Gu(t){return E(t,Cu)}function Xu(t,e){return E(t,_o(e,2))}function $u(t){return t&&t.length?cr(t,Cu,Br):rt}function Yu(t,e){return t&&t.length?cr(t,_o(e,2),Br):rt}function Qu(t){return t&&t.length?A(t,Cu):0}function Ku(t,e){return t&&t.length?A(t,_o(e,2)):0}e=null==e?Rn:Gn.defaults(Rn.Object(),e,Gn.pick(Rn,_n));var Zu=e.Array,tl=e.Date,el=e.Error,nl=e.Function,rl=e.Math,il=e.Object,ol=e.RegExp,sl=e.String,al=e.TypeError,cl=Zu.prototype,ul=nl.prototype,ll=il.prototype,fl=e["__core-js_shared__"],pl=ul.toString,hl=ll.hasOwnProperty,dl=0,gl=function(){var t=/[^.]+$/.exec(fl&&fl.keys&&fl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ml=ll.toString,vl=pl.call(il),yl=Rn._,_l=ol("^"+pl.call(hl).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bl=Dn?e.Buffer:rt,wl=e.Symbol,xl=e.Uint8Array,Sl=bl?bl.allocUnsafe:rt,jl=V(il.getPrototypeOf,il),El=il.create,kl=ll.propertyIsEnumerable,Cl=cl.splice,Tl=wl?wl.isConcatSpreadable:rt,Ol=wl?wl.iterator:rt,Al=wl?wl.toStringTag:rt,Rl=function(){try{var t=xo(il,"defineProperty");return t({},"",{}),t}catch(t){}}(),Il=e.clearTimeout!==Rn.clearTimeout&&e.clearTimeout,Pl=tl&&tl.now!==Rn.Date.now&&tl.now,Dl=e.setTimeout!==Rn.setTimeout&&e.setTimeout,Nl=rl.ceil,Ll=rl.floor,Ml=il.getOwnPropertySymbols,Fl=bl?bl.isBuffer:rt,Bl=e.isFinite,zl=cl.join,Ul=V(il.keys,il),ql=rl.max,Wl=rl.min,Jl=tl.now,Vl=e.parseInt,Hl=rl.random,Gl=cl.reverse,Xl=xo(e,"DataView"),$l=xo(e,"Map"),Yl=xo(e,"Promise"),Ql=xo(e,"Set"),Kl=xo(e,"WeakMap"),Zl=xo(il,"create"),tf=Kl&&new Kl,ef={},nf=Qo(Xl),rf=Qo($l),of=Qo(Yl),sf=Qo(Ql),af=Qo(Kl),cf=wl?wl.prototype:rt,uf=cf?cf.valueOf:rt,lf=cf?cf.toString:rt,ff=function(){function t(){}return function(e){if(!ec(e))return{};if(El)return El(e);t.prototype=e;var n=new t;return t.prototype=rt,n}}();n.templateSettings={escape:je,evaluate:Ee,interpolate:ke,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,y.prototype=ff(r.prototype),y.prototype.constructor=y,C.prototype=ff(r.prototype),C.prototype.constructor=C,Fe.prototype.clear=Ye,Fe.prototype.delete=Qe,Fe.prototype.get=Ke,Fe.prototype.has=Ze,Fe.prototype.set=tn,en.prototype.clear=nn,en.prototype.delete=rn,en.prototype.get=on,en.prototype.has=sn,en.prototype.set=an,cn.prototype.clear=un,cn.prototype.delete=ln,cn.prototype.get=fn,cn.prototype.has=pn,cn.prototype.set=gn,mn.prototype.add=mn.prototype.push=vn,mn.prototype.has=yn,Sn.prototype.clear=jn,Sn.prototype.delete=En,Sn.prototype.get=kn,Sn.prototype.has=On,Sn.prototype.set=An;var pf=zi(pr),hf=zi(hr,!0),df=Ui(),gf=Ui(!0),mf=tf?function(t,e){return tf.set(t,e),t}:Cu,vf=Rl?function(t,e){return Rl(t,"toString",{configurable:!0,enumerable:!1,value:Eu(e),writable:!0})}:Cu,yf=ei,_f=Il||function(t){return Rn.clearTimeout(t)},bf=Ql&&1/X(new Ql([,-0]))[1]==Rt?function(t){return new Ql(t)}:Pu,wf=tf?function(t){return tf.get(t)}:Pu,xf=Ml?function(t){return null==t?[]:(t=il(t),l(Ml(t),function(e){return kl.call(t,e)}))}:Mu,Sf=Ml?function(t){for(var e=[];t;)d(e,xf(t)),t=jl(t);return e}:Mu,jf=vr;(Xl&&jf(new Xl(new ArrayBuffer(1)))!=ae||$l&&jf(new $l)!=Xt||Yl&&"[object Promise]"!=jf(Yl.resolve())||Ql&&jf(new Ql)!=te||Kl&&jf(new Kl)!=ie)&&(jf=function(t){var e=vr(t),n=e==Qt?t.constructor:rt,r=n?Qo(n):"";if(r)switch(r){case nf:return ae;case rf:return Xt;case of:return"[object Promise]";case sf:return te;case af:return ie}return e});var Ef=fl?Ka:Fu,kf=Xo(mf),Cf=Dl||function(t,e){return Rn.setTimeout(t,e)},Tf=Xo(vf),Of=function(t){var e=Ta(t,function(t){return n.size===ct&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Oe,function(t,n,r,i){e.push(r?i.replace(Be,"$1"):n||t)}),e}),Af=ei(function(t,e){return Ja(t)?sr(t,fr(e,1,Ja,!0)):[]}),Rf=ei(function(t,e){var n=ys(e);return Ja(n)&&(n=rt),Ja(t)?sr(t,fr(e,1,Ja,!0),_o(n,2)):[]}),If=ei(function(t,e){var n=ys(e);return Ja(n)&&(n=rt),Ja(t)?sr(t,fr(e,1,Ja,!0),rt,n):[]}),Pf=ei(function(t){var e=h(t,bi);return e.length&&e[0]===t[0]?xr(e):[]}),Df=ei(function(t){var e=ys(t),n=h(t,bi);return e===ys(n)?e=rt:n.pop(),n.length&&n[0]===t[0]?xr(n,_o(e,2)):[]}),Nf=ei(function(t){var e=ys(t),n=h(t,bi);return e="function"==typeof e?e:rt,e&&n.pop(),n.length&&n[0]===t[0]?xr(n,rt,e):[]}),Lf=ei(ws),Mf=ho(function(t,e){var n=null==t?0:t.length,r=tr(t,e);return Qr(t,h(e,function(t){return Io(t,n)?+t:t}).sort(Ai)),r}),Ff=ei(function(t){return hi(fr(t,1,Ja,!0))}),Bf=ei(function(t){var e=ys(t);return Ja(e)&&(e=rt),hi(fr(t,1,Ja,!0),_o(e,2))}),zf=ei(function(t){var e=ys(t);return e="function"==typeof e?e:rt,hi(fr(t,1,Ja,!0),rt,e)}),Uf=ei(function(t,e){return Ja(t)?sr(t,e):[]}),qf=ei(function(t){return yi(l(t,Ja))}),Wf=ei(function(t){var e=ys(t);return Ja(e)&&(e=rt),yi(l(t,Ja),_o(e,2))}),Jf=ei(function(t){var e=ys(t);return e="function"==typeof e?e:rt,yi(l(t,Ja),rt,e)}),Vf=ei(Ws),Hf=ei(function(t){var e=t.length,n=e>1?t[e-1]:rt;return n="function"==typeof n?(t.pop(),n):rt,Js(t,n)}),Gf=ho(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return tr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof C&&Io(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:$s,args:[i],thisArg:rt}),new y(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(rt),t})):this.thru(i)}),Xf=Fi(function(t,e,n){hl.call(t,n)?++t[n]:Zn(t,n,1)}),$f=Gi(cs),Yf=Gi(us),Qf=Fi(function(t,e,n){hl.call(t,n)?t[n].push(e):Zn(t,n,[e])}),Kf=ei(function(t,e,n){var r=-1,i="function"==typeof e,s=Wa(t)?Zu(t.length):[];return pf(t,function(t){s[++r]=i?o(e,t,n):jr(t,e,n)}),s}),Zf=Fi(function(t,e,n){Zn(t,n,e)}),tp=Fi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ep=ei(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Po(t,e[0],e[1])?e=[]:n>2&&Po(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,fr(e,1),[])}),np=Pl||function(){return Rn.Date.now()},rp=ei(function(t,e,n){var r=gt;if(n.length){var i=H(n,yo(rp));r|=bt}return so(t,r,e,n,i)}),ip=ei(function(t,e,n){var r=gt|mt;if(n.length){var i=H(n,yo(ip));r|=bt}return so(e,r,t,n,i)}),op=ei(function(t,e){return or(t,1,e)}),sp=ei(function(t,e,n){return or(t,wc(e)||0,n)});Ta.Cache=cn;var ap=yf(function(t,e){e=1==e.length&&dp(e[0])?h(e[0],P(_o())):h(fr(e,1),P(_o()));var n=e.length;return ei(function(r){for(var i=-1,s=Wl(r.length,n);++i<s;)r[i]=e[i].call(this,r[i]);return o(t,this,r)})}),cp=ei(function(t,e){var n=H(e,yo(cp));return so(t,bt,rt,e,n)}),up=ei(function(t,e){var n=H(e,yo(up));return so(t,wt,rt,e,n)}),lp=ho(function(t,e){return so(t,St,rt,rt,rt,e)}),fp=no(yr),pp=no(function(t,e){return t>=e}),hp=Er(function(){return arguments}())?Er:function(t){return nc(t)&&hl.call(t,"callee")&&!kl.call(t,"callee")},dp=Zu.isArray,gp=Mn?P(Mn):kr,mp=Fl||Fu,vp=Fn?P(Fn):Cr,yp=Bn?P(Bn):Ar,_p=zn?P(zn):Pr,bp=Un?P(Un):Dr,wp=qn?P(qn):Nr,xp=no(Br),Sp=no(function(t,e){return t<=e}),jp=Bi(function(t,e){if(Fo(e)||Wa(e))return void Ni(e,Mc(e),t);for(var n in e)hl.call(e,n)&&Xn(t,n,e[n])}),Ep=Bi(function(t,e){Ni(e,Fc(e),t)}),kp=Bi(function(t,e,n,r){Ni(e,Fc(e),t,r)}),Cp=Bi(function(t,e,n,r){Ni(e,Mc(e),t,r)}),Tp=ho(tr),Op=ei(function(t,e){t=il(t);var n=-1,r=e.length,i=r>2?e[2]:rt;for(i&&Po(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],s=Fc(o),a=-1,c=s.length;++a<c;){var u=s[a],l=t[u];(l===rt||qa(l,ll[u])&&!hl.call(t,u))&&(t[u]=o[u])}return t}),Ap=ei(function(t){return t.push(rt,co),o(Np,rt,t)}),Rp=Yi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=ml.call(e)),t[e]=n},Eu(Cu)),Ip=Yi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=ml.call(e)),hl.call(t,e)?t[e].push(n):t[e]=[n]},_o),Pp=ei(jr),Dp=Bi(function(t,e,n){Wr(t,e,n)}),Np=Bi(function(t,e,n,r){Wr(t,e,n,r)}),Lp=ho(function(t,e){var n={};if(null==t)return n;var r=!1;e=h(e,function(e){return e=xi(e,t),r||(r=e.length>1),e}),Ni(t,mo(t),n),r&&(n=nr(n,lt|ft|pt,uo));for(var i=e.length;i--;)di(n,e[i]);return n}),Mp=ho(function(t,e){return null==t?{}:Gr(t,e)}),Fp=oo(Mc),Bp=oo(Fc),zp=Ji(function(t,e,n){return e=e.toLowerCase(),t+(n?eu(e):e)}),Up=Ji(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),qp=Ji(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Wp=Wi("toLowerCase"),Jp=Ji(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Vp=Ji(function(t,e,n){return t+(n?" ":"")+Gp(e)}),Hp=Ji(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Gp=Wi("toUpperCase"),Xp=ei(function(t,e){try{return o(t,rt,e)}catch(t){return Ya(t)?t:new el(t)}}),$p=ho(function(t,e){return a(e,function(e){e=Yo(e),Zn(t,e,rp(t[e],t))}),t}),Yp=Xi(),Qp=Xi(!0),Kp=ei(function(t,e){return function(n){return jr(n,t,e)}}),Zp=ei(function(t,e){return function(n){return jr(t,n,e)}}),th=Ki(h),eh=Ki(u),nh=Ki(v),rh=eo(),ih=eo(!0),oh=Qi(function(t,e){return t+e},0),sh=io("ceil"),ah=Qi(function(t,e){return t/e},1),ch=io("floor"),uh=Qi(function(t,e){return t*e},1),lh=io("round"),fh=Qi(function(t,e){return t-e},0);return n.after=wa,n.ary=xa,n.assign=jp,n.assignIn=Ep,n.assignInWith=kp,n.assignWith=Cp,n.at=Tp,n.before=Sa,n.bind=rp,n.bindAll=$p,n.bindKey=ip,n.castArray=La,n.chain=Gs,n.chunk=ts,n.compact=es,n.concat=ns,n.cond=Su,n.conforms=ju,n.constant=Eu,n.countBy=Xf,n.create=Ec,n.curry=ja,n.curryRight=Ea,n.debounce=ka,n.defaults=Op,n.defaultsDeep=Ap,n.defer=op,n.delay=sp,n.difference=Af,n.differenceBy=Rf,n.differenceWith=If,n.drop=rs,n.dropRight=is,n.dropRightWhile=os,n.dropWhile=ss,n.fill=as,n.filter=ia,n.flatMap=oa,n.flatMapDeep=sa,n.flatMapDepth=aa,n.flatten=ls,n.flattenDeep=fs,n.flattenDepth=ps,n.flip=Ca,n.flow=Yp,n.flowRight=Qp,n.fromPairs=hs,n.functions=Ic,n.functionsIn=Pc,n.groupBy=Qf,n.initial=ms,n.intersection=Pf,n.intersectionBy=Df,n.intersectionWith=Nf,n.invert=Rp,n.invertBy=Ip,n.invokeMap=Kf,n.iteratee=Tu,n.keyBy=Zf,n.keys=Mc,n.keysIn=Fc,n.map=fa,n.mapKeys=Bc,n.mapValues=zc,n.matches=Ou,n.matchesProperty=Au,n.memoize=Ta,n.merge=Dp,n.mergeWith=Np,n.method=Kp,n.methodOf=Zp,n.mixin=Ru,n.negate=Oa,n.nthArg=Du,n.omit=Lp,n.omitBy=Uc,n.once=Aa,n.orderBy=pa,n.over=th,n.overArgs=ap,n.overEvery=eh,n.overSome=nh,n.partial=cp,n.partialRight=up,n.partition=tp,n.pick=Mp,n.pickBy=qc,n.property=Nu,n.propertyOf=Lu,n.pull=Lf,n.pullAll=ws,n.pullAllBy=xs,n.pullAllWith=Ss,n.pullAt=Mf,n.range=rh,n.rangeRight=ih,n.rearg=lp,n.reject=ga,n.remove=js,n.rest=Ra,n.reverse=Es,n.sampleSize=va,n.set=Jc,n.setWith=Vc,n.shuffle=ya,n.slice=ks,n.sortBy=ep,n.sortedUniq=Ps,n.sortedUniqBy=Ds,n.split=pu,n.spread=Ia,n.tail=Ns,n.take=Ls,n.takeRight=Ms,n.takeRightWhile=Fs,n.takeWhile=Bs,n.tap=Xs,n.throttle=Pa,n.thru=$s,n.toArray=vc,n.toPairs=Fp,n.toPairsIn=Bp,n.toPath=Wu,n.toPlainObject=xc,n.transform=Hc,n.unary=Da,n.union=Ff,n.unionBy=Bf,n.unionWith=zf,n.uniq=zs,n.uniqBy=Us,n.uniqWith=qs,n.unset=Gc,n.unzip=Ws,n.unzipWith=Js,n.update=Xc,n.updateWith=$c,n.values=Yc,n.valuesIn=Qc,n.without=Uf,n.words=xu,n.wrap=Na,n.xor=qf,n.xorBy=Wf,n.xorWith=Jf,n.zip=Vf,n.zipObject=Vs,n.zipObjectDeep=Hs,n.zipWith=Hf,n.entries=Fp,n.entriesIn=Bp,n.extend=Ep,n.extendWith=kp,Ru(n,n),n.add=oh,n.attempt=Xp,n.camelCase=zp,n.capitalize=eu,n.ceil=sh,n.clamp=Kc,n.clone=Ma,n.cloneDeep=Ba,n.cloneDeepWith=za,n.cloneWith=Fa,n.conformsTo=Ua,n.deburr=nu,n.defaultTo=ku,n.divide=ah,n.endsWith=ru,n.eq=qa,n.escape=iu,n.escapeRegExp=ou,n.every=ra,n.find=$f,n.findIndex=cs,n.findKey=kc,n.findLast=Yf,n.findLastIndex=us,n.findLastKey=Cc,n.floor=ch,n.forEach=ca,n.forEachRight=ua,n.forIn=Tc,n.forInRight=Oc,n.forOwn=Ac,n.forOwnRight=Rc,n.get=Dc,n.gt=fp,n.gte=pp,n.has=Nc,n.hasIn=Lc,n.head=ds,n.identity=Cu,n.includes=la,n.indexOf=gs,n.inRange=Zc,n.invoke=Pp,n.isArguments=hp,n.isArray=dp,n.isArrayBuffer=gp,n.isArrayLike=Wa,n.isArrayLikeObject=Ja,n.isBoolean=Va,n.isBuffer=mp,n.isDate=vp,n.isElement=Ha,n.isEmpty=Ga,n.isEqual=Xa,n.isEqualWith=$a,n.isError=Ya,n.isFinite=Qa,n.isFunction=Ka,n.isInteger=Za,n.isLength=tc,n.isMap=yp,n.isMatch=rc,n.isMatchWith=ic,n.isNaN=oc,n.isNative=sc,n.isNil=cc,n.isNull=ac,n.isNumber=uc,n.isObject=ec,n.isObjectLike=nc,n.isPlainObject=lc,n.isRegExp=_p,n.isSafeInteger=fc,n.isSet=bp,n.isString=pc,n.isSymbol=hc,n.isTypedArray=wp,n.isUndefined=dc,n.isWeakMap=gc,n.isWeakSet=mc,n.join=vs,n.kebabCase=Up,n.last=ys,n.lastIndexOf=_s,n.lowerCase=qp,n.lowerFirst=Wp,n.lt=xp,n.lte=Sp,n.max=Vu,n.maxBy=Hu,n.mean=Gu,n.meanBy=Xu,n.min=$u,n.minBy=Yu,n.stubArray=Mu,n.stubFalse=Fu,n.stubObject=Bu,n.stubString=zu,n.stubTrue=Uu,n.multiply=uh,n.nth=bs,n.noConflict=Iu,n.noop=Pu,n.now=np,n.pad=su,n.padEnd=au,n.padStart=cu,n.parseInt=uu,n.random=tu,n.reduce=ha,n.reduceRight=da,n.repeat=lu,n.replace=fu,n.result=Wc,n.round=lh,n.runInContext=t,n.sample=ma,n.size=_a,n.snakeCase=Jp,n.some=ba,n.sortedIndex=Cs,n.sortedIndexBy=Ts,n.sortedIndexOf=Os,n.sortedLastIndex=As,n.sortedLastIndexBy=Rs,n.sortedLastIndexOf=Is,n.startCase=Vp,n.startsWith=hu,n.subtract=fh,n.sum=Qu,n.sumBy=Ku,n.template=du,n.times=qu,n.toFinite=yc,n.toInteger=_c,n.toLength=bc,n.toLower=gu,n.toNumber=wc,n.toSafeInteger=Sc,n.toString=jc,n.toUpper=mu,n.trim=vu,n.trimEnd=yu,n.trimStart=_u,n.truncate=bu,n.unescape=wu,n.uniqueId=Ju,n.upperCase=Hp,n.upperFirst=Gp,n.each=ca,n.eachRight=ua,n.first=ds,Ru(n,function(){var t={};return pr(n,function(e,r){hl.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION="4.17.5",a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),a(["drop","take"],function(t,e){C.prototype[t]=function(n){n=n===rt?1:ql(_c(n),0);var r=this.__filtered__&&!e?new C(this):this.clone();return r.__filtered__?r.__takeCount__=Wl(n,r.__takeCount__):r.__views__.push({size:Wl(n,Nt),type:t+(r.__dir__<0?"Right":"")}),r},C.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),a(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==Ot||3==n;C.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:_o(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),a(["head","last"],function(t,e){var n="take"+(e?"Right":"");C.prototype[t]=function(){return this[n](1).value()[0]}}),a(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");C.prototype[t]=function(){return this.__filtered__?new C(this):this[n](1)}}),C.prototype.compact=function(){return this.filter(Cu)},C.prototype.find=function(t){return this.filter(t).head()},C.prototype.findLast=function(t){return this.reverse().find(t)},C.prototype.invokeMap=ei(function(t,e){return"function"==typeof t?new C(this):this.map(function(n){return jr(n,t,e)})}),C.prototype.reject=function(t){return this.filter(Oa(_o(t)))},C.prototype.slice=function(t,e){t=_c(t);var n=this;return n.__filtered__&&(t>0||e<0)?new C(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==rt&&(e=_c(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},C.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},C.prototype.toArray=function(){return this.take(Nt)},pr(C.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=n[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);o&&(n.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,c=e instanceof C,u=a[0],l=c||dp(e),f=function(t){var e=o.apply(n,d([t],a));return i&&p?e[0]:e};l&&r&&"function"==typeof u&&1!=u.length&&(c=l=!1);var p=this.__chain__,h=!!this.__actions__.length,g=s&&!p,m=c&&!h;if(!s&&l){e=m?e:new C(this);var v=t.apply(e,a);return v.__actions__.push({func:$s,args:[f],thisArg:rt}),new y(v,p)}return g&&m?t.apply(this,a):(v=this.thru(f),g?i?v.value()[0]:v.value():v)})}),a(["pop","push","shift","sort","splice","unshift"],function(t){var e=cl[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(dp(n)?n:[],t)}return this[r](function(n){return e.apply(dp(n)?n:[],t)})}}),pr(C.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"";(ef[i]||(ef[i]=[])).push({name:e,func:r})}}),ef[$i(rt,mt).name]=[{name:"wrapper",func:rt}],C.prototype.clone=Y,C.prototype.reverse=tt,C.prototype.value=et,n.prototype.at=Gf,n.prototype.chain=Ys,n.prototype.commit=Qs,n.prototype.next=Ks,n.prototype.plant=ta,n.prototype.reverse=ea,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=na,n.prototype.first=n.prototype.head,Ol&&(n.prototype[Ol]=Zs),n}();"function"==typeof t&&"object"==i(t.amd)&&t.amd?(Rn._=Gn,t(function(){return Gn})):Pn?((Pn.exports=Gn)._=Gn,In._=Gn):Rn._=Gn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],469:[function(t,e,n){"use strict";function r(){return 1}function i(t){if(!(this instanceof i))return new i(t);"number"==typeof t&&(t={max:t}),t||(t={});var e=this[m]=t.max;(!e||"number"!=typeof e||e<=0)&&(this[m]=1/0);var n=t.length||r;"function"!=typeof n&&(n=r),this[y]=n,this[_]=t.stale||!1,this[b]=t.maxAge||0,this[w]=t.dispose,this[x]=t.noDisposeOnSet||!1,this.reset()}function o(t,e,n,r){var i=n.value;a(t,i)&&(u(t,n),t[_]||(i=void 0)),i&&e.call(r,i.value,i.key,t)}function s(t,e,n){var r=t[j].get(e);if(r){var i=r.value;a(t,i)?(u(t,r),t[_]||(i=void 0)):n&&t[S].unshiftNode(r),i&&(i=i.value)}return i}function a(t,e){if(!e||!e.maxAge&&!t[b])return!1;var n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[b]&&n>t[b]}function c(t){if(t[v]>t[m])for(var e=t[S].tail;t[v]>t[m]&&null!==e;){var n=e.prev;u(t,e),e=n}}function u(t,e){if(e){var n=e.value;t[w]&&t[w](n.key,n.value),t[v]-=n.length,t[j].delete(n.key),t[S].removeNode(e)}}function l(t,e,n,r,i){this.key=t,this.value=e,this.length=n,this.now=r,this.maxAge=i||0}e.exports=i;var f,p=t("pseudomap"),h=t("util"),d=t("yallist"),g="function"==typeof Symbol;f=g?function(t){return Symbol.for(t)}:function(t){return"_"+t};var m=f("max"),v=f("length"),y=f("lengthCalculator"),_=f("allowStale"),b=f("maxAge"),w=f("dispose"),x=f("noDisposeOnSet"),S=f("lruList"),j=f("cache");Object.defineProperty(i.prototype,"max",{set:function(t){(!t||"number"!=typeof t||t<=0)&&(t=1/0),this[m]=t,c(this)},get:function(){return this[m]},enumerable:!0}),Object.defineProperty(i.prototype,"allowStale",{set:function(t){this[_]=!!t},get:function(){return this[_]},enumerable:!0}),Object.defineProperty(i.prototype,"maxAge",{set:function(t){(!t||"number"!=typeof t||t<0)&&(t=0),this[b]=t,c(this)},get:function(){return this[b]},enumerable:!0}),Object.defineProperty(i.prototype,"lengthCalculator",{set:function(t){"function"!=typeof t&&(t=r),t!==this[y]&&(this[y]=t,this[v]=0,this[S].forEach(function(t){t.length=this[y](t.value,t.key),this[v]+=t.length},this)),c(this)},get:function(){return this[y]},enumerable:!0}),Object.defineProperty(i.prototype,"length",{get:function(){return this[v]},enumerable:!0}),Object.defineProperty(i.prototype,"itemCount",{get:function(){return this[S].length},enumerable:!0}),i.prototype.rforEach=function(t,e){e=e||this;for(var n=this[S].tail;null!==n;){var r=n.prev;o(this,t,n,e),n=r}},i.prototype.forEach=function(t,e){e=e||this;for(var n=this[S].head;null!==n;){var r=n.next;o(this,t,n,e),n=r}},i.prototype.keys=function(){return this[S].toArray().map(function(t){return t.key},this)},i.prototype.values=function(){return this[S].toArray().map(function(t){return t.value},this)},i.prototype.reset=function(){this[w]&&this[S]&&this[S].length&&this[S].forEach(function(t){this[w](t.key,t.value)},this),this[j]=new p,this[S]=new d,this[v]=0},i.prototype.dump=function(){return this[S].map(function(t){if(!a(this,t))return{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}},this).toArray().filter(function(t){return t})},i.prototype.dumpLru=function(){return this[S]},i.prototype.inspect=function(t,e){var n="LRUCache {",i=!1;this[_]&&(n+="\n  allowStale: true",i=!0);var o=this[m];o&&o!==1/0&&(i&&(n+=","),n+="\n  max: "+h.inspect(o,e),i=!0);var s=this[b];s&&(i&&(n+=","),n+="\n  maxAge: "+h.inspect(s,e),i=!0);var c=this[y];c&&c!==r&&(i&&(n+=","),n+="\n  length: "+h.inspect(this[v],e),i=!0);var u=!1;return this[S].forEach(function(t){u?n+=",\n  ":(i&&(n+=",\n"),u=!0,n+="\n  ");var o=h.inspect(t.key).split("\n").join("\n  "),l={value:t.value};t.maxAge!==s&&(l.maxAge=t.maxAge),c!==r&&(l.length=t.length),a(this,t)&&(l.stale=!0),l=h.inspect(l,e).split("\n").join("\n  "),n+=o+" => "+l}),(u||i)&&(n+="\n"),n+="}"},i.prototype.set=function(t,e,n){n=n||this[b];var r=n?Date.now():0,i=this[y](e,t);if(this[j].has(t)){if(i>this[m])return u(this,this[j].get(t)),!1;var o=this[j].get(t),s=o.value;return this[w]&&(this[x]||this[w](t,s.value)),s.now=r,s.maxAge=n,s.value=e,this[v]+=i-s.length,s.length=i,this.get(t),c(this),!0}var a=new l(t,e,i,r,n);return a.length>this[m]?(this[w]&&this[w](t,e),!1):(this[v]+=a.length,this[S].unshift(a),this[j].set(t,this[S].head),c(this),!0)},i.prototype.has=function(t){return!!this[j].has(t)&&!a(this,this[j].get(t).value)},i.prototype.get=function(t){return s(this,t,!0)},i.prototype.peek=function(t){return s(this,t,!1)},i.prototype.pop=function(){var t=this[S].tail;return t?(u(this,t),t.value):null},i.prototype.del=function(t){u(this,this[j].get(t))},i.prototype.load=function(t){this.reset();for(var e=Date.now(),n=t.length-1;n>=0;n--){var r=t[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{var o=i-e;o>0&&this.set(r.k,r.v,o)}}},i.prototype.prune=function(){var t=this;this[j].forEach(function(e,n){s(t,n,!1)})}},{pseudomap:493,util:621,yallist:631}],470:[function(t,e,n){"use strict";var r=t("./lib/parse"),i=t("./lib/Parser"),o=t("./lib/escape"),s=t("./lib/Element"),a=t("./lib/equal"),c=t("./lib/createElement"),u=t("./lib/tag"),l=t("./lib/tagString"),f=t("./lib/is"),p=t("./lib/clone"),h=t("./lib/stringify");n=e.exports=function(){return u.apply(null,arguments)},n.Element=s,n.equal=a.equal,n.nameEqual=a.name,n.attrsEqual=a.attrs,n.childrenEqual=a.children,n.isNode=f.isNode,n.isElement=f.isElement,n.isText=f.isText,n.clone=p,n.createElement=c,n.escapeXML=o.escapeXML,n.unescapeXML=o.unescapeXML,n.escapeXMLText=o.escapeXMLText,n.unescapeXMLText=o.unescapeXMLText,n.Parser=i,n.parse=r,n.tag=u,n.tagString=l,n.stringify=h},{"./lib/Element":472,"./lib/Parser":473,"./lib/clone":474,"./lib/createElement":475,"./lib/equal":476,"./lib/escape":477,"./lib/is":478,"./lib/parse":479,"./lib/stringify":482,"./lib/tag":483,"./lib/tagString":484}],471:[function(t,e,n){"use strict";function r(t,e){o.call(this,t,e),this.nodeType=1,this.nodeName=this.localName}var i=t("inherits"),o=t("./Element");i(r,o),r.prototype._getElement=function(t,e){return new r(t,e)},Object.defineProperty(r.prototype,"localName",{get:function(){return this.getName()}}),Object.defineProperty(r.prototype,"namespaceURI",{get:function(){return this.getNS()}}),Object.defineProperty(r.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(r.prototype,"childNodes",{get:function(){return this.children}}),Object.defineProperty(r.prototype,"textContent",{get:function(){return this.getText()},set:function(t){
this.children.push(t)}}),r.prototype.getElementsByTagName=function(t){return this.getChildren(t)},r.prototype.getAttribute=function(t){return this.getAttr(t)},r.prototype.setAttribute=function(t,e){this.attr(t,e)},r.prototype.getAttributeNS=function(t,e){return"http://www.w3.org/XML/1998/namespace"===t?this.getAttr(["xml",e].join(":")):this.getAttr(e,t)},r.prototype.setAttributeNS=function(t,e,n){var r;if("http://www.w3.org/XML/1998/namespace"===t)r="xml";else{r=this.getXmlns()[t]||""}r&&this.attr([r,e].join(":"),n)},r.prototype.removeAttribute=function(t){this.attr(t,null)},r.prototype.removeAttributeNS=function(t,e){var n;if("http://www.w3.org/XML/1998/namespace"===t)n="xml";else{n=this.getXmlns()[t]||""}n&&this.attr([n,e].join(":"),null)},r.prototype.appendChild=function(t){this.cnode(t)},r.prototype.removeChild=function(t){this.remove(t)},r.createElement=function(t,e){var n=new r(t,e);return Array.prototype.slice.call(arguments,2).forEach(function(t){n.appendChild(t)}),n},e.exports=r},{"./Element":472,inherits:421}],472:[function(t,e,n){"use strict";function r(t,e){this.name=t,this.parent=null,this.children=[],this.attrs={},this.setAttrs(e)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("./escape"),s=o.escapeXML,a=o.escapeXMLText,c=t("./equal"),u=c.equal,l=c.name,f=c.attrs,p=c.children,h=t("./clone");r.prototype.is=function(t,e){return this.getName()===t&&(!e||this.getNS()===e)},r.prototype.getName=function(){return this.name.indexOf(":")>=0?this.name.substr(this.name.indexOf(":")+1):this.name},r.prototype.getNS=function(){if(this.name.indexOf(":")>=0){var t=this.name.substr(0,this.name.indexOf(":"));return this.findNS(t)}return this.findNS()},r.prototype.findNS=function(t){if(t){var e="xmlns:"+t;if(this.attrs[e])return this.attrs[e];if(this.parent)return this.parent.findNS(t)}else{if(this.attrs.xmlns)return this.attrs.xmlns;if(this.parent)return this.parent.findNS()}},r.prototype.getXmlns=function(){var t={};this.parent&&(t=this.parent.getXmlns());for(var e in this.attrs){var n=e.match("xmlns:?(.*)");this.attrs.hasOwnProperty(e)&&n&&(t[this.attrs[e]]=n[1])}return t},r.prototype.setAttrs=function(t){"string"==typeof t?this.attrs.xmlns=t:t&&Object.keys(t).forEach(function(e){this.attrs[e]=t[e]},this)},r.prototype.getAttr=function(t,e){if(!e)return this.attrs[t];var n=this.getXmlns();return n[e]?this.attrs[[n[e],t].join(":")]:null},r.prototype.getChild=function(t,e){return this.getChildren(t,e)[0]},r.prototype.getChildren=function(t,e){for(var n=[],r=0;r<this.children.length;r++){var i=this.children[r];!i.getName||i.getName()!==t||e&&i.getNS()!==e||n.push(i)}return n},r.prototype.getChildByAttr=function(t,e,n,r){return this.getChildrenByAttr(t,e,n,r)[0]},r.prototype.getChildrenByAttr=function(t,e,n,r){for(var i=[],o=0;o<this.children.length;o++){var s=this.children[o];!s.attrs||s.attrs[t]!==e||n&&s.getNS()!==n||i.push(s),r&&s.getChildrenByAttr&&i.push(s.getChildrenByAttr(t,e,n,!0))}return r&&(i=[].concat.apply([],i)),i},r.prototype.getChildrenByFilter=function(t,e){for(var n=[],r=0;r<this.children.length;r++){var i=this.children[r];t(i)&&n.push(i),e&&i.getChildrenByFilter&&n.push(i.getChildrenByFilter(t,!0))}return e&&(n=[].concat.apply([],n)),n},r.prototype.getText=function(){for(var t="",e=0;e<this.children.length;e++){var n=this.children[e];"string"!=typeof n&&"number"!=typeof n||(t+=n)}return t},r.prototype.getChildText=function(t,e){var n=this.getChild(t,e);return n?n.getText():null},r.prototype.getChildElements=function(){return this.getChildrenByFilter(function(t){return t instanceof r})},r.prototype.root=function(){return this.parent?this.parent.root():this},r.prototype.tree=r.prototype.root,r.prototype.up=function(){return this.parent?this.parent:this},r.prototype.c=function(t,e){return this.cnode(new r(t,e))},r.prototype.cnode=function(t){return this.children.push(t),"object"===(void 0===t?"undefined":i(t))&&(t.parent=this),t},r.prototype.t=function(t){return this.children.push(t),this},r.prototype.remove=function(t,e){var n;return n="string"==typeof t?function(n){return!(n.is&&n.is(t,e))}:function(e){return e!==t},this.children=this.children.filter(n),this},r.prototype.clone=function(){return h(this)},r.prototype.text=function(t){return t&&1===this.children.length?(this.children[0]=t,this):this.getText()},r.prototype.attr=function(t,e){return void 0!==e||null===e?(this.attrs||(this.attrs={}),this.attrs[t]=e,this):this.attrs[t]},r.prototype.toString=function(){var t="";return this.write(function(e){t+=e}),t},r.prototype.toJSON=function(){return{name:this.name,attrs:this.attrs,children:this.children.map(function(t){return t&&t.toJSON?t.toJSON():t})}},r.prototype._addChildren=function(t){t(">");for(var e=0;e<this.children.length;e++){var n=this.children[e];(n||0===n)&&(n.write?n.write(t):"string"==typeof n?t(a(n)):n.toString&&t(a(n.toString(10))))}t("</"),t(this.name),t(">")},r.prototype.write=function(t){t("<"),t(this.name);for(var e in this.attrs){var n=this.attrs[e];null!=n&&(t(" "),t(e),t('="'),"string"!=typeof n&&(n=n.toString()),t(s(n)),t('"'))}0===this.children.length?t("/>"):this._addChildren(t)},r.prototype.nameEquals=function(t){return l(this,t)},r.prototype.attrsEquals=function(t){return f(this,t)},r.prototype.childrenEquals=function(t){return p(this,t)},r.prototype.equals=function(t){return u(this,t)},e.exports=r},{"./clone":474,"./equal":476,"./escape":477}],473:[function(t,e,n){"use strict";var r=t("events").EventEmitter,i=t("inherits"),o=t("./Element"),s=t("./parsers/ltx"),a=function(t){r.call(this);var e=this.Parser=t&&t.Parser||this.DefaultParser,n=this.Element=t&&t.Element||this.DefaultElement;this.parser=new e;var i,o=this;this.parser.on("startElement",function(t,e){var r=new n(t,e);i=i?i.cnode(r):r}),this.parser.on("endElement",function(t){i&&t===i.name&&(i.parent?i=i.parent:o.tree||(o.tree=i,i=void 0))}),this.parser.on("text",function(t){i&&i.t(t)}),this.parser.on("error",function(t){o.error=t,o.emit("error",t)})};i(a,r),a.prototype.DefaultParser=s,a.prototype.DefaultElement=o,a.prototype.write=function(t){this.parser.write(t)},a.prototype.end=function(t){this.parser.end(t),this.error||(this.tree?this.emit("tree",this.tree):this.emit("error",new Error("Incomplete document")))},e.exports=a},{"./Element":472,"./parsers/ltx":480,events:409,inherits:421}],474:[function(t,e,n){"use strict";e.exports=function(t){for(var e=new t.constructor(t.name,t.attrs),n=0;n<t.children.length;n++){var r=t.children[n];e.cnode(r.clone?r.clone():r)}return e}},{}],475:[function(t,e,n){"use strict";var r=t("./Element");e.exports=function(t,e){for(var n=new r(t,e),i=2;i<arguments.length;i++){var o=arguments[i];o&&n.cnode(o)}return n}},{"./Element":472}],476:[function(t,e,n){"use strict";function r(t,e){return t.name===e.name}function i(t,e){var n=t.attrs,r=Object.keys(n),i=r.length;if(i!==Object.keys(e.attrs).length)return!1;for(var o=0,s=i;o<s;o++){var a=r[o],c=n[a];if(null==c||null==e.attrs[a]){if(c!==e.attrs[a])return!1}else if(c.toString()!==e.attrs[a].toString())return!1}return!0}function o(t,e){var n=t.children,r=n.length;if(r!==e.children.length)return!1;for(var i=0,o=r;i<o;i++){var s=n[i];if("string"==typeof s){if(s!==e.children[i])return!1}else if(!s.equals(e.children[i]))return!1}return!0}function s(t,e){return!!r(t,e)&&(!!i(t,e)&&!!o(t,e))}e.exports.name=r,e.exports.attrs=i,e.exports.children=o,e.exports.equal=s},{}],477:[function(t,e,n){"use strict";function r(t){return o[t]}function i(t){return s[t]}var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},s={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&quot;":'"',"&#34;":'"',"&apos;":"'","&#39;":"'"};n.escapeXML=function(t){return t.replace(/&|<|>|"|'/g,r)},n.unescapeXML=function(t){return t.replace(/&(amp|#38|lt|#60|gt|#62|quot|#34|apos|#39);/g,i)},n.escapeXMLText=function(t){return t.replace(/&|<|>/g,r)},n.unescapeXMLText=function(t){return t.replace(/&(amp|#38|lt|#60|gt|#62);/g,i)}},{}],478:[function(t,e,n){"use strict";var r=t("./Element");e.exports.isNode=function(t){return t instanceof r||"string"==typeof t},e.exports.isElement=function(t){return t instanceof r},e.exports.isText=function(t){return"string"==typeof t}},{"./Element":472}],479:[function(t,e,n){"use strict";var r=t("./Parser");e.exports=function(t,e){var n;n="function"==typeof e?new e:new r(e);var i=null,o=null;if(n.on("tree",function(t){i=t}),n.on("error",function(t){o=t}),n.write(t),n.end(),o)throw o;return i}},{"./Parser":473}],480:[function(t,e,n){"use strict";var r=t("inherits"),i=t("events").EventEmitter,o=t("../escape").unescapeXML,s=e.exports=function(){i.call(this);var t,e,n,r,s,a,c,u=0,l=0;this._handleTagOpening=function(t,e,n){t?this.emit("endElement",e):(this.emit("startElement",e,n),s&&this.emit("endElement",e))},this.write=function(i){function f(){if("number"==typeof l){var t=i.slice(l,p);return l=void 0,t}}"string"!=typeof i&&(i=i.toString());var p=0;for(t&&(i=t+i,p+=t.length,t=null);p<i.length;p++){var h=i.charCodeAt(p);switch(u){case 0:if(60===h){var d=f();d&&this.emit("text",o(d)),u=3,l=p+1,n={}}break;case 9:if(93===h&&"]>"===i.substr(p+1,2)){var g=f();g&&this.emit("text",g),u=1}break;case 3:47===h&&l===p?(l=p+1,r=!0):33===h?"[CDATA["===i.substr(p+1,7)?(l=p+8,u=9):(l=void 0,u=1):63===h?(l=void 0,u=2):(h<=32||47===h||62===h)&&(e=f(),p--,u=4);break;case 1:if(62===h){var m=i.charCodeAt(p-1),v=i.charCodeAt(p-2);(45===m&&45===v||93===m&&93===v)&&(u=0)}break;case 2:if(62===h){63===i.charCodeAt(p-1)&&(u=0)}break;case 4:62===h?(this._handleTagOpening(r,e,n),e=void 0,n=void 0,r=void 0,s=void 0,u=0,l=p+1):47===h?s=!0:h>32&&(l=p,u=5);break;case 5:(h<=32||61===h)&&(c=f(),p--,u=6);break;case 6:61===h&&(u=7);break;case 7:34!==h&&39!==h||(a=h,u=8,l=p+1);break;case 8:if(h===a){var y=o(f());n[c]=y,c=void 0,u=4}}}"number"==typeof l&&l<=i.length&&(t=i.slice(l),l=0)}};r(s,i),s.prototype.end=function(t){t&&this.write(t),this.write=function(){}}},{"../escape":477,events:409,inherits:421}],481:[function(t,e,n){"use strict";var r=t("inherits"),i=t("events").EventEmitter,o=t("sax"),s=e.exports=function(){i.call(this),this.parser=o.parser(!0);var t=this;this.parser.onopentag=function(e){t.emit("startElement",e.name,e.attributes)},this.parser.onclosetag=function(e){t.emit("endElement",e)},this.parser.ontext=function(e){t.emit("text",e)},this.parser.onend=function(){t.emit("end")},this.parser.onerror=function(e){t.emit("error",e)}};r(s,i),s.prototype.write=function(t){"string"!=typeof t&&(t=t.toString()),this.parser.write(t)},s.prototype.end=function(t){t&&this.parser.write(t),this.parser.close()}},{events:409,inherits:421,sax:516}],482:[function(t,e,n){"use strict";function r(t,e,n){"number"==typeof e&&(e=" ".repeat(e)),n||(n=1);var i="";return i+="<"+t.name,Object.keys(t.attrs).forEach(function(e){i+=" "+e+'="'+t.attrs[e]+'"'}),t.children.length?(i+=">",t.children.forEach(function(t,o){e&&(i+="\n"+e.repeat(n)),i+="string"==typeof t?t:r(t,e,n+1)}),e&&(i+="\n"+e.repeat(n-1)),i+="</"+t.name+">"):i+="/>",i}e.exports=r},{}],483:[function(t,e,n){"use strict";var r=t("./tagString"),i=t("./parse");e.exports=function(){return i(r.apply(null,arguments))}},{"./parse":479,"./tagString":484}],484:[function(t,e,n){"use strict";var r=t("./escape").escapeXML;e.exports=function(){for(var t=arguments[0],e="",n=1;n<arguments.length;n++)e+=t[n-1],e+=r(arguments[n]);return e+=t[t.length-1]}},{"./escape":477}],485:[function(t,e,n){(function(n){"use strict";function r(){l.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function i(t,e){return t<<e|t>>>32-e}function o(t,e,n,r,o,s,a){return i(t+(e&n|~e&r)+o+s|0,a)+e|0}function s(t,e,n,r,o,s,a){return i(t+(e&r|n&~r)+o+s|0,a)+e|0}function a(t,e,n,r,o,s,a){return i(t+(e^n^r)+o+s|0,a)+e|0}function c(t,e,n,r,o,s,a){return i(t+(n^(e|~r))+o+s|0,a)+e|0}var u=t("inherits"),l=t("hash-base"),f=new Array(16);u(r,l),r.prototype._update=function(){for(var t=f,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,r=this._b,i=this._c,u=this._d;n=o(n,r,i,u,t[0],3614090360,7),u=o(u,n,r,i,t[1],3905402710,12),i=o(i,u,n,r,t[2],606105819,17),r=o(r,i,u,n,t[3],3250441966,22),n=o(n,r,i,u,t[4],4118548399,7),u=o(u,n,r,i,t[5],1200080426,12),i=o(i,u,n,r,t[6],2821735955,17),r=o(r,i,u,n,t[7],4249261313,22),n=o(n,r,i,u,t[8],1770035416,7),u=o(u,n,r,i,t[9],2336552879,12),i=o(i,u,n,r,t[10],4294925233,17),r=o(r,i,u,n,t[11],2304563134,22),n=o(n,r,i,u,t[12],1804603682,7),u=o(u,n,r,i,t[13],4254626195,12),i=o(i,u,n,r,t[14],2792965006,17),r=o(r,i,u,n,t[15],1236535329,22),n=s(n,r,i,u,t[1],4129170786,5),u=s(u,n,r,i,t[6],3225465664,9),i=s(i,u,n,r,t[11],643717713,14),r=s(r,i,u,n,t[0],3921069994,20),n=s(n,r,i,u,t[5],3593408605,5),u=s(u,n,r,i,t[10],38016083,9),i=s(i,u,n,r,t[15],3634488961,14),r=s(r,i,u,n,t[4],3889429448,20),n=s(n,r,i,u,t[9],568446438,5),u=s(u,n,r,i,t[14],3275163606,9),i=s(i,u,n,r,t[3],4107603335,14),r=s(r,i,u,n,t[8],1163531501,20),n=s(n,r,i,u,t[13],2850285829,5),u=s(u,n,r,i,t[2],4243563512,9),i=s(i,u,n,r,t[7],1735328473,14),r=s(r,i,u,n,t[12],2368359562,20),n=a(n,r,i,u,t[5],4294588738,4),u=a(u,n,r,i,t[8],2272392833,11),i=a(i,u,n,r,t[11],1839030562,16),r=a(r,i,u,n,t[14],4259657740,23),n=a(n,r,i,u,t[1],2763975236,4),u=a(u,n,r,i,t[4],1272893353,11),i=a(i,u,n,r,t[7],4139469664,16),r=a(r,i,u,n,t[10],3200236656,23),n=a(n,r,i,u,t[13],681279174,4),u=a(u,n,r,i,t[0],3936430074,11),i=a(i,u,n,r,t[3],3572445317,16),r=a(r,i,u,n,t[6],76029189,23),n=a(n,r,i,u,t[9],3654602809,4),u=a(u,n,r,i,t[12],3873151461,11),i=a(i,u,n,r,t[15],530742520,16),r=a(r,i,u,n,t[2],3299628645,23),n=c(n,r,i,u,t[0],4096336452,6),u=c(u,n,r,i,t[7],1126891415,10),i=c(i,u,n,r,t[14],2878612391,15),r=c(r,i,u,n,t[5],4237533241,21),n=c(n,r,i,u,t[12],1700485571,6),u=c(u,n,r,i,t[3],2399980690,10),i=c(i,u,n,r,t[10],4293915773,15),r=c(r,i,u,n,t[1],2240044497,21),n=c(n,r,i,u,t[8],1873313359,6),u=c(u,n,r,i,t[15],4264355552,10),i=c(i,u,n,r,t[6],2734768916,15),r=c(r,i,u,n,t[13],1309151649,21),n=c(n,r,i,u,t[4],4149444226,6),u=c(u,n,r,i,t[11],3174756917,10),i=c(i,u,n,r,t[2],718787259,15),r=c(r,i,u,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+u|0},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new n(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},e.exports=r}).call(this,t("buffer").Buffer)},{buffer:59,"hash-base":416,inherits:421}],486:[function(t,e,n){function r(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*p;case"days":case"day":case"d":return n*f;case"hours":case"hour":case"hrs":case"hr":case"h":return n*l;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function i(t){return t>=f?Math.round(t/f)+"d":t>=l?Math.round(t/l)+"h":t>=u?Math.round(t/u)+"m":t>=c?Math.round(t/c)+"s":t+"ms"}function o(t){return s(t,f,"day")||s(t,l,"hour")||s(t,u,"minute")||s(t,c,"second")||t+" ms"}function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=1e3,u=60*c,l=60*u,f=24*l,p=365.25*f;e.exports=function(t,e){e=e||{};var n=void 0===t?"undefined":a(t);if("string"===n&&t.length>0)return r(t);if("number"===n&&!1===isNaN(t))return e.long?o(t):i(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},{}],487:[function(t,e,n){"use strict";var r=t("./lib/Connection"),i=t("@xmpp/streamparser"),o=t("@xmpp/jid"),s=t("@xmpp/xml"),a=t("inherits");n.SRV=t("./lib/SRV"),n.exportCoreUtils=function(t){t.Connection=r,t.StreamParser=i,t.JID=o,t.inherits=a,t.stanza=s,t.Stanza=s.Stanza,t.createStanza=s.createStanza,t.IQ=s.IQ,t.Presence=s.Presence,t.Message=s.Message,t.Parser=s.Parser,t.parse=s.parse,t.ltx=s.ltx,t.createElement=s.createElement,t.Element=s.Element,t.escapeXML=s.escapeXML,t.escapeXMLText=s.escapeXMLText},n.exportCoreUtils(n)},{"./lib/Connection":488,"./lib/SRV":56,"@xmpp/jid":25,"@xmpp/streamparser":29,"@xmpp/xml":30,inherits:421}],488:[function(t,e,n){"use strict";function r(t,e){var n=d({},e);return n.initialDelay=e&&(e.initialReconnectDelay||e.reconnectDelay)||v,n.maxDelay=e&&e.maxReconnectDelay||y,n.immediate=e&&e.socket&&"function"!=typeof e.socket,n.type=e&&e.delayType,n.emitter=t,n}function i(t){a.call(this),this.streamAttrs=t&&t.streamAttrs||{},this.xmlns=t&&t.xmlns||{},this.xmlns.stream=g,this.streamOpen=t&&t.streamOpen||_,this.streamClose=t&&t.streamClose||b,this.rejectUnauthorized=!(!t||!t.rejectUnauthorized),this.serialized=!(!t||!t.serialized),this.requestCert=!(!t||!t.requestCert),this.servername=t&&t.servername,this.boundOnData=this.onData.bind(this),this.boundOnClose=this.onClose.bind(this),this.boundEmitData=this.emit.bind(this,"data"),this.boundEmitDrain=this.emit.bind(this,"drain"),this._setupSocket(r(this,t)),this.once("reconnect",function(){this.reconnect=t&&t.reconnect})}function o(t){return t.children?t.children.reduce(function(t,e){return t+o(e)},""):t}var s=t("net"),a=t("events").EventEmitter,c=t("inherits"),u=t("@xmpp/xml").Element,l=t("reconnect-core"),f=t("@xmpp/streamparser"),p=t("node-xmpp-tls-connect"),h=t("debug")("xmpp:connection"),d=t("lodash.assign"),g="http://etherx.jabber.org/streams",m="urn:ietf:params:xml:ns:xmpp-streams",v=1e3,y=3e4,_="stream:stream",b="</stream:stream>";c(i,a),i.prototype.NS_XMPP_TLS="urn:ietf:params:xml:ns:xmpp-tls",i.NS_STREAM=g,i.prototype.NS_XMPP_STREAMS=m,i.prototype.allowTLS=!0,i.prototype._setupSocket=function(t){h("setup socket");var e={},n=l(function(t){var r=this.socket;return"on"===t.preserve?(t.preserve=e,e=t):t=e=t.preserve?t.preserve:t||e,"function"==typeof t.socket?(h("use lazy socket"),this.socket=t.socket.call(this)):(h("use standard socket"),this.socket=t.socket,t.socket=null,this.socket&&this.once("connect",function(){n.options.immediate=!1})),this.socket=this.socket||new s.Socket,r!==this.socket&&this.setupStream(),this.socket}.bind(this));n(n.options=t);var r=this.end;this.end=this.disconnect=function(){this.closeStream(),r()},this.on("connection",function(){this.parser||this.startParser()}),this.on("end",function(){e={}})},i.prototype.setupStream=function(){h("setup stream"),this.socket.on("end",this.onEnd.bind(this)),this.socket.on("data",this.boundOnData),this.socket.on("close",this.boundOnClose),this.socket.on("data",this.boundEmitData),this.socket.on("drain",this.boundEmitDrain),this.socket.on("error",function(){}),this.socket.serializeStanza||(this.serialized?this.socket.serializeStanza=function(t,e){t.write(function(t){e(t)})}:this.socket.serializeStanza=function(t,e){e(t.toString())})},i.prototype.pause=function(){this.socket.pause&&this.socket.pause()},i.prototype.resume=function(){this.socket.resume&&this.socket.resume()},i.prototype.send=function(t){if(this.socket&&this.streamOpened){if(!this.socket.writable)return void this.socket.end();h("send: "+t.toString());var e=!0;if(t.root){var n=this.rmXmlns(t.root());this.socket.serializeStanza(n,function(t){e=this.write(t)}.bind(this.socket))}else e=this.socket.write(t);return e}},i.prototype.startParser=function(){var t=this;this.parser=new f(this.maxStanzaSize),this.parser.on("streamStart",function(e){t.streamNsAttrs={};for(var n in e)"xmlns"!==n&&"xmlns:"!==n.substr(0,6)||(t.streamNsAttrs[n]=e[n]);t.emit("streamStart",e)}),this.parser.on("stanza",function(e){t.onStanza(t.addStreamNs(e))}),this.parser.on("error",function(e){t.error(e.condition||"internal-server-error",e.message)}),this.parser.once("end",function(){t.stopParser(),t.reconnect?t.once("reconnect",t.startParser.bind(t)):t.end()})},i.prototype.stopParser=function(){if(this.parser){var t=this.parser;this.parser=null,t.end()}},i.prototype.openStream=function(){var t={};for(var e in this.xmlns)this.xmlns.hasOwnProperty(e)&&(e?t["xmlns:"+e]=this.xmlns[e]:t.xmlns=this.xmlns[e]);for(e in this.streamAttrs)this.streamAttrs.hasOwnProperty(e)&&(t[e]=this.streamAttrs[e]);this.streamTo&&(t.to=this.streamTo);var n,r=new u(this.streamOpen,t);if("stream:stream"===r.name){r.t(" ");var i=r.toString();n=i.substr(0,i.indexOf(" </stream:stream>"))}else n=r.toString();this.streamOpened=!0,this.send(n)},i.prototype.startStream=i.prototype.openStream,i.prototype.closeStream=function(){this.send(this.streamClose),this.streamOpened=!1},i.prototype.endStream=i.prototype.closeStream,i.prototype.onData=function(t){h("receive: "+t.toString("utf8")),this.parser&&this.parser.write(t)},i.prototype.setSecure=function(t,e,n){this.socket.removeListener("data",this.boundOnData),this.socket.removeListener("data",this.boundEmitData),this.socket.removeListener("drain",this.boundEmitDrain),this.socket.removeListener("close",this.boundOnClose),this.socket.clearTimer&&this.socket.clearTimer();var r=p({socket:this.socket,rejectUnauthorized:this.rejectUnauthorized,credentials:t||this.credentials,requestCert:this.requestCert,isServer:!!e,servername:e&&n},function(){this.isSecure=!0,this.once("disconnect",function(){this.isSecure=!1}),r.emit("connect",r)}.bind(this));r.on("clientError",this.emit.bind(this,"error")),this.reconnect||(this.reconnect=!0,this.once("reconnect",function(){this.reconnect=!1})),this.stopParser(),this.listen({socket:r,preserve:"on"})},i.prototype.onStanza=function(t){if(t.is("error",g)){var e=new Error(""+o(t));e.stanza=t,this.socket.emit("error",e)}else t.is("features",this.NS_STREAM)&&this.allowTLS&&!this.isSecure&&t.getChild("starttls",this.NS_XMPP_TLS)?this.send(new u("starttls",{xmlns:this.NS_XMPP_TLS})):this.allowTLS&&t.is("proceed",this.NS_XMPP_TLS)?this.setSecure():this.emit("stanza",t)},i.prototype.addStreamNs=function(t){for(var e in this.streamNsAttrs)t.attrs[e]||"xmlns"===e&&this.streamNsAttrs[e]===this.xmlns[""]||(t.attrs[e]=this.streamNsAttrs[e]);return t},i.prototype.rmXmlns=function(t){for(var e in this.xmlns){var n=e?"xmlns:"+e:"xmlns";t.attrs[n]===this.xmlns[e]&&(t.attrs[n]=null)}return t},i.prototype.onEnd=function(){this.closeStream(),this.reconnect||this.emit("end")},i.prototype.onClose=function(){this.reconnect||this.emit("close")},i.prototype.error=function(t,e){if(this.emit("error",new Error(e)),this.socket&&this.socket.writable){this.streamOpened||this.openStream();var n=new u("stream:error");n.c(t,{xmlns:m}),e&&n.c("text",{xmlns:m,"xml:lang":"en"}).t(e),this.send(n),this.end()}},e.exports=i},{"@xmpp/streamparser":29,"@xmpp/xml":30,debug:393,events:409,inherits:421,"lodash.assign":463,net:57,"node-xmpp-tls-connect":56,"reconnect-core":509}],489:[function(t,e,n){n.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},n.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},{}],490:[function(t,e,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){var e=t,n=t.indexOf("["),o=t.indexOf("]");-1!=n&&-1!=o&&(t=t.substring(0,n)+t.substring(n,o).replace(/:/g,";")+t.substring(o,t.length));for(var s=r.exec(t||""),a={},c=14;c--;)a[i[c]]=s[c]||"";return-1!=n&&-1!=o&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],491:[function(t,e,n){(function(t){"use strict";function n(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:n}:e.exports=t}).call(this,t("_process"))},{_process:492}],492:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function s(t){if(p===clearTimeout)return clearTimeout(t);if((p===i||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function a(){m&&d&&(m=!1,d.length?g=d.concat(g):v=-1,g.length&&c())}function c(){if(!m){var t=o(a);m=!0;for(var e=g.length;e;){for(d=g,g=[];++v<e;)d&&d[v].run();v=-1,e=g.length}d=null,m=!1,s(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var f,p,h=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{p="function"==typeof clearTimeout?clearTimeout:i}catch(t){p=i}}();var d,g=[],m=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];g.push(new u(t,e)),1!==g.length||m||o(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],493:[function(t,e,n){(function(n){"pseudomap"===n.env.npm_package_name&&"test"===n.env.npm_lifecycle_script&&(n.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||n.env.TEST_PSEUDOMAP?e.exports=t("./pseudomap"):e.exports=Map}).call(this,t("_process"))},{"./pseudomap":494,_process:492}],494:[function(t,e,n){function r(t){if(!(this instanceof r))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),t)if(t instanceof r||"function"==typeof Map&&t instanceof Map)t.forEach(function(t,e){this.set(e,t)},this);else{if(!Array.isArray(t))throw new TypeError("invalid argument");t.forEach(function(t){this.set(t[0],t[1])},this)}}function i(t,e){return t===e||t!==t&&e!==e}function o(t,e,n){this.key=t,this.value=e,this._index=n}function s(t,e){for(var n=0,r="_"+e,o=r;c.call(t,o);o=r+n++)if(i(t[o].key,e))return t[o]}function a(t,e,n){for(var r=0,s="_"+e,a=s;c.call(t,a);a=s+r++)if(i(t[a].key,e))return void(t[a].value=n);t.size++,t[a]=new o(e,n,a)}var c=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.forEach=function(t,e){e=e||this,Object.keys(this._data).forEach(function(n){"size"!==n&&t.call(e,this._data[n].value,this._data[n].key)},this)},r.prototype.has=function(t){return!!s(this._data,t)},r.prototype.get=function(t){var e=s(this._data,t);return e&&e.value},r.prototype.set=function(t,e){a(this._data,t,e)},r.prototype.delete=function(t){var e=s(this._data,t);e&&(delete this._data[e._index],this._data.size--)},r.prototype.clear=function(){var t=Object.create(null);t.size=0,Object.defineProperty(this,"_data",{value:t,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(r.prototype,"size",{get:function(){return this._data.size},set:function(t){},enumerable:!0,configurable:!0}),r.prototype.values=r.prototype.keys=r.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},{}],495:[function(e,n,r){(function(e){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o){function s(t){throw new RangeError(N[t])}function a(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function c(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(D,"."),r+a(t.split("."),e).join(".")}function u(t){for(var e,n,r=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function l(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=F(t>>>10&1023|55296),t=56320|1023&t),e+=F(t)}).join("")}function f(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:j}function p(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function h(t,e,n){var r=0;for(t=n?M(t/T):t>>1,t+=M(t/e);t>L*k>>1;r+=j)t=M(t/L);return M(r+(L+1)*t/(t+C))}function d(t){var e,n,r,i,o,a,c,u,p,d,g=[],m=t.length,v=0,y=A,_=O;for(n=t.lastIndexOf(R),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&s("not-basic"),g.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(o=v,a=1,c=j;i>=m&&s("invalid-input"),u=f(t.charCodeAt(i++)),(u>=j||u>M((S-v)/a))&&s("overflow"),v+=u*a,p=c<=_?E:c>=_+k?k:c-_,!(u<p);c+=j)d=j-p,a>M(S/d)&&s("overflow"),a*=d;e=g.length+1,_=h(v-o,e,0==o),M(v/e)>S-y&&s("overflow"),y+=M(v/e),v%=e,g.splice(v++,0,y)}return l(g)}function g(t){var e,n,r,i,o,a,c,l,f,d,g,m,v,y,_,b=[];for(t=u(t),m=t.length,e=A,n=0,o=O,a=0;a<m;++a)(g=t[a])<128&&b.push(F(g));for(r=i=b.length,i&&b.push(R);r<m;){for(c=S,a=0;a<m;++a)(g=t[a])>=e&&g<c&&(c=g);for(v=r+1,c-e>M((S-n)/v)&&s("overflow"),n+=(c-e)*v,e=c,a=0;a<m;++a)if(g=t[a],g<e&&++n>S&&s("overflow"),g==e){for(l=n,f=j;d=f<=o?E:f>=o+k?k:f-o,!(l<d);f+=j)_=l-d,y=j-d,b.push(F(p(d+_%y,0))),l=M(_/y);b.push(F(p(l,0))),o=h(n,v,r==i),n=0,++r}++n,++e}return b.join("")}function m(t){return c(t,function(t){return I.test(t)?d(t.slice(4).toLowerCase()):t})}function v(t){return c(t,function(t){return P.test(t)?"xn--"+g(t):t})}var y="object"==(void 0===r?"undefined":i(r))&&r&&!r.nodeType&&r,_="object"==(void 0===n?"undefined":i(n))&&n&&!n.nodeType&&n,b="object"==(void 0===e?"undefined":i(e))&&e;b.global!==b&&b.window!==b&&b.self!==b||(o=b);var w,x,S=2147483647,j=36,E=1,k=26,C=38,T=700,O=72,A=128,R="-",I=/^xn--/,P=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=j-E,M=Math.floor,F=String.fromCharCode;if(w={version:"1.4.1",ucs2:{decode:u,encode:l},decode:d,encode:g,toASCII:v,toUnicode:m},"function"==typeof t&&"object"==i(t.amd)&&t.amd)t("punycode",function(){return w});else if(y&&_)if(n.exports==y)_.exports=w;else for(x in w)w.hasOwnProperty(x)&&(y[x]=w[x]);else o.punycode=w}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],496:[function(t,e,n){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":497}],497:[function(t,e,n){"use strict";function r(t){
if(!(this instanceof r))return new r(t);u.call(this,t),l.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||s.nextTick(o,this)}function o(t){t.end()}var s=t("process-nextick-args"),a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};e.exports=r;var c=t("core-util-is");c.inherits=t("inherits");var u=t("./_stream_readable"),l=t("./_stream_writable");c.inherits(r,u);for(var f=a(l.prototype),p=0;p<f.length;p++){var h=f[p];r.prototype[h]||(r.prototype[h]=l.prototype[h])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),r.prototype._destroy=function(t,e){this.push(null),this.end(),s.nextTick(e,t)}},{"./_stream_readable":499,"./_stream_writable":501,"core-util-is":388,inherits:421,"process-nextick-args":491}],498:[function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}e.exports=r;var i=t("./_stream_transform"),o=t("core-util-is");o.inherits=t("inherits"),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":500,"core-util-is":388,inherits:421}],499:[function(t,e,n){(function(n,r){"use strict";function i(t){return M.from(t)}function o(t){return M.isBuffer(t)||t instanceof F}function s(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?D(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function a(e,n){P=P||t("./_stream_duplex"),e=e||{};var r=n instanceof P;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new W,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(q||(q=t("string_decoder/").StringDecoder),this.decoder=new q(e.encoding),this.encoding=e.encoding)}function c(e){if(P=P||t("./_stream_duplex"),!(this instanceof c))return new c(e);this._readableState=new a(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),L.call(this)}function u(t,e,n,r,o){var s=t._readableState;if(null===e)s.reading=!1,g(t,s);else{var a;o||(a=f(s,e)),a?t.emit("error",a):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===M.prototype||(e=i(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):l(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?l(t,s,e,!1):y(t,s)):l(t,s,e,!1))):r||(s.reading=!1)}return p(s)}function l(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&m(t)),y(t,e)}function f(t,e){var n;return o(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function p(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function h(t){return t>=H?t=H:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function d(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=h(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function g(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,m(t)}}function m(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(U("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?I.nextTick(v,t):v(t))}function v(t){U("emit readable"),t.emit("readable"),j(t)}function y(t,e){e.readingMore||(e.readingMore=!0,I.nextTick(_,t,e))}function _(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(U("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function b(t){return function(){var e=t._readableState;U("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&N(t,"data")&&(e.flowing=!0,j(t))}}function w(t){U("readable nexttick read 0"),t.read(0)}function x(t,e){e.resumeScheduled||(e.resumeScheduled=!0,I.nextTick(S,t,e))}function S(t,e){e.reading||(U("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),j(t),e.flowing&&!e.reading&&t.read(0)}function j(t){var e=t._readableState;for(U("flow",e.flowing);e.flowing&&null!==t.read(););}function E(t,e){if(0===e.length)return null;var n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=k(t,e.buffer,e.decoder),n}function k(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?C(t,e):T(t,e),r}function C(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}function T(t,e){var n=M.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}function O(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,I.nextTick(A,e,t))}function A(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function R(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}var I=t("process-nextick-args");e.exports=c;var P,D=t("isarray");c.ReadableState=a;var N=(t("events").EventEmitter,function(t,e){return t.listeners(e).length}),L=t("./internal/streams/stream"),M=t("safe-buffer").Buffer,F=r.Uint8Array||function(){},B=t("core-util-is");B.inherits=t("inherits");var z=t("util"),U=void 0;U=z&&z.debuglog?z.debuglog("stream"):function(){};var q,W=t("./internal/streams/BufferList"),J=t("./internal/streams/destroy");B.inherits(c,L);var V=["error","close","destroy","pause","resume"];Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),c.prototype.destroy=J.destroy,c.prototype._undestroy=J.undestroy,c.prototype._destroy=function(t,e){this.push(null),e(t)},c.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=M.from(t,e),e=""),n=!0),u(this,t,e,!1,n)},c.prototype.unshift=function(t){return u(this,t,null,!0,!1)},c.prototype.isPaused=function(){return!1===this._readableState.flowing},c.prototype.setEncoding=function(e){return q||(q=t("string_decoder/").StringDecoder),this._readableState.decoder=new q(e),this._readableState.encoding=e,this};var H=8388608;c.prototype.read=function(t){U("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return U("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?O(this):m(this),null;if(0===(t=d(t,e))&&e.ended)return 0===e.length&&O(this),null;var r=e.needReadable;U("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,U("length less than watermark",r)),e.ended||e.reading?(r=!1,U("reading or ended",r)):r&&(U("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=d(n,e)));var i;return i=t>0?E(t,e):null,null===i?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&O(this)),null!==i&&this.emit("data",i),i},c.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},c.prototype.pipe=function(t,e){function r(t,e){U("onunpipe"),t===p&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,o())}function i(){U("onend"),t.end()}function o(){U("cleanup"),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("drain",m),t.removeListener("error",c),t.removeListener("unpipe",r),p.removeListener("end",i),p.removeListener("end",f),p.removeListener("data",a),v=!0,!h.awaitDrain||t._writableState&&!t._writableState.needDrain||m()}function a(e){U("ondata"),y=!1,!1!==t.write(e)||y||((1===h.pipesCount&&h.pipes===t||h.pipesCount>1&&-1!==R(h.pipes,t))&&!v&&(U("false write response, pause",p._readableState.awaitDrain),p._readableState.awaitDrain++,y=!0),p.pause())}function c(e){U("onerror",e),f(),t.removeListener("error",c),0===N(t,"error")&&t.emit("error",e)}function u(){t.removeListener("finish",l),f()}function l(){U("onfinish"),t.removeListener("close",u),f()}function f(){U("unpipe"),p.unpipe(t)}var p=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=t;break;case 1:h.pipes=[h.pipes,t];break;default:h.pipes.push(t)}h.pipesCount+=1,U("pipe count=%d opts=%j",h.pipesCount,e);var d=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr,g=d?i:f;h.endEmitted?I.nextTick(g):p.once("end",g),t.on("unpipe",r);var m=b(p);t.on("drain",m);var v=!1,y=!1;return p.on("data",a),s(t,"error",c),t.once("close",u),t.once("finish",l),t.emit("pipe",p),h.flowing||(U("pipe resume"),p.resume()),t},c.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=R(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},c.prototype.on=function(t,e){var n=L.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&m(this):I.nextTick(w,this))}return n},c.prototype.addListener=c.prototype.on,c.prototype.resume=function(){var t=this._readableState;return t.flowing||(U("resume"),t.flowing=!0,x(this,t)),this},c.prototype.pause=function(){return U("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(U("pause"),this._readableState.flowing=!1,this.emit("pause")),this},c.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;t.on("end",function(){if(U("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){if(U("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)){e.push(i)||(r=!0,t.pause())}});for(var i in t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<V.length;o++)t.on(V[o],this.emit.bind(this,V[o]));return this._read=function(e){U("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(c.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),c._fromList=E}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":497,"./internal/streams/BufferList":502,"./internal/streams/destroy":503,"./internal/streams/stream":504,_process:492,"core-util-is":388,events:409,inherits:421,isarray:425,"process-nextick-args":491,"safe-buffer":515,"string_decoder/":546,util:56}],500:[function(t,e,n){"use strict";function r(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(t){if(!(this instanceof i))return new i(t);a.call(this,t),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",o)}function o(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){s(t,e,n)}):s(this,null,null)}function s(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}e.exports=i;var a=t("./_stream_duplex"),c=t("core-util-is");c.inherits=t("inherits"),c.inherits(i,a),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},i.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},i.prototype._destroy=function(t,e){var n=this;a.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},{"./_stream_duplex":497,"core-util-is":388,inherits:421}],501:[function(t,e,n){(function(n,r){"use strict";function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){k(e,t)}}function o(t){return P.from(t)}function s(t){return P.isBuffer(t)||t instanceof D}function a(){}function c(e,n){T=T||t("./_stream_duplex"),e=e||{};var r=n instanceof T;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var o=e.highWaterMark,s=e.writableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){v(n,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function u(e){if(T=T||t("./_stream_duplex"),!(L.call(u,this)||this instanceof T))return new u(e);this._writableState=new c(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),I.call(this)}function l(t,e){var n=new Error("write after end");t.emit("error",n),C.nextTick(e,n)}function f(t,e,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),C.nextTick(r,o),i=!1),i}function p(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=P.from(e,n)),e}function h(t,e,n,r,i,o){if(!n){var s=p(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else d(t,e,!1,a,r,i,o);return c}function d(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function g(t,e,n,r,i){--e.pendingcb,n?(C.nextTick(i,r),C.nextTick(j,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),j(t,e))}function m(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function v(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(m(n),e)g(t,n,r,e,i);else{var o=w(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||b(t,n),r?O(y,t,n,o,i):y(t,n,o,i)}}function y(t,e,n,r){n||_(t,e),e.pendingcb--,r(),j(t,e)}function _(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function b(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,d(t,e,!0,e.length,o,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(d(t,e,!1,e.objectMode?1:u.length,u,l,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function x(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),j(t,e)})}function S(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,C.nextTick(x,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function j(t,e){var n=w(e);return n&&(S(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}function E(t,e,n){e.ending=!0,j(t,e),n&&(e.finished?C.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function k(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}var C=t("process-nextick-args");e.exports=u;var T,O=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:C.nextTick;u.WritableState=c;var A=t("core-util-is");A.inherits=t("inherits");var R={deprecate:t("util-deprecate")},I=t("./internal/streams/stream"),P=t("safe-buffer").Buffer,D=r.Uint8Array||function(){},N=t("./internal/streams/destroy");A.inherits(u,I),c.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(c.prototype,"buffer",{get:R.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}();var L;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(u,Symbol.hasInstance,{value:function(t){return!!L.call(this,t)||this===u&&(t&&t._writableState instanceof c)}})):L=function(t){return t instanceof this},u.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},u.prototype.write=function(t,e,n){var r=this._writableState,i=!1,c=!r.objectMode&&s(t);return c&&!P.isBuffer(t)&&(t=o(t)),"function"==typeof e&&(n=e,e=null),c?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=a),r.ended?l(this,n):(c||f(this,r,t,n))&&(r.pendingcb++,i=h(this,r,c,t,e,n)),i},u.prototype.cork=function(){this._writableState.corked++},u.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||b(this,t))},u.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),u.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},u.prototype._writev=null,u.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||E(this,r,n)},Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),u.prototype.destroy=N.destroy,u.prototype._undestroy=N.undestroy,u.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":497,"./internal/streams/destroy":503,"./internal/streams/stream":504,_process:492,"core-util-is":388,inherits:421,"process-nextick-args":491,"safe-buffer":515,"util-deprecate":618}],502:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){t.copy(e,n)}var o=t("safe-buffer").Buffer,s=t("util");e.exports=function(){function t(){r(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var e=o.allocUnsafe(t>>>0),n=this.head,r=0;n;)i(n.data,e,r),r+=n.data.length,n=n.next;return e},t}(),s&&s.inspect&&s.inspect.custom&&(e.exports.prototype[s.inspect.custom]=function(){var t=s.inspect({length:this.length});return this.constructor.name+" "+t})},{"safe-buffer":515,util:56}],503:[function(t,e,n){"use strict";function r(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||s.nextTick(o,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(s.nextTick(o,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(t,e){t.emit("error",e)}var s=t("process-nextick-args");e.exports={destroy:r,undestroy:i}},{"process-nextick-args":491}],504:[function(t,e,n){e.exports=t("events").EventEmitter},{events:409}],505:[function(t,e,n){e.exports=t("./readable").PassThrough},{"./readable":506}],506:[function(t,e,n){n=e.exports=t("./lib/_stream_readable.js"),n.Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":497,"./lib/_stream_passthrough.js":498,"./lib/_stream_readable.js":499,"./lib/_stream_transform.js":500,"./lib/_stream_writable.js":501}],507:[function(t,e,n){e.exports=t("./readable").Transform},{"./readable":506}],508:[function(t,e,n){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":501}],509:[function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("events").EventEmitter,o=t("backoff"),s=function(){};e.exports=function(t){return function(e,n){function a(r,i){function o(t){f=s,h.removeListener("connect",p),h.removeListener("error",a),h.removeListener("close",a),h.removeListener("end",a),"Request"==h.constructor.name&&h.on("error",s)}function a(t){if(c.connected=!1,o(t),c.emit("disconnect",t),c.reconnect)try{u.backoff()}catch(t){}}function p(){u.reset(),c.connected=!0,n&&h.removeListener("connect",n),c.emit("connect",h)}if(c.reconnect){f(),c.emit("reconnect",r,i);var h=t.apply(null,l);h!==c._connection&&c.emit("connection",h),c._connection=h,f=o,h.on("error",a).on("close",a).on("end",a),e.immediate||"Request"==h.constructor.name?(c.connected=!0,c.emit("connect",h),h.once("data",function(){u.reset()})):h.on("connect",p)}}n="function"==typeof e?e:n,e="object"==(void 0===e?"undefined":r(e))?e:{initialDelay:1e3,maxDelay:3e4},n||(n=e.onConnect);var c=e.emitter||new i;c.connected=!1,c.reconnect=!0,n&&c.on("connect",n);var u=(o[e.type]||o.fibonacci)(e);u.on("backoff",function(t,e){c.emit("backoff",t,e)});var l,f=s;return u.on("ready",a),c.connect=c.listen=function(){return this.reconnect=!0,u.reset(),l=[].slice.call(arguments),a(0,0),c},c.end=c.disconnect=function(){return c.reconnect=!1,c._connection&&c._connection.end(),c.emit("disconnect"),c},c}}},{backoff:46,events:409}],510:[function(t,e,n){e.exports=t("./lib/retry")},{"./lib/retry":511}],511:[function(t,e,n){var r=t("./retry_operation");n.operation=function(t){var e=n.timeouts(t);return new r(e,{forever:t&&t.forever,unref:t&&t.unref})},n.timeouts=function(t){if(t instanceof Array)return[].concat(t);var e={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in t)e[n]=t[n];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<e.retries;i++)r.push(this.createTimeout(i,e));return t&&t.forever&&!r.length&&r.push(this.createTimeout(i,e)),r.sort(function(t,e){return t-e}),r},n.createTimeout=function(t,e){var n=e.randomize?Math.random()+1:1,r=Math.round(n*e.minTimeout*Math.pow(e.factor,t));return r=Math.min(r,e.maxTimeout)},n.wrap=function(t,e,r){if(e instanceof Array&&(r=e,e=null),!r){r=[];for(var i in t)"function"==typeof t[i]&&r.push(i)}for(var o=0;o<r.length;o++){var s=r[o],a=t[s];t[s]=function(){var r=n.operation(e),i=Array.prototype.slice.call(arguments),o=i.pop();i.push(function(t){r.retry(t)||(t&&(arguments[0]=r.mainError()),o.apply(this,arguments))}),r.attempt(function(){a.apply(t,i)})},t[s].options=e}}},{"./retry_operation":512}],512:[function(t,e,n){function r(t,e){"boolean"==typeof e&&(e={forever:e}),this._timeouts=t,this._options=e||{},this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=r,r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;this._errors.push(t);var e=this._timeouts.shift();if(void 0===e){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),e=this._timeouts.shift()}var n=this,r=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),this._options.unref&&n._timeout.unref()),n._fn(n._attempts)},e);return this._options.unref&&r.unref(),!0},r.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._fn(this._attempts)},r.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},r.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},r.prototype.start=r.prototype.try,r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(0===this._errors.length)return null;for(var t={},e=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,s=(t[o]||0)+1;t[o]=s,s>=n&&(e=i,n=s)}return e}},{}],513:[function(t,e,n){"use strict";function r(){p.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function i(t,e){return t<<e|t>>>32-e}function o(t,e,n,r,o,s,a,c){return i(t+(e^n^r)+s+a|0,c)+o|0}function s(t,e,n,r,o,s,a,c){return i(t+(e&n|~e&r)+s+a|0,c)+o|0}function a(t,e,n,r,o,s,a,c){return i(t+((e|~n)^r)+s+a|0,c)+o|0}function c(t,e,n,r,o,s,a,c){return i(t+(e&r|n&~r)+s+a|0,c)+o|0}function u(t,e,n,r,o,s,a,c){return i(t+(e^(n|~r))+s+a|0,c)+o|0}var l=t("buffer").Buffer,f=t("inherits"),p=t("hash-base"),h=new Array(16),d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],y=[0,1518500249,1859775393,2400959708,2840853838],_=[1352829926,1548603684,1836072691,2053994217,0];f(r,p),r.prototype._update=function(){for(var t=h,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,r=0|this._b,l=0|this._c,f=0|this._d,p=0|this._e,b=0|this._a,w=0|this._b,x=0|this._c,S=0|this._d,j=0|this._e,E=0;E<80;E+=1){var k,C;E<16?(k=o(n,r,l,f,p,t[d[E]],y[0],m[E]),C=u(b,w,x,S,j,t[g[E]],_[0],v[E])):E<32?(k=s(n,r,l,f,p,t[d[E]],y[1],m[E]),
C=c(b,w,x,S,j,t[g[E]],_[1],v[E])):E<48?(k=a(n,r,l,f,p,t[d[E]],y[2],m[E]),C=a(b,w,x,S,j,t[g[E]],_[2],v[E])):E<64?(k=c(n,r,l,f,p,t[d[E]],y[3],m[E]),C=s(b,w,x,S,j,t[g[E]],_[3],v[E])):(k=u(n,r,l,f,p,t[d[E]],y[4],m[E]),C=o(b,w,x,S,j,t[g[E]],_[4],v[E])),n=p,p=f,f=i(l,10),l=r,r=k,b=j,j=S,S=i(x,10),x=w,w=C}var T=this._b+l+S|0;this._b=this._c+f+j|0,this._c=this._d+p+b|0,this._d=this._e+n+w|0,this._e=this._a+r+x|0,this._a=T},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=l.alloc?l.alloc(20):new l(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},e.exports=r},{buffer:59,"hash-base":416,inherits:421}],514:[function(t,e,n){function r(t,e){var n,r=this;s.call(this),t=t||{},t.iceServers=t.iceServers||[],this.enableChromeNativeSimulcast=!1,e&&e.optional&&window.chrome&&null===navigator.appVersion.match(/Chromium\//)&&e.optional.forEach(function(t){t.enableChromeNativeSimulcast&&(r.enableChromeNativeSimulcast=!0)}),this.enableMultiStreamHacks=!1,e&&e.optional&&window.chrome&&e.optional.forEach(function(t){t.enableMultiStreamHacks&&(r.enableMultiStreamHacks=!0)}),this.restrictBandwidth=0,e&&e.optional&&e.optional.forEach(function(t){t.andyetRestrictBandwidth&&(r.restrictBandwidth=t.andyetRestrictBandwidth)}),this.batchIceCandidates=0,e&&e.optional&&e.optional.forEach(function(t){t.andyetBatchIce&&(r.batchIceCandidates=t.andyetBatchIce)}),this.batchedIceCandidates=[],e&&e.optional&&window.chrome&&e.optional.forEach(function(t){t.andyetFasterICE&&(r.eliminateDuplicateCandidates=t.andyetFasterICE)}),e&&e.optional&&e.optional.forEach(function(t){t.andyetDontSignalCandidates&&(r.dontSignalCandidates=t.andyetDontSignalCandidates)}),this.assumeSetLocalSuccess=!1,e&&e.optional&&e.optional.forEach(function(t){t.andyetAssumeSetLocalSuccess&&(r.assumeSetLocalSuccess=t.andyetAssumeSetLocalSuccess)}),window.navigator.mozGetUserMedia&&e&&e.optional&&(this.wtFirefox=0,e.optional.forEach(function(t){t.andyetFirefoxMakesMeSad&&(r.wtFirefox=t.andyetFirefoxMakesMeSad,r.wtFirefox>0&&(r.firefoxcandidatebuffer=[]))})),this.pc=new RTCPeerConnection(t,e),"function"==typeof this.pc.getLocalStreams?this.getLocalStreams=this.pc.getLocalStreams.bind(this.pc):this.getLocalStreams=function(){return[]},"function"==typeof this.pc.getSenders?this.getSenders=this.pc.getSenders.bind(this.pc):this.getSenders=function(){return[]},"function"==typeof this.pc.getRemoteStreams?this.getRemoteStreams=this.pc.getRemoteStreams.bind(this.pc):this.getRemoteStreams=function(){return[]},"function"==typeof this.pc.getReceivers?this.getReceivers=this.pc.getReceivers.bind(this.pc):this.getReceivers=function(){return[]},this.addStream=this.pc.addStream.bind(this.pc),this.removeStream=function(t){"function"==typeof r.pc.removeStream?r.pc.removeStream.apply(r.pc,arguments):"function"==typeof r.pc.removeTrack&&t.getTracks().forEach(function(t){r.pc.removeTrack(t)})},"function"==typeof this.pc.removeTrack&&(this.removeTrack=this.pc.removeTrack.bind(this.pc)),this.pc.onremovestream=this.emit.bind(this,"removeStream"),this.pc.onremovetrack=this.emit.bind(this,"removeTrack"),this.pc.onaddstream=this.emit.bind(this,"addStream"),this.pc.onaddtrack=this.emit.bind(this,"addTrack"),this.pc.onnegotiationneeded=this.emit.bind(this,"negotiationNeeded"),this.pc.oniceconnectionstatechange=this.emit.bind(this,"iceConnectionStateChange"),this.pc.onsignalingstatechange=this.emit.bind(this,"signalingStateChange"),this.pc.onicecandidate=this._onIce.bind(this),this.pc.ondatachannel=this._onDataChannel.bind(this),this.localDescription={contents:[]},this.remoteDescription={contents:[]},this.config={debug:!1,sid:"",isInitiator:!0,sdpSessionID:Date.now(),useJingle:!1},this.iceCredentials={local:{},remote:{}};for(n in t)this.config[n]=t[n];this.config.debug&&this.on("*",function(){(t.logger||console).log("PeerConnection event:",arguments)}),this.hadLocalStunCandidate=!1,this.hadRemoteStunCandidate=!1,this.hadLocalRelayCandidate=!1,this.hadRemoteRelayCandidate=!1,this.hadLocalIPv6Candidate=!1,this.hadRemoteIPv6Candidate=!1,this._remoteDataChannels=[],this._localDataChannels=[],this._candidateBuffer=[]}var i=t("util"),o=t("sdp-jingle-json"),s=t("wildemitter"),a=t("lodash.clonedeep");i.inherits(r,s),Object.defineProperty(r.prototype,"signalingState",{get:function(){return this.pc.signalingState}}),Object.defineProperty(r.prototype,"iceConnectionState",{get:function(){return this.pc.iceConnectionState}}),r.prototype._role=function(){return this.isInitiator?"initiator":"responder"},r.prototype.addStream=function(t){this.localStream=t,this.pc.addStream(t)},r.prototype._checkLocalCandidate=function(t){var e=o.toCandidateJSON(t);"srflx"==e.type?this.hadLocalStunCandidate=!0:"relay"==e.type&&(this.hadLocalRelayCandidate=!0),-1!=e.ip.indexOf(":")&&(this.hadLocalIPv6Candidate=!0)},r.prototype._checkRemoteCandidate=function(t){var e=o.toCandidateJSON(t);"srflx"==e.type?this.hadRemoteStunCandidate=!0:"relay"==e.type&&(this.hadRemoteRelayCandidate=!0),-1!=e.ip.indexOf(":")&&(this.hadRemoteIPv6Candidate=!0)},r.prototype.processIce=function(t,e){e=e||function(){};var n=this;if("closed"===this.pc.signalingState)return e();if(t.contents||t.jingle&&t.jingle.contents){var r=this.remoteDescription.contents.map(function(t){return t.name});(t.contents||t.jingle.contents).forEach(function(t){var i=t.transport||{},s=i.candidates||[],a=r.indexOf(t.name),c=t.name,u=n.remoteDescription.contents.find(function(e){return e.name===t.name}),l=function(){s.forEach(function(t){var e=o.toCandidateSDP(t);n.pc.addIceCandidate(new RTCIceCandidate({candidate:e,sdpMLineIndex:a,sdpMid:c}),function(){},function(t){n.emit("error",t)}),n._checkRemoteCandidate(e)}),e()};if(n.iceCredentials.remote[t.name]&&i.ufrag&&n.iceCredentials.remote[t.name].ufrag!==i.ufrag)if(u){u.transport.ufrag=i.ufrag,u.transport.pwd=i.pwd;var f={type:"offer",jingle:n.remoteDescription};f.sdp=o.toSessionSDP(f.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.pc.setRemoteDescription(new RTCSessionDescription(f),function(){l()},function(t){n.emit("error",t)})}else n.emit("error","ice restart failed to find matching content");else l()})}else{if(t.candidate&&0!==t.candidate.candidate.indexOf("a=")&&(t.candidate.candidate="a="+t.candidate.candidate),this.wtFirefox&&null!==this.firefoxcandidatebuffer&&this.pc.localDescription&&"offer"===this.pc.localDescription.type)return this.firefoxcandidatebuffer.push(t.candidate),e();n.pc.addIceCandidate(new RTCIceCandidate(t.candidate),function(){},function(t){n.emit("error",t)}),n._checkRemoteCandidate(t.candidate.candidate),e()}},r.prototype.offer=function(t,e){var n=this,r=2===arguments.length,i=r&&t?t:{offerToReceiveAudio:1,offerToReceiveVideo:1};if(e=r?e:t,e=e||function(){},"closed"===this.pc.signalingState)return e("Already closed");this.pc.createOffer(function(t){var r={type:"offer",sdp:t.sdp};n.assumeSetLocalSuccess&&(n.emit("offer",r),e(null,r)),n._candidateBuffer=[],n.pc.setLocalDescription(t,function(){var i;n.config.useJingle&&(i=o.toSessionJSON(t.sdp,{role:n._role(),direction:"outgoing"}),i.sid=n.config.sid,n.localDescription=i,i.contents.forEach(function(t){var e=t.transport||{};e.ufrag&&(n.iceCredentials.local[t.name]={ufrag:e.ufrag,pwd:e.pwd})}),r.jingle=i),r.sdp.split(/\r?\n/).forEach(function(t){0===t.indexOf("a=candidate:")&&n._checkLocalCandidate(t)}),n.assumeSetLocalSuccess||(n.emit("offer",r),e(null,r))},function(t){n.emit("error",t),e(t)})},function(t){n.emit("error",t),e(t)},i)},r.prototype.handleOffer=function(t,e){e=e||function(){};var n=this;if(t.type="offer",t.jingle){if(this.enableChromeNativeSimulcast&&t.jingle.contents.forEach(function(t){"video"===t.name&&(t.application.googConferenceFlag=!0)}),this.enableMultiStreamHacks&&t.jingle.contents.forEach(function(t){if("video"===t.name){var e=t.application.sources||[];0!==e.length&&"3735928559"===e[0].ssrc||(e.unshift({ssrc:"3735928559",parameters:[{key:"cname",value:"deadbeef"},{key:"msid",value:"mixyourfecintothis please"}]}),t.application.sources=e)}}),n.restrictBandwidth>0&&t.jingle.contents.length>=2&&"video"===t.jingle.contents[1].name){var r=t.jingle.contents[1];r.application&&r.application.bandwidth&&r.application.bandwidth.bandwidth||(t.jingle.contents[1].application.bandwidth={type:"AS",bandwidth:n.restrictBandwidth.toString()},t.sdp=o.toSessionSDP(t.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"}))}t.jingle.contents.forEach(function(t){var e=t.transport||{};e.ufrag&&(n.iceCredentials.remote[t.name]={ufrag:e.ufrag,pwd:e.pwd})}),t.sdp=o.toSessionSDP(t.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=t.jingle}t.sdp.split(/\r?\n/).forEach(function(t){0===t.indexOf("a=candidate:")&&n._checkRemoteCandidate(t)}),n.pc.setRemoteDescription(new RTCSessionDescription(t),function(){e()},e)},r.prototype.answerAudioOnly=function(t){var e={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}};this._answer(e,t)},r.prototype.answerBroadcastOnly=function(t){var e={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}};this._answer(e,t)},r.prototype.answer=function(t,e){var n=2===arguments.length,r=n?e:t,i=n&&t?t:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};this._answer(i,r)},r.prototype.handleAnswer=function(t,e){e=e||function(){};var n=this;t.jingle&&(t.sdp=o.toSessionSDP(t.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=t.jingle,t.jingle.contents.forEach(function(t){var e=t.transport||{};e.ufrag&&(n.iceCredentials.remote[t.name]={ufrag:e.ufrag,pwd:e.pwd})})),t.sdp.split(/\r?\n/).forEach(function(t){0===t.indexOf("a=candidate:")&&n._checkRemoteCandidate(t)}),n.pc.setRemoteDescription(new RTCSessionDescription(t),function(){n.wtFirefox&&window.setTimeout(function(){n.firefoxcandidatebuffer.forEach(function(t){n.pc.addIceCandidate(new RTCIceCandidate(t),function(){},function(t){n.emit("error",t)}),n._checkRemoteCandidate(t.candidate)}),n.firefoxcandidatebuffer=null},n.wtFirefox),e(null)},e)},r.prototype.close=function(){this.pc.close(),this._localDataChannels=[],this._remoteDataChannels=[],this.emit("close")},r.prototype._answer=function(t,e){e=e||function(){};var n=this;if(!this.pc.remoteDescription)throw new Error("remoteDescription not set");if("closed"===this.pc.signalingState)return e("Already closed");n.pc.createAnswer(function(t){var r=[];if(n.enableChromeNativeSimulcast&&(t.jingle=o.toSessionJSON(t.sdp,{role:n._role(),direction:"outgoing"}),t.jingle.contents.length>=2&&"video"===t.jingle.contents[1].name)){var i=t.jingle.contents[1].application.sourceGroups||[],s=!1;if(i.forEach(function(t){"SIM"==t.semantics&&(s=!0)}),!s&&t.jingle.contents[1].application.sources.length){var c=JSON.parse(JSON.stringify(t.jingle.contents[1].application.sources[0]));c.ssrc=""+Math.floor(4294967295*Math.random()),t.jingle.contents[1].application.sources.push(c),r.push(t.jingle.contents[1].application.sources[0].ssrc),r.push(c.ssrc),i.push({semantics:"SIM",sources:r});var u=JSON.parse(JSON.stringify(c));u.ssrc=""+Math.floor(4294967295*Math.random()),t.jingle.contents[1].application.sources.push(u),i.push({semantics:"FID",sources:[c.ssrc,u.ssrc]}),t.jingle.contents[1].application.sourceGroups=i,t.sdp=o.toSessionSDP(t.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"})}}var l={type:"answer",sdp:t.sdp};if(n.assumeSetLocalSuccess){var f=a(l);n.emit("answer",f),e(null,f)}n._candidateBuffer=[],n.pc.setLocalDescription(t,function(){if(n.config.useJingle){var r=o.toSessionJSON(t.sdp,{role:n._role(),direction:"outgoing"});r.sid=n.config.sid,n.localDescription=r,l.jingle=r}if(n.enableChromeNativeSimulcast&&(l.jingle||(l.jingle=o.toSessionJSON(t.sdp,{role:n._role(),direction:"outgoing"})),l.jingle.contents[1].application.sources.forEach(function(t,e){t.parameters=t.parameters.map(function(t){return"msid"===t.key&&(t.value+="-"+Math.floor(e/2)),t})}),l.sdp=o.toSessionSDP(l.jingle,{sid:n.sdpSessionID,role:n._role(),direction:"outgoing"})),l.sdp.split(/\r?\n/).forEach(function(t){0===t.indexOf("a=candidate:")&&n._checkLocalCandidate(t)}),!n.assumeSetLocalSuccess){var i=a(l);n.emit("answer",i),e(null,i)}},function(t){n.emit("error",t),e(t)})},function(t){n.emit("error",t),e(t)},t)},r.prototype._onIce=function(t){var e=this;if(t.candidate){if(this.dontSignalCandidates)return;var n=t.candidate,r={candidate:{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex}};this._checkLocalCandidate(n.candidate);var i,s,a=o.toCandidateJSON(n.candidate);if(this.eliminateDuplicateCandidates&&"relay"===a.type&&(i=this._candidateBuffer.filter(function(t){return"relay"===t.type}).map(function(t){return t.foundation+":"+t.component}),(s=i.indexOf(a.foundation+":"+a.component))>-1&&a.priority>>24>=i[s].priority>>24))return;if("max-bundle"===this.config.bundlePolicy&&(i=this._candidateBuffer.filter(function(t){return a.type===t.type}).map(function(t){return t.address+":"+t.port}),(s=i.indexOf(a.address+":"+a.port))>-1))return;if("require"===this.config.rtcpMuxPolicy&&"2"===a.component)return;if(this._candidateBuffer.push(a),e.config.useJingle){if(n.sdpMid||(e.pc.remoteDescription&&"offer"===e.pc.remoteDescription.type?n.sdpMid=e.remoteDescription.contents[n.sdpMLineIndex].name:n.sdpMid=e.localDescription.contents[n.sdpMLineIndex].name),!e.iceCredentials.local[n.sdpMid]){o.toSessionJSON(e.pc.localDescription.sdp,{role:e._role(),direction:"outgoing"}).contents.forEach(function(t){var n=t.transport||{};n.ufrag&&(e.iceCredentials.local[t.name]={ufrag:n.ufrag,pwd:n.pwd})})}if(r.jingle={contents:[{name:n.sdpMid,creator:e._role(),transport:{transportType:"iceUdp",ufrag:e.iceCredentials.local[n.sdpMid].ufrag,pwd:e.iceCredentials.local[n.sdpMid].pwd,candidates:[a]}}]},e.batchIceCandidates>0)return 0===e.batchedIceCandidates.length&&window.setTimeout(function(){var t={};e.batchedIceCandidates.forEach(function(e){e=e.contents[0],t[e.name]||(t[e.name]=e),t[e.name].transport.candidates.push(e.transport.candidates[0])});var n={jingle:{contents:[]}};Object.keys(t).forEach(function(e){n.jingle.contents.push(t[e])}),e.batchedIceCandidates=[],e.emit("ice",n)},e.batchIceCandidates),void e.batchedIceCandidates.push(r.jingle)}this.emit("ice",r)}else this.emit("endOfCandidates")},r.prototype._onDataChannel=function(t){var e=t.channel;this._remoteDataChannels.push(e),this.emit("addChannel",e)},r.prototype.createDataChannel=function(t,e){var n=this.pc.createDataChannel(t,e);return this._localDataChannels.push(n),n},r.prototype.getStats=function(){if("function"!=typeof arguments[0])return this.pc.getStats.apply(this.pc,arguments);var t=arguments[0];this.pc.getStats().then(function(e){t(null,e)},function(e){t(e)})},e.exports=r},{"lodash.clonedeep":464,"sdp-jingle-json":517,util:621,wildemitter:628}],515:[function(t,e,n){function r(t,e){for(var n in t)e[n]=t[n]}function i(t,e,n){return s(t,e,n)}var o=t("buffer"),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=o:(r(o,n),n.Buffer=i),r(s,i),i.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return s(t,e,n)},i.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=s(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},{buffer:59}],516:[function(t,e,n){(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n){function i(t,e){if(!(this instanceof i))return new i(t,e);var r=this;s(r),r.q=r.c="",r.bufferCheckPosition=n.MAX_BUFFER_LENGTH,r.opt=e||{},r.opt.lowercase=r.opt.lowercase||r.opt.lowercasetags,r.looseCase=r.opt.lowercase?"toLowerCase":"toUpperCase",r.tags=[],r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.strict=!!t,r.noscript=!(!t&&!r.opt.noscript),r.state=W.BEGIN,r.strictEntities=r.opt.strictEntities,r.ENTITIES=r.strictEntities?Object.create(n.XML_ENTITIES):Object.create(n.ENTITIES),r.attribList=[],r.opt.xmlns&&(r.ns=Object.create(F)),r.trackPosition=!1!==r.opt.position,r.trackPosition&&(r.position=r.line=r.column=0),g(r,"onready")}function o(t){for(var e=Math.max(n.MAX_BUFFER_LENGTH,10),r=0,i=0,o=R.length;i<o;i++){var s=t[R[i]].length;if(s>e)switch(R[i]){case"textNode":v(t);break;case"cdata":m(t,"oncdata",t.cdata),t.cdata="";break;case"script":m(t,"onscript",t.script),t.script="";break;default:_(t,"Max buffer length exceeded: "+R[i])}r=Math.max(r,s)}var a=n.MAX_BUFFER_LENGTH-r;t.bufferCheckPosition=a+t.position}function s(t){for(var e=0,n=R.length;e<n;e++)t[R[e]]=""}function a(t){v(t),""!==t.cdata&&(m(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(m(t,"onscript",t.script),t.script="")}function c(t,e){return new u(t,e)}function u(t,e){if(!(this instanceof u))return new u(t,e);I.apply(this),this._parser=new i(t,e),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,P.forEach(function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n._parser["on"+t]=e,e;n.on(t,e)},enumerable:!0,configurable:!1})})}function l(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function f(t){return'"'===t||"'"===t}function p(t){return">"===t||l(t)}function h(t,e){return t.test(e)}function d(t,e){return!h(t,e)}function g(t,e,n){t[e]&&t[e](n)}function m(t,e,n){t.textNode&&v(t),g(t,e,n)}function v(t){t.textNode=y(t.opt,t.textNode),t.textNode&&g(t,"ontext",t.textNode),t.textNode=""}function y(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function _(t,e){return v(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,g(t,"onerror",e),t}function b(t){return t.sawRoot&&!t.closedRoot&&w(t,"Unclosed root tag"),t.state!==W.BEGIN&&t.state!==W.BEGIN_WHITESPACE&&t.state!==W.TEXT&&_(t,"Unexpected end"),v(t),t.c="",t.closed=!0,g(t,"onend"),i.call(t,t.strict,t.opt),t}function w(t,e){if("object"!==(void 0===t?"undefined":r(t))||!(t instanceof i))throw new Error("bad call to strictFail");t.strict&&_(t,e)}function x(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,m(t,"onopentagstart",n)}function S(t,e){var n=t.indexOf(":"),r=n<0?["",t]:t.split(":"),i=r[0],o=r[1];return e&&"xmlns"===t&&(i="xmlns",o=""),{prefix:i,local:o}}function j(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))return void(t.attribName=t.attribValue="");if(t.opt.xmlns){var e=S(t.attribName,!0),n=e.prefix,r=e.local;if("xmlns"===n)if("xml"===r&&t.attribValue!==L)w(t,"xml: prefix must be bound to "+L+"\nActual: "+t.attribValue);else if("xmlns"===r&&t.attribValue!==M)w(t,"xmlns: prefix must be bound to "+M+"\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,m(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}function E(t,e){if(t.opt.xmlns){var n=t.tag,r=S(t.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(w(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=r.prefix);var i=t.tags[t.tags.length-1]||t;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach(function(e){m(t,"onopennamespace",{prefix:e,uri:n.ns[e]})});for(var o=0,s=t.attribList.length;o<s;o++){var a=t.attribList[o],c=a[0],u=a[1],l=S(c,!0),f=l.prefix,p=l.local,h=""===f?"":n.ns[f]||"",d={name:c,value:u,prefix:f,local:p,uri:h};f&&"xmlns"!==f&&!h&&(w(t,"Unbound namespace prefix: "+JSON.stringify(f)),d.uri=f),t.tag.attributes[c]=d,m(t,"onattribute",d)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),m(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=W.TEXT:t.state=W.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function k(t){if(!t.tagName)return w(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=W.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=W.SCRIPT);m(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var r=n;e--;){if(t.tags[e].name===r)break;w(t,"Unexpected close tag")}if(e<0)return w(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=W.TEXT);t.tagName=n;for(var i=t.tags.length;i-- >e;){var o=t.tag=t.tags.pop();t.tagName=t.tag.name,m(t,"onclosetag",t.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var c=t.tags[t.tags.length-1]||t;t.opt.xmlns&&o.ns!==c.ns&&Object.keys(o.ns).forEach(function(e){var n=o.ns[e];m(t,"onclosenamespace",{prefix:e,uri:n})})}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=W.TEXT}function C(t){var e,n=t.entity,r=n.toLowerCase(),i="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[r]?t.ENTITIES[r]:(n=r,"#"===n.charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),e=parseInt(n,16),i=e.toString(16)):(n=n.slice(1),e=parseInt(n,10),i=e.toString(10))),n=n.replace(/^0+/,""),isNaN(e)||i.toLowerCase()!==n?(w(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function T(t,e){"<"===e?(t.state=W.OPEN_WAKA,t.startTagPosition=t.position):l(e)||(w(t,"Non-whitespace before first tag."),t.textNode=e,t.state=W.TEXT)}function O(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}function A(t){var e=this;if(this.error)throw this.error;if(e.closed)return _(e,"Cannot write after close. Assign an onready handler.");if(null===t)return b(e);"object"===(void 0===t?"undefined":r(t))&&(t=t.toString());for(var n=0,i="";;){if(i=O(t,n++),e.c=i,!i)break;switch(e.trackPosition&&(e.position++,"\n"===i?(e.line++,e.column=0):e.column++),e.state){case W.BEGIN:if(e.state=W.BEGIN_WHITESPACE,"\ufeff"===i)continue;T(e,i);continue;case W.BEGIN_WHITESPACE:T(e,i);continue;case W.TEXT:if(e.sawRoot&&!e.closedRoot){for(var s=n-1;i&&"<"!==i&&"&"!==i;)(i=O(t,n++))&&e.trackPosition&&(e.position++,"\n"===i?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(s,n-1)}"<"!==i||e.sawRoot&&e.closedRoot&&!e.strict?(l(i)||e.sawRoot&&!e.closedRoot||w(e,"Text data outside of root node."),"&"===i?e.state=W.TEXT_ENTITY:e.textNode+=i):(e.state=W.OPEN_WAKA,e.startTagPosition=e.position);continue;case W.SCRIPT:"<"===i?e.state=W.SCRIPT_ENDING:e.script+=i;continue;case W.SCRIPT_ENDING:"/"===i?e.state=W.CLOSE_TAG:(e.script+="<"+i,e.state=W.SCRIPT);continue;case W.OPEN_WAKA:if("!"===i)e.state=W.SGML_DECL,e.sgmlDecl="";else if(l(i));else if(h(B,i))e.state=W.OPEN_TAG,e.tagName=i;else if("/"===i)e.state=W.CLOSE_TAG,e.tagName="";else if("?"===i)e.state=W.PROC_INST,e.procInstName=e.procInstBody="";else{if(w(e,"Unencoded <"),e.startTagPosition+1<e.position){var a=e.position-e.startTagPosition;i=new Array(a).join(" ")+i}e.textNode+="<"+i,e.state=W.TEXT}continue;case W.SGML_DECL:(e.sgmlDecl+i).toUpperCase()===D?(m(e,"onopencdata"),e.state=W.CDATA,e.sgmlDecl="",e.cdata=""):e.sgmlDecl+i==="--"?(e.state=W.COMMENT,e.comment="",e.sgmlDecl=""):(e.sgmlDecl+i).toUpperCase()===N?(e.state=W.DOCTYPE,(e.doctype||e.sawRoot)&&w(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):">"===i?(m(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=W.TEXT):f(i)?(e.state=W.SGML_DECL_QUOTED,e.sgmlDecl+=i):e.sgmlDecl+=i;continue;case W.SGML_DECL_QUOTED:i===e.q&&(e.state=W.SGML_DECL,e.q=""),e.sgmlDecl+=i;continue;case W.DOCTYPE:">"===i?(e.state=W.TEXT,m(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=i,"["===i?e.state=W.DOCTYPE_DTD:f(i)&&(e.state=W.DOCTYPE_QUOTED,e.q=i));continue;case W.DOCTYPE_QUOTED:e.doctype+=i,i===e.q&&(e.q="",e.state=W.DOCTYPE);continue;case W.DOCTYPE_DTD:e.doctype+=i,"]"===i?e.state=W.DOCTYPE:f(i)&&(e.state=W.DOCTYPE_DTD_QUOTED,e.q=i);continue;case W.DOCTYPE_DTD_QUOTED:e.doctype+=i,i===e.q&&(e.state=W.DOCTYPE_DTD,e.q="");continue;case W.COMMENT:"-"===i?e.state=W.COMMENT_ENDING:e.comment+=i;continue;case W.COMMENT_ENDING:"-"===i?(e.state=W.COMMENT_ENDED,e.comment=y(e.opt,e.comment),e.comment&&m(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+i,e.state=W.COMMENT);continue;case W.COMMENT_ENDED:">"!==i?(w(e,"Malformed comment"),e.comment+="--"+i,e.state=W.COMMENT):e.state=W.TEXT;continue;case W.CDATA:"]"===i?e.state=W.CDATA_ENDING:e.cdata+=i;continue;case W.CDATA_ENDING:"]"===i?e.state=W.CDATA_ENDING_2:(e.cdata+="]"+i,e.state=W.CDATA);continue;case W.CDATA_ENDING_2:">"===i?(e.cdata&&m(e,"oncdata",e.cdata),m(e,"onclosecdata"),e.cdata="",e.state=W.TEXT):"]"===i?e.cdata+="]":(e.cdata+="]]"+i,e.state=W.CDATA);continue;case W.PROC_INST:"?"===i?e.state=W.PROC_INST_ENDING:l(i)?e.state=W.PROC_INST_BODY:e.procInstName+=i;continue;case W.PROC_INST_BODY:if(!e.procInstBody&&l(i))continue;"?"===i?e.state=W.PROC_INST_ENDING:e.procInstBody+=i;continue;case W.PROC_INST_ENDING:">"===i?(m(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=W.TEXT):(e.procInstBody+="?"+i,e.state=W.PROC_INST_BODY);continue;case W.OPEN_TAG:h(z,i)?e.tagName+=i:(x(e),">"===i?E(e):"/"===i?e.state=W.OPEN_TAG_SLASH:(l(i)||w(e,"Invalid character in tag name"),e.state=W.ATTRIB));continue;case W.OPEN_TAG_SLASH:">"===i?(E(e,!0),k(e)):(w(e,"Forward-slash in opening tag not followed by >"),e.state=W.ATTRIB);continue;case W.ATTRIB:if(l(i))continue;">"===i?E(e):"/"===i?e.state=W.OPEN_TAG_SLASH:h(B,i)?(e.attribName=i,e.attribValue="",e.state=W.ATTRIB_NAME):w(e,"Invalid attribute name");continue;case W.ATTRIB_NAME:"="===i?e.state=W.ATTRIB_VALUE:">"===i?(w(e,"Attribute without value"),e.attribValue=e.attribName,j(e),E(e)):l(i)?e.state=W.ATTRIB_NAME_SAW_WHITE:h(z,i)?e.attribName+=i:w(e,"Invalid attribute name");continue;case W.ATTRIB_NAME_SAW_WHITE:if("="===i)e.state=W.ATTRIB_VALUE;else{if(l(i))continue;w(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",m(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",">"===i?E(e):h(B,i)?(e.attribName=i,e.state=W.ATTRIB_NAME):(w(e,"Invalid attribute name"),e.state=W.ATTRIB)}continue;case W.ATTRIB_VALUE:if(l(i))continue;f(i)?(e.q=i,e.state=W.ATTRIB_VALUE_QUOTED):(w(e,"Unquoted attribute value"),e.state=W.ATTRIB_VALUE_UNQUOTED,e.attribValue=i);continue;case W.ATTRIB_VALUE_QUOTED:if(i!==e.q){"&"===i?e.state=W.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=i;continue}j(e),e.q="",e.state=W.ATTRIB_VALUE_CLOSED;continue;case W.ATTRIB_VALUE_CLOSED:l(i)?e.state=W.ATTRIB:">"===i?E(e):"/"===i?e.state=W.OPEN_TAG_SLASH:h(B,i)?(w(e,"No whitespace between attributes"),e.attribName=i,e.attribValue="",e.state=W.ATTRIB_NAME):w(e,"Invalid attribute name");continue;case W.ATTRIB_VALUE_UNQUOTED:if(!p(i)){"&"===i?e.state=W.ATTRIB_VALUE_ENTITY_U:e.attribValue+=i;continue}j(e),">"===i?E(e):e.state=W.ATTRIB;continue;case W.CLOSE_TAG:if(e.tagName)">"===i?k(e):h(z,i)?e.tagName+=i:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=W.SCRIPT):(l(i)||w(e,"Invalid tagname in closing tag"),e.state=W.CLOSE_TAG_SAW_WHITE);else{if(l(i))continue;d(B,i)?e.script?(e.script+="</"+i,e.state=W.SCRIPT):w(e,"Invalid tagname in closing tag."):e.tagName=i}continue;case W.CLOSE_TAG_SAW_WHITE:if(l(i))continue;">"===i?k(e):w(e,"Invalid characters in closing tag");continue;case W.TEXT_ENTITY:case W.ATTRIB_VALUE_ENTITY_Q:case W.ATTRIB_VALUE_ENTITY_U:var c,u;switch(e.state){case W.TEXT_ENTITY:c=W.TEXT,u="textNode";break;case W.ATTRIB_VALUE_ENTITY_Q:c=W.ATTRIB_VALUE_QUOTED,u="attribValue";break;case W.ATTRIB_VALUE_ENTITY_U:c=W.ATTRIB_VALUE_UNQUOTED,u="attribValue"}";"===i?(e[u]+=C(e),e.entity="",e.state=c):h(e.entity.length?q:U,i)?e.entity+=i:(w(e,"Invalid character in entity name"),e[u]+="&"+e.entity+i,e.entity="",e.state=c);continue;default:throw new Error(e,"Unknown state: "+e.state)}}return e.position>=e.bufferCheckPosition&&o(e),e}n.parser=function(t,e){return new i(t,e)},n.SAXParser=i,n.SAXStream=u,n.createStream=c,n.MAX_BUFFER_LENGTH=65536;var R=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),i.prototype={end:function(){b(this)},write:A,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var I;try{I=t("stream").Stream}catch(t){I=function(){}}var P=n.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});u.prototype=Object.create(I.prototype,{constructor:{value:u}}),u.prototype.write=function(n){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(n)){if(!this._decoder){var r=t("string_decoder").StringDecoder;this._decoder=new r("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},u.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},u.prototype.on=function(t,e){var n=this;return n._parser["on"+t]||-1===P.indexOf(t)||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),I.prototype.on.call(n,t,e)};var D="[CDATA[",N="DOCTYPE",L="http://www.w3.org/XML/1998/namespace",M="http://www.w3.org/2000/xmlns/",F={xml:L,xmlns:M},B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,z=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,U=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,q=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,W=0;n.STATE={BEGIN:W++,BEGIN_WHITESPACE:W++,TEXT:W++,TEXT_ENTITY:W++,OPEN_WAKA:W++,SGML_DECL:W++,SGML_DECL_QUOTED:W++,DOCTYPE:W++,DOCTYPE_QUOTED:W++,DOCTYPE_DTD:W++,DOCTYPE_DTD_QUOTED:W++,COMMENT_STARTING:W++,COMMENT:W++,COMMENT_ENDING:W++,COMMENT_ENDED:W++,CDATA:W++,CDATA_ENDING:W++,CDATA_ENDING_2:W++,PROC_INST:W++,PROC_INST_BODY:W++,PROC_INST_ENDING:W++,OPEN_TAG:W++,OPEN_TAG_SLASH:W++,ATTRIB:W++,ATTRIB_NAME:W++,ATTRIB_NAME_SAW_WHITE:W++,ATTRIB_VALUE:W++,ATTRIB_VALUE_QUOTED:W++,ATTRIB_VALUE_CLOSED:W++,ATTRIB_VALUE_UNQUOTED:W++,ATTRIB_VALUE_ENTITY_Q:W++,ATTRIB_VALUE_ENTITY_U:W++,CLOSE_TAG:W++,CLOSE_TAG_SAW_WHITE:W++,SCRIPT:W++,SCRIPT_ENDING:W++},n.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,
Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(n.ENTITIES).forEach(function(t){var e=n.ENTITIES[t],r="number"==typeof e?String.fromCharCode(e):e;n.ENTITIES[t]=r});for(var J in n.STATE)n.STATE[n.STATE[J]]=J;W=n.STATE,String.fromCodePoint||function(){var t=String.fromCharCode,e=Math.floor,n=function(){var n,r,i=[],o=-1,s=arguments.length;if(!s)return"";for(var a="";++o<s;){var c=Number(arguments[o]);if(!isFinite(c)||c<0||c>1114111||e(c)!==c)throw RangeError("Invalid code point: "+c);c<=65535?i.push(c):(c-=65536,n=55296+(c>>10),r=c%1024+56320,i.push(n,r)),(o+1===s||i.length>16384)&&(a+=t.apply(null,i),i.length=0)}return a};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(void 0===n?this.sax={}:n)}).call(this,t("buffer").Buffer)},{buffer:59,stream:545,string_decoder:58}],517:[function(t,e,n){var r=t("./lib/tosdp"),i=t("./lib/tojson");n.toIncomingSDPOffer=function(t){return r.toSessionSDP(t,{role:"responder",direction:"incoming"})},n.toOutgoingSDPOffer=function(t){return r.toSessionSDP(t,{role:"initiator",direction:"outgoing"})},n.toIncomingSDPAnswer=function(t){return r.toSessionSDP(t,{role:"initiator",direction:"incoming"})},n.toOutgoingSDPAnswer=function(t){return r.toSessionSDP(t,{role:"responder",direction:"outgoing"})},n.toIncomingMediaSDPOffer=function(t){return r.toMediaSDP(t,{role:"responder",direction:"incoming"})},n.toOutgoingMediaSDPOffer=function(t){return r.toMediaSDP(t,{role:"initiator",direction:"outgoing"})},n.toIncomingMediaSDPAnswer=function(t){return r.toMediaSDP(t,{role:"initiator",direction:"incoming"})},n.toOutgoingMediaSDPAnswer=function(t){return r.toMediaSDP(t,{role:"responder",direction:"outgoing"})},n.toCandidateSDP=r.toCandidateSDP,n.toMediaSDP=r.toMediaSDP,n.toSessionSDP=r.toSessionSDP,n.toIncomingJSONOffer=function(t,e){return i.toSessionJSON(t,{role:"responder",direction:"incoming",creators:e})},n.toOutgoingJSONOffer=function(t,e){return i.toSessionJSON(t,{role:"initiator",direction:"outgoing",creators:e})},n.toIncomingJSONAnswer=function(t,e){return i.toSessionJSON(t,{role:"initiator",direction:"incoming",creators:e})},n.toOutgoingJSONAnswer=function(t,e){return i.toSessionJSON(t,{role:"responder",direction:"outgoing",creators:e})},n.toIncomingMediaJSONOffer=function(t,e){return i.toMediaJSON(t,{role:"responder",direction:"incoming",creator:e})},n.toOutgoingMediaJSONOffer=function(t,e){return i.toMediaJSON(t,{role:"initiator",direction:"outgoing",creator:e})},n.toIncomingMediaJSONAnswer=function(t,e){return i.toMediaJSON(t,{role:"initiator",direction:"incoming",creator:e})},n.toOutgoingMediaJSONAnswer=function(t,e){return i.toMediaJSON(t,{role:"responder",direction:"outgoing",creator:e})},n.toCandidateJSON=i.toCandidateJSON,n.toMediaJSON=i.toMediaJSON,n.toSessionJSON=i.toSessionJSON},{"./lib/tojson":520,"./lib/tosdp":521}],518:[function(t,e,n){n.lines=function(t){return t.split(/\r?\n/).filter(function(t){return t.length>0})},n.findLine=function(t,e,n){for(var r=t.length,i=0;i<e.length;i++)if(e[i].substr(0,r)===t)return e[i];if(!n)return!1;for(var o=0;o<n.length;o++)if(n[o].substr(0,r)===t)return n[o];return!1},n.findLines=function(t,e,n){for(var r=[],i=t.length,o=0;o<e.length;o++)e[o].substr(0,i)===t&&r.push(e[o]);if(r.length||!n)return r;for(var s=0;s<n.length;s++)n[s].substr(0,i)===t&&r.push(n[s]);return r},n.mline=function(t){for(var e=t.substr(2).split(" "),n={media:e[0],port:e[1],proto:e[2],formats:[]},r=3;r<e.length;r++)e[r]&&n.formats.push(e[r]);return n},n.rtpmap=function(t){var e=t.substr(9).split(" "),n={id:e.shift()};return e=e[0].split("/"),n.name=e[0],n.clockrate=e[1],n.channels=3==e.length?e[2]:"1",n},n.sctpmap=function(t){var e=t.substr(10).split(" ");return{number:e.shift(),protocol:e.shift(),streams:e.shift()}},n.fmtp=function(t){for(var e,n,r,i=t.substr(t.indexOf(" ")+1).split(";"),o=[],s=0;s<i.length;s++)e=i[s].split("="),n=e[0].trim(),r=e[1],n&&r?o.push({key:n,value:r}):n&&o.push({key:"",value:n});return o},n.crypto=function(t){var e=t.substr(9).split(" ");return{tag:e[0],cipherSuite:e[1],keyParams:e[2],sessionParams:e.slice(3).join(" ")}},n.fingerprint=function(t){var e=t.substr(14).split(" ");return{hash:e[0],value:e[1]}},n.extmap=function(t){var e=t.substr(9).split(" "),n={},r=e.shift(),i=r.indexOf("/");return i>=0?(n.id=r.substr(0,i),n.senders=r.substr(i+1)):(n.id=r,n.senders="sendrecv"),n.uri=e.shift()||"",n},n.rtcpfb=function(t){var e=t.substr(10).split(" "),n={};return n.id=e.shift(),n.type=e.shift(),"trr-int"===n.type?n.value=e.shift():n.subtype=e.shift()||"",n.parameters=e,n},n.candidate=function(t){var e;e=0===t.indexOf("a=candidate:")?t.substring(12).split(" "):t.substring(10).split(" ");for(var n={foundation:e[0],component:e[1],protocol:e[2].toLowerCase(),priority:e[3],ip:e[4],port:e[5],type:e[7],generation:"0"},r=8;r<e.length;r+=2)"raddr"===e[r]?n.relAddr=e[r+1]:"rport"===e[r]?n.relPort=e[r+1]:"generation"===e[r]?n.generation=e[r+1]:"tcptype"===e[r]&&(n.tcpType=e[r+1]);return n.network="1",n},n.sourceGroups=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n].substr(13).split(" ");e.push({semantics:r.shift(),sources:r})}return e},n.sources=function(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r].substr(7).split(" "),o=i.shift();if(!n[o]){var s={ssrc:o,parameters:[]};e.push(s),n[o]=s}i=i.join(" ").split(":");var a=i.shift(),c=i.join(":")||null;n[o].parameters.push({key:a,value:c})}return e},n.groups=function(t){for(var e,n=[],r=0;r<t.length;r++)e=t[r].substr(8).split(" "),n.push({semantics:e.shift(),contents:e});return n},n.bandwidth=function(t){var e=t.substr(2).split(":"),n={};return n.type=e.shift(),n.bandwidth=e.shift(),n},n.msid=function(t){var e=t.substr(7),n=e.split(" ");return{msid:e,mslabel:n[0],label:n[1]}}},{}],519:[function(t,e,n){e.exports={initiator:{incoming:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"},outgoing:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"}},responder:{incoming:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"},outgoing:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"}}}},{}],520:[function(t,e,n){var r=t("./senders"),i=t("./parsers"),o=Math.random();n._setIdCounter=function(t){o=t},n.toSessionJSON=function(t,e){var r,o=e.creators||[],s=e.role||"initiator",a=e.direction||"outgoing",c=t.split(/\r?\nm=/);for(r=1;r<c.length;r++)c[r]="m="+c[r],r!==c.length-1&&(c[r]+="\r\n");var u=c.shift()+"\r\n",l=i.lines(u),f={},p=[];for(r=0;r<c.length;r++)p.push(n.toMediaJSON(c[r],u,{role:s,direction:a,creator:o[r]||"initiator"}));f.contents=p;var h=i.findLines("a=group:",l);return h.length&&(f.groups=i.groups(h)),f},n.toMediaJSON=function(t,e,o){var s=o.creator||"initiator",a=o.role||"initiator",c=o.direction||"outgoing",u=i.lines(t),l=i.lines(e),f=i.mline(u[0]),p={creator:s,name:f.media,application:{applicationType:"rtp",media:f.media,payloads:[],encryption:[],feedback:[],headerExtensions:[]},transport:{transportType:"iceUdp",candidates:[],fingerprints:[]}};"application"==f.media&&(p.application={applicationType:"datachannel"},p.transport.sctp=[]);var h=p.application,d=p.transport,g=i.findLine("a=mid:",u);if(g&&(p.name=g.substr(6)),i.findLine("a=sendrecv",u,l)?p.senders="both":i.findLine("a=sendonly",u,l)?p.senders=r[a][c].sendonly:i.findLine("a=recvonly",u,l)?p.senders=r[a][c].recvonly:i.findLine("a=inactive",u,l)&&(p.senders="none"),"rtp"==h.applicationType){var m=i.findLine("b=",u);m&&(h.bandwidth=i.bandwidth(m));var v=i.findLine("a=ssrc:",u);v&&(h.ssrc=v.substr(7).split(" ")[0]);i.findLines("a=rtpmap:",u).forEach(function(t){var e=i.rtpmap(t);e.parameters=[],e.feedback=[],i.findLines("a=fmtp:"+e.id,u).forEach(function(t){e.parameters=i.fmtp(t)}),i.findLines("a=rtcp-fb:"+e.id,u).forEach(function(t){e.feedback.push(i.rtcpfb(t))}),h.payloads.push(e)});i.findLines("a=crypto:",u,l).forEach(function(t){h.encryption.push(i.crypto(t))}),i.findLine("a=rtcp-mux",u)&&(h.mux=!0);i.findLines("a=rtcp-fb:*",u).forEach(function(t){h.feedback.push(i.rtcpfb(t))});i.findLines("a=extmap:",u).forEach(function(t){var e=i.extmap(t);e.senders=r[a][c][e.senders],h.headerExtensions.push(e)});var y=i.findLines("a=ssrc-group:",u);h.sourceGroups=i.sourceGroups(y||[]);var _=i.findLines("a=ssrc:",u),b=h.sources=i.sources(_||[]),w=i.findLine("a=msid:",u);if(w){var x=i.msid(w);["msid","mslabel","label"].forEach(function(t){for(var e=0;e<b.length;e++){for(var n=!1,r=0;r<b[e].parameters.length;r++)b[e].parameters[r].key===t&&(n=!0);n||b[e].parameters.push({key:t,value:x[t]})}})}i.findLine("a=x-google-flag:conference",u,l)&&(h.googConferenceFlag=!0)}var S=i.findLines("a=fingerprint:",u,l),j=i.findLine("a=setup:",u,l);S.forEach(function(t){var e=i.fingerprint(t);j&&(e.setup=j.substr(8)),d.fingerprints.push(e)});var E=i.findLine("a=ice-ufrag:",u,l),k=i.findLine("a=ice-pwd:",u,l);if(E&&k){d.ufrag=E.substr(12),d.pwd=k.substr(10),d.candidates=[];i.findLines("a=candidate:",u,l).forEach(function(t){d.candidates.push(n.toCandidateJSON(t))})}if("datachannel"==h.applicationType){i.findLines("a=sctpmap:",u).forEach(function(t){var e=i.sctpmap(t);d.sctp.push(e)})}return p},n.toCandidateJSON=function(t){var e=i.candidate(t.split(/\r?\n/)[0]);return e.id=(o++).toString(36).substr(0,12),e}},{"./parsers":518,"./senders":519}],521:[function(t,e,n){var r=t("./senders");n.toSessionSDP=function(t,e){var r=(e.role,e.direction,e.sid||t.sid||Date.now()),i=e.time||Date.now(),o=["v=0","o=- "+r+" "+i+" IN IP4 0.0.0.0","s=-","t=0 0"],s=t.contents||[],a=!1;return s.forEach(function(t){t.application.sources&&t.application.sources.length&&(a=!0)}),a&&o.push("a=msid-semantic: WMS *"),(t.groups||[]).forEach(function(t){o.push("a=group:"+t.semantics+" "+t.contents.join(" "))}),s.forEach(function(t){o.push(n.toMediaSDP(t,e))}),o.join("\r\n")+"\r\n"},n.toMediaSDP=function(t,e){var i=[],o=e.role||"initiator",s=e.direction||"outgoing",a=t.application,c=t.transport,u=a.payloads||[],l=c&&c.fingerprints||[],f=[];if("datachannel"==a.applicationType?(f.push("application"),f.push("1"),f.push("DTLS/SCTP"),c.sctp&&c.sctp.forEach(function(t){f.push(t.number)})):(f.push(a.media),f.push("1"),l.length>0?f.push("UDP/TLS/RTP/SAVPF"):a.encryption&&a.encryption.length>0?f.push("RTP/SAVPF"):f.push("RTP/AVPF"),u.forEach(function(t){f.push(t.id)})),i.push("m="+f.join(" ")),i.push("c=IN IP4 0.0.0.0"),a.bandwidth&&a.bandwidth.type&&a.bandwidth.bandwidth&&i.push("b="+a.bandwidth.type+":"+a.bandwidth.bandwidth),"rtp"==a.applicationType&&i.push("a=rtcp:1 IN IP4 0.0.0.0"),c){c.ufrag&&i.push("a=ice-ufrag:"+c.ufrag),c.pwd&&i.push("a=ice-pwd:"+c.pwd);l.forEach(function(t){i.push("a=fingerprint:"+t.hash+" "+t.value),t.setup&&i.push("a=setup:"+t.setup)}),c.sctp&&c.sctp.forEach(function(t){i.push("a=sctpmap:"+t.number+" "+t.protocol+" "+t.streams)})}return"rtp"==a.applicationType&&i.push("a="+(r[o][s][t.senders]||"sendrecv")),i.push("a=mid:"+t.name),a.sources&&a.sources.length&&(a.sources[0].parameters||[]).forEach(function(t){"msid"===t.key&&i.push("a=msid:"+t.value)}),a.mux&&i.push("a=rtcp-mux"),(a.encryption||[]).forEach(function(t){i.push("a=crypto:"+t.tag+" "+t.cipherSuite+" "+t.keyParams+(t.sessionParams?" "+t.sessionParams:""))}),a.googConferenceFlag&&i.push("a=x-google-flag:conference"),u.forEach(function(t){var e="a=rtpmap:"+t.id+" "+t.name+"/"+t.clockrate;if(t.channels&&"1"!=t.channels&&(e+="/"+t.channels),i.push(e),t.parameters&&t.parameters.length){var n=["a=fmtp:"+t.id],r=[];t.parameters.forEach(function(t){r.push((t.key?t.key+"=":"")+t.value)}),n.push(r.join(";")),i.push(n.join(" "))}t.feedback&&t.feedback.forEach(function(e){"trr-int"===e.type?i.push("a=rtcp-fb:"+t.id+" trr-int "+(e.value?e.value:"0")):i.push("a=rtcp-fb:"+t.id+" "+e.type+(e.subtype?" "+e.subtype:""))})}),a.feedback&&a.feedback.forEach(function(t){"trr-int"===t.type?i.push("a=rtcp-fb:* trr-int "+(t.value?t.value:"0")):i.push("a=rtcp-fb:* "+t.type+(t.subtype?" "+t.subtype:""))}),(a.headerExtensions||[]).forEach(function(t){i.push("a=extmap:"+t.id+(t.senders?"/"+r[o][s][t.senders]:"")+" "+t.uri)}),(a.sourceGroups||[]).forEach(function(t){i.push("a=ssrc-group:"+t.semantics+" "+t.sources.join(" "))}),(a.sources||[]).forEach(function(t){for(var e=0;e<t.parameters.length;e++){var n=t.parameters[e];i.push("a=ssrc:"+(t.ssrc||a.ssrc)+" "+n.key+(n.value?":"+n.value:""))}}),(c.candidates||[]).forEach(function(t){i.push(n.toCandidateSDP(t))}),i.join("\r\n")},n.toCandidateSDP=function(t){var e=[];e.push(t.foundation),e.push(t.component),e.push(t.protocol.toUpperCase()),e.push(t.priority),e.push(t.ip),e.push(t.port);var n=t.type;return e.push("typ"),e.push(n),"srflx"!==n&&"prflx"!==n&&"relay"!==n||t.relAddr&&t.relPort&&(e.push("raddr"),e.push(t.relAddr),e.push("rport"),e.push(t.relPort)),t.tcpType&&"TCP"==t.protocol.toUpperCase()&&(e.push("tcptype"),e.push(t.tcpType)),e.push("generation"),e.push(t.generation||"0"),"a=candidate:"+e.join(" ")}},{"./senders":519}],522:[function(e,n,r){(function(e){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o){"use strict";function s(t){var e={capacity:t||1,current:0,queue:[],firstHere:!1,take:function(){if(!1===e.firstHere){e.current++,e.firstHere=!0;var t=1}else var t=0;var n={n:1};"function"==typeof arguments[0]?n.task=arguments[0]:n.n=arguments[0],arguments.length>=2&&("function"==typeof arguments[1]?n.task=arguments[1]:n.n=arguments[1]);var r=n.task;if(n.task=function(){r(e.leave)},e.current+n.n-t>e.capacity)return 1===t&&(e.current--,e.firstHere=!1),e.queue.push(n);e.current+=n.n-t,n.task(e.leave),1===t&&(e.firstHere=!1)},leave:function(t){if(t=t||1,e.current-=t,e.queue.length){var n=e.queue[0];n.n+e.current>e.capacity||(e.queue.shift(),e.current+=n.n,a(n.task))}else if(e.current<0)throw new Error("leave called too many times.")},available:function(t){return t=t||1,e.current+t<=e.capacity}};return e}var a=function(t){setTimeout(t,0)};void 0!==e&&e&&"function"==typeof e.nextTick&&(a=e.nextTick),"object"===(void 0===r?"undefined":i(r))?n.exports=s:"function"==typeof t&&t.amd?t(function(){return s}):o.semaphore=s}(this)}).call(this,e("_process"))},{_process:492}],523:[function(t,e,n){function r(t,e){this._block=i.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}var i=t("safe-buffer").Buffer;r.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=i.from(t,e));for(var n=this._block,r=this._blockSize,o=t.length,s=this._len,a=0;a<o;){for(var c=s%r,u=Math.min(o-a,r-c),l=0;l<u;l++)n[c+l]=t[a+l];s+=u,a+=u,s%r==0&&this._update(n)}return this._len+=o,this},r.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},{"safe-buffer":515}],524:[function(t,e,n){var n=e.exports=function(t){t=t.toLowerCase();var e=n[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};n.sha=t("./sha"),n.sha1=t("./sha1"),n.sha224=t("./sha224"),n.sha256=t("./sha256"),n.sha384=t("./sha384"),n.sha512=t("./sha512")},{"./sha":525,"./sha1":526,"./sha224":527,"./sha256":528,"./sha384":529,"./sha512":530}],525:[function(t,e,n){function r(){this.init(),this._w=f,c.call(this,64,56)}function i(t){return t<<5|t>>>27}function o(t){return t<<30|t>>>2}function s(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}var a=t("inherits"),c=t("./hash"),u=t("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],f=new Array(80);a(r,c),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(t){for(var e=this._w,n=0|this._a,r=0|this._b,a=0|this._c,c=0|this._d,u=0|this._e,f=0;f<16;++f)e[f]=t.readInt32BE(4*f);for(;f<80;++f)e[f]=e[f-3]^e[f-8]^e[f-14]^e[f-16];for(var p=0;p<80;++p){var h=~~(p/20),d=i(n)+s(h,r,a,c)+u+e[p]+l[h]|0;u=c,c=a,a=o(r),r=n,n=d}this._a=n+this._a|0,this._b=r+this._b|0,this._c=a+this._c|0,this._d=c+this._d|0,this._e=u+this._e|0},r.prototype._hash=function(){var t=u.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},e.exports=r},{"./hash":523,inherits:421,"safe-buffer":515}],526:[function(t,e,n){function r(){this.init(),this._w=p,u.call(this,64,56)}function i(t){return t<<1|t>>>31}function o(t){return t<<5|t>>>27}function s(t){return t<<30|t>>>2}function a(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}var c=t("inherits"),u=t("./hash"),l=t("safe-buffer").Buffer,f=[1518500249,1859775393,-1894007588,-899497514],p=new Array(80);c(r,u),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(t){for(var e=this._w,n=0|this._a,r=0|this._b,c=0|this._c,u=0|this._d,l=0|this._e,p=0;p<16;++p)e[p]=t.readInt32BE(4*p);for(;p<80;++p)e[p]=i(e[p-3]^e[p-8]^e[p-14]^e[p-16]);for(var h=0;h<80;++h){var d=~~(h/20),g=o(n)+a(d,r,c,u)+l+e[h]+f[d]|0;l=u,u=c,c=s(r),r=n,n=g}this._a=n+this._a|0,this._b=r+this._b|0,this._c=c+this._c|0,this._d=u+this._d|0,this._e=l+this._e|0},r.prototype._hash=function(){var t=l.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},e.exports=r},{"./hash":523,inherits:421,"safe-buffer":515}],527:[function(t,e,n){function r(){this.init(),this._w=c,s.call(this,64,56)}var i=t("inherits"),o=t("./sha256"),s=t("./hash"),a=t("safe-buffer").Buffer,c=new Array(64);i(r,o),r.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},r.prototype._hash=function(){var t=a.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},e.exports=r},{"./hash":523,"./sha256":528,inherits:421,"safe-buffer":515}],528:[function(t,e,n){function r(){this.init(),this._w=d,f.call(this,64,56)}function i(t,e,n){return n^t&(e^n)}function o(t,e,n){return t&e|n&(t|e)}function s(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function a(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function c(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function u(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}var l=t("inherits"),f=t("./hash"),p=t("safe-buffer").Buffer,h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=new Array(64);l(r,f),r.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},r.prototype._update=function(t){for(var e=this._w,n=0|this._a,r=0|this._b,l=0|this._c,f=0|this._d,p=0|this._e,d=0|this._f,g=0|this._g,m=0|this._h,v=0;v<16;++v)e[v]=t.readInt32BE(4*v);for(;v<64;++v)e[v]=u(e[v-2])+e[v-7]+c(e[v-15])+e[v-16]|0;for(var y=0;y<64;++y){var _=m+a(p)+i(p,d,g)+h[y]+e[y]|0,b=s(n)+o(n,r,l)|0;m=g,g=d,d=p,p=f+_|0,f=l,l=r,r=n,n=_+b|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=l+this._c|0,this._d=f+this._d|0,this._e=p+this._e|0,this._f=d+this._f|0,this._g=g+this._g|0,this._h=m+this._h|0},r.prototype._hash=function(){var t=p.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},e.exports=r},{"./hash":523,inherits:421,"safe-buffer":515}],529:[function(t,e,n){function r(){this.init(),this._w=c,s.call(this,128,112)}var i=t("inherits"),o=t("./sha512"),s=t("./hash"),a=t("safe-buffer").Buffer,c=new Array(160);i(r,o),r.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},r.prototype._hash=function(){function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}var e=a.allocUnsafe(48);return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=r},{"./hash":523,"./sha512":530,inherits:421,"safe-buffer":515}],530:[function(t,e,n){function r(){this.init(),this._w=v,d.call(this,128,112)}function i(t,e,n){return n^t&(e^n)}function o(t,e,n){return t&e|n&(t|e)}function s(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function a(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function c(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function u(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function l(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function f(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function p(t,e){return t>>>0<e>>>0?1:0}var h=t("inherits"),d=t("./hash"),g=t("safe-buffer").Buffer,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],v=new Array(160);h(r,d),r.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},r.prototype._update=function(t){for(var e=this._w,n=0|this._ah,r=0|this._bh,h=0|this._ch,d=0|this._dh,g=0|this._eh,v=0|this._fh,y=0|this._gh,_=0|this._hh,b=0|this._al,w=0|this._bl,x=0|this._cl,S=0|this._dl,j=0|this._el,E=0|this._fl,k=0|this._gl,C=0|this._hl,T=0;T<32;T+=2)e[T]=t.readInt32BE(4*T),e[T+1]=t.readInt32BE(4*T+4);for(;T<160;T+=2){var O=e[T-30],A=e[T-30+1],R=c(O,A),I=u(A,O);O=e[T-4],A=e[T-4+1];var P=l(O,A),D=f(A,O),N=e[T-14],L=e[T-14+1],M=e[T-32],F=e[T-32+1],B=I+L|0,z=R+N+p(B,I)|0;B=B+D|0,z=z+P+p(B,D)|0,B=B+F|0,z=z+M+p(B,F)|0,e[T]=z,e[T+1]=B}for(var U=0;U<160;U+=2){z=e[U],B=e[U+1];var q=o(n,r,h),W=o(b,w,x),J=s(n,b),V=s(b,n),H=a(g,j),G=a(j,g),X=m[U],$=m[U+1],Y=i(g,v,y),Q=i(j,E,k),K=C+G|0,Z=_+H+p(K,C)|0;K=K+Q|0,Z=Z+Y+p(K,Q)|0,K=K+$|0,Z=Z+X+p(K,$)|0,K=K+B|0,Z=Z+z+p(K,B)|0;var tt=V+W|0,et=J+q+p(tt,V)|0;_=y,C=k,y=v,k=E,v=g,E=j,j=S+K|0,g=d+Z+p(j,S)|0,d=h,S=x,h=r,x=w,r=n,w=b,b=K+tt|0,n=Z+et+p(b,K)|0}this._al=this._al+b|0,this._bl=this._bl+w|0,this._cl=this._cl+x|0,this._dl=this._dl+S|0,this._el=this._el+j|0,this._fl=this._fl+E|0,this._gl=this._gl+k|0,this._hl=this._hl+C|0,this._ah=this._ah+n+p(this._al,b)|0,this._bh=this._bh+r+p(this._bl,w)|0,this._ch=this._ch+h+p(this._cl,x)|0,this._dh=this._dh+d+p(this._dl,S)|0,this._eh=this._eh+g+p(this._el,j)|0,this._fh=this._fh+v+p(this._fl,E)|0,this._gh=this._gh+y+p(this._gl,k)|0,this._hh=this._hh+_+p(this._hl,C)|0},r.prototype._hash=function(){function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}var e=g.allocUnsafe(64);return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=r},{"./hash":523,inherits:421,"safe-buffer":515}],531:[function(t,e,n){function r(t,e){if(!(this instanceof r))return new r(t,e);t&&"object"===(void 0===t?"undefined":i(t))&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||c;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("engine.io-client"),s=t("./socket"),a=t("component-emitter"),c=t("socket.io-parser"),u=t("./on"),l=t("component-bind"),f=t("debug")("socket.io-client:manager"),p=t("indexof"),h=t("backo2"),d=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)d.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},r.prototype.updateSocketIds=function(){for(var t in this.nsps)d.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},r.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},a(r.prototype),r.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},r.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},r.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(t,e){if(f("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;f("opening %s",this.uri),this.engine=o(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=u(n,"open",function(){r.onopen(),t&&t()}),s=u(n,"error",function(e){if(f("connect_error"),r.cleanup(),r.readyState="closed",
r.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;f("connect attempt will timeout after %d",a);var c=setTimeout(function(){f("connect attempt timed out after %d",a),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(i),this.subs.push(s),this},r.prototype.onopen=function(){f("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(u(t,"data",l(this,"ondata"))),this.subs.push(u(t,"ping",l(this,"onping"))),this.subs.push(u(t,"pong",l(this,"onpong"))),this.subs.push(u(t,"error",l(this,"onerror"))),this.subs.push(u(t,"close",l(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",l(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(t){this.decoder.add(t)},r.prototype.ondecoded=function(t){this.emit("packet",t)},r.prototype.onerror=function(t){f("error",t),this.emitAll("error",t)},r.prototype.socket=function(t,e){function n(){~p(i.connecting,r)||i.connecting.push(r)}var r=this.nsps[t];if(!r){r=new s(this,t,e),this.nsps[t]=r;var i=this;r.on("connecting",n),r.on("connect",function(){r.id=i.generateId(t)}),this.autoConnect&&n()}return r},r.prototype.destroy=function(t){var e=p(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},r.prototype.packet=function(t){f("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},r.prototype.cleanup=function(){f("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){f("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(t){f("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)f("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();f("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(f("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(f("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(f("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},{"./on":532,"./socket":533,backo2:45,"component-bind":61,"component-emitter":62,debug:535,"engine.io-client":395,indexof:420,"socket.io-parser":538}],532:[function(t,e,n){function r(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}e.exports=r},{}],533:[function(t,e,n){function r(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("socket.io-parser"),s=t("component-emitter"),a=t("to-array"),c=t("./on"),u=t("component-bind"),l=t("debug")("socket.io-client:socket"),f=t("parseqs"),p=t("has-binary2");e.exports=r;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=s.prototype.emit;s(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[c(t,"open",u(this,"onopen")),c(t,"packet",u(this,"onpacket")),c(t,"close",u(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var t=a(arguments);return t.unshift("message"),this.emit.apply(this,t),this},r.prototype.emit=function(t){if(h.hasOwnProperty(t))return d.apply(this,arguments),this;var e=a(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:p(e))?o.BINARY_EVENT:o.EVENT,data:e};return n.options={},n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},r.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},r.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"===i(this.query)?f.encode(this.query):this.query;l("sending connect packet with query %s",t),this.packet({type:o.CONNECT,query:t})}else this.packet({type:o.CONNECT})},r.prototype.onclose=function(t){l("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},r.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case o.CONNECT:this.onconnect();break;case o.EVENT:case o.BINARY_EVENT:this.onevent(t);break;case o.ACK:case o.BINARY_ACK:this.onack(t);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",t.data)}},r.prototype.onevent=function(t){var e=t.data||[];l("emitting event %j",e),null!=t.id&&(l("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?d.apply(this,e):this.receiveBuffer.push(e)},r.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);l("sending ack %j",r),e.packet({type:p(r)?o.BINARY_ACK:o.ACK,id:t,data:r})}}},r.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(l("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):l("bad ack %s",t.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)d.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(t){return this.flags.compress=t,this},r.prototype.binary=function(t){return this.flags.binary=t,this}},{"./on":532,"component-bind":61,"component-emitter":62,debug:535,"has-binary2":413,parseqs:489,"socket.io-parser":538,"to-array":547}],534:[function(t,e,n){(function(n){function r(t,e){var r=t;e=e||n.location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),o("parse %s",t),r=i(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var s=-1!==r.host.indexOf(":"),a=s?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port,r.href=r.protocol+"://"+a+(e&&e.port===r.port?"":":"+r.port),r}var i=t("parseuri"),o=t("debug")("socket.io-client:url");e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:535,parseuri:490}],535:[function(t,e,n){arguments[4][404][0].apply(n,arguments)},{"./debug":536,_process:492,dup:404}],536:[function(t,e,n){arguments[4][405][0].apply(n,arguments)},{dup:405,ms:486}],537:[function(t,e,n){(function(e){function r(t,e){if(!t)return t;if(a(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(s(t)){for(var i=new Array(t.length),c=0;c<t.length;c++)i[c]=r(t[c],e);return i}if("object"===(void 0===t?"undefined":o(t))&&!(t instanceof Date)){var i={};for(var u in t)i[u]=r(t[u],e);return i}return t}function i(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(s(t))for(var n=0;n<t.length;n++)t[n]=i(t[n],e);else if("object"===(void 0===t?"undefined":o(t)))for(var r in t)t[r]=i(t[r],e);return t}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t("isarray"),a=t("./is-buffer"),c=Object.prototype.toString,u="function"==typeof e.Blob||"[object BlobConstructor]"===c.call(e.Blob),l="function"==typeof e.File||"[object FileConstructor]"===c.call(e.File);n.deconstructPacket=function(t){var e=[],n=t.data,i=t;return i.data=r(n,e),i.attachments=e.length,{packet:i,buffers:e}},n.reconstructPacket=function(t,e){return t.data=i(t.data,e),t.attachments=void 0,t},n.removeBlobs=function(t,e){function n(t,c,f){if(!t)return t;if(u&&t instanceof Blob||l&&t instanceof File){r++;var p=new FileReader;p.onload=function(){f?f[c]=this.result:i=this.result,--r||e(i)},p.readAsArrayBuffer(t)}else if(s(t))for(var h=0;h<t.length;h++)n(t[h],h,t);else if("object"===(void 0===t?"undefined":o(t))&&!a(t))for(var d in t)n(t[d],d,t)}var r=0,i=t;n(i),r||e(i)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":539,isarray:542}],538:[function(t,e,n){function r(){}function i(t){var e=""+t.type;if(n.BINARY_EVENT!==t.type&&n.BINARY_ACK!==t.type||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data){var r=o(t.data);if(!1===r)return v;e+=r}return p("encoded %j as %s",t,e),e}function o(t){try{return JSON.stringify(t)}catch(t){return!1}}function s(t,e){function n(t){var n=d.deconstructPacket(t),r=i(n.packet),o=n.buffers;o.unshift(r),e(o)}d.removeBlobs(t,n)}function a(){this.reconstructor=null}function c(t){var e=0,r={type:Number(t.charAt(0))};if(null==n.types[r.type])return f("unknown packet type "+r.type);if(n.BINARY_EVENT===r.type||n.BINARY_ACK===r.type){for(var i="";"-"!==t.charAt(++e)&&(i+=t.charAt(e),e!=t.length););if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===t.charAt(e+1))for(r.nsp="";++e;){var o=t.charAt(e);if(","===o)break;if(r.nsp+=o,e===t.length)break}else r.nsp="/";var s=t.charAt(e+1);if(""!==s&&Number(s)==s){for(r.id="";++e;){var o=t.charAt(e);if(null==o||Number(o)!=o){--e;break}if(r.id+=t.charAt(e),e===t.length)break}r.id=Number(r.id)}if(t.charAt(++e)){var a=u(t.substr(e));if(!(!1!==a&&(r.type===n.ERROR||g(a))))return f("invalid payload");r.data=a}return p("decoded %s as %j",t,r),r}function u(t){try{return JSON.parse(t)}catch(t){return!1}}function l(t){this.reconPack=t,this.buffers=[]}function f(t){return{type:n.ERROR,data:"parser error: "+t}}var p=t("debug")("socket.io-parser"),h=t("component-emitter"),d=t("./binary"),g=t("isarray"),m=t("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=r,n.Decoder=a;var v=n.ERROR+'"encode error"';r.prototype.encode=function(t,e){if(p("encoding packet %j",t),n.BINARY_EVENT===t.type||n.BINARY_ACK===t.type)s(t,e);else{e([i(t)])}},h(a.prototype),a.prototype.add=function(t){var e;if("string"==typeof t)e=c(t),n.BINARY_EVENT===e.type||n.BINARY_ACK===e.type?(this.reconstructor=new l(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!m(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",e))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":537,"./is-buffer":539,"component-emitter":62,debug:540,isarray:542}],539:[function(t,e,n){(function(t){function n(e){return r&&t.Buffer.isBuffer(e)||i&&(e instanceof t.ArrayBuffer||o(e))}e.exports=n;var r="function"==typeof t.Buffer&&"function"==typeof t.Buffer.isBuffer,i="function"==typeof t.ArrayBuffer,o=function(){return i&&"function"==typeof t.ArrayBuffer.isView?t.ArrayBuffer.isView:function(e){return e.buffer instanceof t.ArrayBuffer}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],540:[function(t,e,n){arguments[4][404][0].apply(n,arguments)},{"./debug":541,_process:492,dup:404}],541:[function(t,e,n){arguments[4][405][0].apply(n,arguments)},{dup:405,ms:486}],542:[function(t,e,n){arguments[4][414][0].apply(n,arguments)},{dup:414}],543:[function(t,e,n){"use strict";function r(t,e,n){function r(t){return function(){var r=this.xhr.getResponseHeader(e);null!=r&&(n&&s?s.io.engine.transport.query[a]=s.io.engine.query[a]=r:(i("setting header %s to %s",e,r),null==t.extraHeaders&&(t.extraHeaders={}),t.extraHeaders[e]=r))}}if(!o){null==e&&(e="Session-Id");var a=e.replace(new RegExp("-","g"),"");if(null==t||"function"!=typeof t)throw new Error('Please provide XHR function constructor ie require("engine.io-client/lib/transports/polling-xhr"');var c=t.Request,u=t.prototype.request;if(null==u)throw new Error("XHR.prototype.request is not set");var l=c.prototype.onLoad;if(null==l)throw new Error("Request.prototype.onLoad is not set");c.prototype.onLoad=function(){this.emit("onLoad"),l.call(this)},t.prototype.request=function(t){var e=u.call(this,t);return e.once("onLoad",r(this)),e},o=!0}}var i=t("debug")("engine.io-sticky-headers"),o=!1,s=null;r.setSocket=function(t){s=t},e.exports=r},{debug:393}],544:[function(e,n,r){!function(){"use strict";function e(t){return i(o(t),arguments)}function n(t,n){return e.apply(null,[t].concat(n||[]))}function i(t,n){var r,i,o,a,c,u,l,f,p,h=1,d=t.length,g="";for(i=0;i<d;i++)if("string"==typeof t[i])g+=t[i];else if(Array.isArray(t[i])){if(a=t[i],a[2])for(r=n[h],o=0;o<a[2].length;o++){if(!r.hasOwnProperty(a[2][o]))throw new Error(e('[sprintf] property "%s" does not exist',a[2][o]));r=r[a[2][o]]}else r=a[1]?n[a[1]]:n[h++];if(s.not_type.test(a[8])&&s.not_primitive.test(a[8])&&r instanceof Function&&(r=r()),s.numeric_arg.test(a[8])&&"number"!=typeof r&&isNaN(r))throw new TypeError(e("[sprintf] expecting number but found %T",r));switch(s.number.test(a[8])&&(f=r>=0),a[8]){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,a[6]?parseInt(a[6]):0);break;case"e":r=a[7]?parseFloat(r).toExponential(a[7]):parseFloat(r).toExponential();break;case"f":r=a[7]?parseFloat(r).toFixed(a[7]):parseFloat(r);break;case"g":r=a[7]?String(Number(r.toPrecision(a[7]))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=a[7]?r.substring(0,a[7]):r;break;case"t":r=String(!!r),r=a[7]?r.substring(0,a[7]):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=a[7]?r.substring(0,a[7]):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=a[7]?r.substring(0,a[7]):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}s.json.test(a[8])?g+=r:(!s.number.test(a[8])||f&&!a[3]?p="":(p=f?"+":"-",r=r.toString().replace(s.sign,"")),u=a[4]?"0"===a[4]?"0":a[4].charAt(1):" ",l=a[6]-(p+r).length,c=a[6]&&l>0?u.repeat(l):"",g+=a[5]?p+r+c:"0"===u?p+c+r:c+p+r)}return g}function o(t){if(a[t])return a[t];for(var e,n=t,r=[],i=0;n;){if(null!==(e=s.text.exec(n)))r.push(e[0]);else if(null!==(e=s.modulo.exec(n)))r.push("%");else{if(null===(e=s.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){i|=1;var o=[],c=e[2],u=[];if(null===(u=s.key.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(u[1]);""!==(c=c.substring(u[0].length));)if(null!==(u=s.key_access.exec(c)))o.push(u[1]);else{if(null===(u=s.index_access.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(u[1])}e[2]=o}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push(e)}n=n.substring(e[0].length)}return a[t]=r}var s={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/},a=Object.create(null);void 0!==r&&(r.sprintf=e,r.vsprintf=n),"undefined"!=typeof window&&(window.sprintf=e,window.vsprintf=n,"function"==typeof t&&t.amd&&t(function(){return{sprintf:e,vsprintf:n}}))}()},{}],545:[function(t,e,n){function r(){i.call(this)}e.exports=r;var i=t("events").EventEmitter;t("inherits")(r,i),r.Readable=t("readable-stream/readable.js"),r.Writable=t("readable-stream/writable.js"),r.Duplex=t("readable-stream/duplex.js"),r.Transform=t("readable-stream/transform.js"),r.PassThrough=t("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&u.pause&&u.pause()}function r(){u.readable&&u.resume&&u.resume()}function o(){l||(l=!0,t.end())}function s(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(c(),0===i.listenerCount(this,"error"))throw t}function c(){u.removeListener("data",n),t.removeListener("drain",r),u.removeListener("end",o),u.removeListener("close",s),u.removeListener("error",a),t.removeListener("error",a),u.removeListener("end",c),u.removeListener("close",c),t.removeListener("close",c)}var u=this;u.on("data",n),t.on("drain",r),t._isStdio||e&&!1===e.end||(u.on("end",o),u.on("close",s));var l=!1;return u.on("error",a),t.on("error",a),u.on("end",c),u.on("close",c),t.on("close",c),t.emit("pipe",u),t}},{events:409,inherits:421,"readable-stream/duplex.js":496,"readable-stream/passthrough.js":505,"readable-stream/readable.js":506,"readable-stream/transform.js":507,"readable-stream/writable.js":508}],546:[function(t,e,n){"use strict";function r(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(t){var e=r(t);if("string"!=typeof e&&(y.isEncoding===_||!_(t)))throw new Error("Unknown encoding: "+t);return e||t}function o(t){this.encoding=i(t);var e;switch(this.encoding){case"utf16le":this.text=p,this.end=h,e=4;break;case"utf8":this.fillLast=u,e=4;break;case"base64":this.text=d,this.end=g,e=3;break;default:return this.write=m,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(e[r]),i>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0)}function c(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}function u(t){var e=this.lastTotal-this.lastNeed,n=c(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){var n=a(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function p(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function d(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function m(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}var y=t("safe-buffer").Buffer,_=y.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};n.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=f,o.prototype.text=l,o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":515}],547:[function(t,e,n){function r(t,e){var n=[];e=e||0;for(var r=e||0;r<t.length;r++)n[r-e]=t[r];return n}e.exports=r},{}],548:[function(t,e,n){var r=t("./trim"),i=t("./decapitalize");e.exports=function(t,e){return t=r(t).replace(/[-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),!0===e?i(t):t}},{"./decapitalize":557,"./trim":610}],549:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t,e){t=r(t);var n=e?t.slice(1).toLowerCase():t.slice(1);return t.charAt(0).toUpperCase()+n}},{"./helper/makeString":567}],550:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t){return r(t).split("")}},{"./helper/makeString":567}],551:[function(t,e,n){e.exports=function(t,e){return null==t?[]:(t=String(t),e=~~e,e>0?t.match(new RegExp(".{1,"+e+"}","g")):[t])}},{}],552:[function(t,e,n){var r=t("./capitalize"),i=t("./camelize"),o=t("./helper/makeString");e.exports=function(t){return t=o(t),r(i(t.replace(/[\W_]/g," ")).replace(/\s/g,""))}},{"./camelize":548,"./capitalize":549,"./helper/makeString":567}],553:[function(t,e,n){var r=t("./trim");e.exports=function(t){return r(t).replace(/\s\s+/g," ")}},{"./trim":610}],554:[function(t,e,n){var r=t("./helper/makeString"),i="ąàáäâãåæăćčĉęèéëêĝĥìíïîĵłľńňòóöőôõðøśșşšŝťțţŭùúüűûñÿýçżźž",o="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";i+=i.toUpperCase(),o+=o.toUpperCase(),o=o.split(""),i+="ß",o.push("ss"),e.exports=function(t){return r(t).replace(/.{1}/g,function(t){var e=i.indexOf(t);return-1===e?t:o[e]})}},{"./helper/makeString":567}],555:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t,e){return t=r(t),e=r(e),0===t.length||0===e.length?0:t.split(e).length-1}},{"./helper/makeString":567}],556:[function(t,e,n){var r=t("./trim");e.exports=function(t){return r(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},{"./trim":610}],557:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t){return t=r(t),t.charAt(0).toLowerCase()+t.slice(1)}},{"./helper/makeString":567}],558:[function(t,e,n){function r(t){for(var e=t.match(/^[\s\\t]*/gm),n=e[0].length,r=1;r<e.length;r++)n=Math.min(e[r].length,n);return n}var i=t("./helper/makeString");e.exports=function(t,e){t=i(t);var n,o=r(t);return 0===o?t:(n="string"==typeof e?new RegExp("^"+e,"gm"):new RegExp("^[ \\t]{"+o+"}","gm"),t.replace(n,""))}},{"./helper/makeString":567}],559:[function(t,e,n){var r=t("./helper/makeString"),i=t("./helper/toPositive");e.exports=function(t,e,n){return t=r(t),e=""+e,(n=void 0===n?t.length-e.length:Math.min(i(n),t.length)-e.length)>=0&&t.indexOf(e,n)===n}},{"./helper/makeString":567,"./helper/toPositive":569}],560:[function(t,e,n){var r=t("./helper/makeString"),i=t("./helper/escapeChars"),o="[";for(var s in i)o+=s;o+="]";var a=new RegExp(o,"g");e.exports=function(t){return r(t).replace(a,function(t){return"&"+i[t]+";"})}},{"./helper/escapeChars":564,"./helper/makeString":567}],561:[function(t,e,n){e.exports=function(){var t={};for(var e in this)this.hasOwnProperty(e)&&!e.match(/^(?:include|contains|reverse|join|map|wrap)$/)&&(t[e]=this[e]);return t}},{}],562:[function(t,e,n){var r=t("./makeString");e.exports=function(t,e){return t=r(t),0===t.length?"":t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+e)}},{"./makeString":567}],563:[function(t,e,n){var r=t("./escapeRegExp");e.exports=function(t){return null==t?"\\s":t.source?t.source:"["+r(t)+"]"}},{"./escapeRegExp":565}],564:[function(t,e,n){var r={"¢":"cent","£":"pound","¥":"yen","€":"euro","©":"copy","®":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"};e.exports=r},{}],565:[function(t,e,n){var r=t("./makeString");e.exports=function(t){return r(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},{"./makeString":567}],566:[function(t,e,n){var r={nbsp:" ",cent:"¢",pound:"£",yen:"¥",euro:"€",copy:"©",reg:"®",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};e.exports=r},{}],567:[function(t,e,n){e.exports=function(t){return null==t?"":""+t}},{}],568:[function(t,e,n){e.exports=function(t,e){if(e<1)return"";for(var n="";e>0;)1&e&&(n+=t),e>>=1,t+=t;return n}},{}],569:[function(t,e,n){e.exports=function(t){return t<0?0:+t||0}},{}],570:[function(t,e,n){var r=t("./capitalize"),i=t("./underscored"),o=t("./trim");e.exports=function(t){return r(o(i(t).replace(/_id$/,"").replace(/_/g," ")))}},{"./capitalize":549,"./trim":610,"./underscored":612}],571:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t,e){return""===e||-1!==r(t).indexOf(e)}},{"./helper/makeString":567}],572:[function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this._wrapped=t}function i(t,e){"function"==typeof e&&(r.prototype[t]=function(){var t=[this._wrapped].concat(Array.prototype.slice.call(arguments)),n=e.apply(null,t);return"string"==typeof n?new r(n):n})}r.VERSION="3.3.4",r.isBlank=t("./isBlank"),r.stripTags=t("./stripTags"),r.capitalize=t("./capitalize"),r.decapitalize=t("./decapitalize"),r.chop=t("./chop"),r.trim=t("./trim"),r.clean=t("./clean"),r.cleanDiacritics=t("./cleanDiacritics"),r.count=t("./count"),r.chars=t("./chars"),r.swapCase=t("./swapCase"),r.escapeHTML=t("./escapeHTML"),r.unescapeHTML=t("./unescapeHTML"),r.splice=t("./splice"),r.insert=t("./insert"),r.replaceAll=t("./replaceAll"),r.include=t("./include"),r.join=t("./join"),r.lines=t("./lines"),r.dedent=t("./dedent"),r.reverse=t("./reverse"),r.startsWith=t("./startsWith"),r.endsWith=t("./endsWith"),r.pred=t("./pred"),r.succ=t("./succ"),r.titleize=t("./titleize"),r.camelize=t("./camelize"),r.underscored=t("./underscored"),r.dasherize=t("./dasherize"),r.classify=t("./classify"),r.humanize=t("./humanize"),r.ltrim=t("./ltrim"),r.rtrim=t("./rtrim"),r.truncate=t("./truncate"),r.prune=t("./prune"),r.words=t("./words"),r.pad=t("./pad"),r.lpad=t("./lpad"),r.rpad=t("./rpad"),r.lrpad=t("./lrpad"),r.sprintf=t("./sprintf"),r.vsprintf=t("./vsprintf"),r.toNumber=t("./toNumber"),r.numberFormat=t("./numberFormat"),r.strRight=t("./strRight"),r.strRightBack=t("./strRightBack"),r.strLeft=t("./strLeft"),r.strLeftBack=t("./strLeftBack"),r.toSentence=t("./toSentence"),r.toSentenceSerial=t("./toSentenceSerial"),r.slugify=t("./slugify"),r.surround=t("./surround"),r.quote=t("./quote"),r.unquote=t("./unquote"),r.repeat=t("./repeat"),r.naturalCmp=t("./naturalCmp"),r.levenshtein=t("./levenshtein"),r.toBoolean=t("./toBoolean"),r.exports=t("./exports"),r.escapeRegExp=t("./helper/escapeRegExp"),r.wrap=t("./wrap"),r.map=t("./map"),r.strip=r.trim,r.lstrip=r.ltrim,r.rstrip=r.rtrim,r.center=r.lrpad,r.rjust=r.lpad,r.ljust=r.rpad,r.contains=r.include,r.q=r.quote,r.toBool=r.toBoolean,r.camelcase=r.camelize,r.mapChars=r.map,r.prototype={value:function(){return this._wrapped}};for(var o in r)i(o,r[o]);i("tap",function(t,e){return e(t)});var s=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var a in s)!function(t){i(t,function(e){var n=Array.prototype.slice.call(arguments,1);return String.prototype[t].apply(e,n)})}(s[a]);e.exports=r},{"./camelize":548,"./capitalize":549,"./chars":550,"./chop":551,"./classify":552,"./clean":553,"./cleanDiacritics":554,"./count":555,"./dasherize":556,"./decapitalize":557,"./dedent":558,"./endsWith":559,"./escapeHTML":560,"./exports":561,"./helper/escapeRegExp":565,"./humanize":570,"./include":571,"./insert":573,"./isBlank":574,"./join":575,"./levenshtein":576,"./lines":577,"./lpad":578,"./lrpad":579,"./ltrim":580,"./map":581,"./naturalCmp":582,"./numberFormat":583,"./pad":584,"./pred":585,"./prune":586,"./quote":587,"./repeat":588,"./replaceAll":589,"./reverse":590,"./rpad":591,"./rtrim":592,"./slugify":593,"./splice":594,"./sprintf":595,"./startsWith":596,"./strLeft":597,"./strLeftBack":598,"./strRight":599,"./strRightBack":600,"./stripTags":601,"./succ":602,"./surround":603,"./swapCase":604,"./titleize":605,"./toBoolean":606,"./toNumber":607,"./toSentence":608,"./toSentenceSerial":609,"./trim":610,"./truncate":611,"./underscored":612,"./unescapeHTML":613,"./unquote":614,"./vsprintf":615,"./words":616,"./wrap":617}],573:[function(t,e,n){var r=t("./splice");e.exports=function(t,e,n){return r(t,e,0,n)}},{"./splice":594}],574:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t){return/^\s*$/.test(r(t))}},{"./helper/makeString":567}],575:[function(t,e,n){var r=t("./helper/makeString"),i=[].slice;e.exports=function(){var t=i.call(arguments),e=t.shift();return t.join(r(e))}},{"./helper/makeString":567}],576:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t,e){"use strict"
;if(t=r(t),e=r(e),t===e)return 0;if(!t||!e)return Math.max(t.length,e.length);for(var n=new Array(e.length+1),i=0;i<n.length;++i)n[i]=i;for(i=0;i<t.length;++i){for(var o=i+1,s=0;s<e.length;++s){var a=o;o=n[s]+(t.charAt(i)===e.charAt(s)?0:1);var c=a+1;o>c&&(o=c),c=n[s+1]+1,o>c&&(o=c),n[s]=a}n[s]=o}return o}},{"./helper/makeString":567}],577:[function(t,e,n){e.exports=function(t){return null==t?[]:String(t).split(/\r\n?|\n/)}},{}],578:[function(t,e,n){var r=t("./pad");e.exports=function(t,e,n){return r(t,e,n)}},{"./pad":584}],579:[function(t,e,n){var r=t("./pad");e.exports=function(t,e,n){return r(t,e,n,"both")}},{"./pad":584}],580:[function(t,e,n){var r=t("./helper/makeString"),i=t("./helper/defaultToWhiteSpace"),o=String.prototype.trimLeft;e.exports=function(t,e){return t=r(t),!e&&o?o.call(t):(e=i(e),t.replace(new RegExp("^"+e+"+"),""))}},{"./helper/defaultToWhiteSpace":563,"./helper/makeString":567}],581:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t,e){return t=r(t),0===t.length||"function"!=typeof e?t:t.replace(/./g,e)}},{"./helper/makeString":567}],582:[function(t,e,n){e.exports=function(t,e){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var n=/(\.\d+|\d+|\D+)/g,r=String(t).match(n),i=String(e).match(n),o=Math.min(r.length,i.length),s=0;s<o;s++){var a=r[s],c=i[s];if(a!==c){var u=+a,l=+c;return u===u&&l===l?u>l?1:-1:a<c?-1:1}}return r.length!=i.length?r.length-i.length:t<e?-1:1}},{}],583:[function(t,e,n){e.exports=function(t,e,n,r){if(isNaN(t)||null==t)return"";t=t.toFixed(~~e),r="string"==typeof r?r:",";var i=t.split("."),o=i[0],s=i[1]?(n||".")+i[1]:"";return o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+s}},{}],584:[function(t,e,n){var r=t("./helper/makeString"),i=t("./helper/strRepeat");e.exports=function(t,e,n,o){t=r(t),e=~~e;var s=0;switch(n?n.length>1&&(n=n.charAt(0)):n=" ",o){case"right":return s=e-t.length,t+i(n,s);case"both":return s=e-t.length,i(n,Math.ceil(s/2))+t+i(n,Math.floor(s/2));default:return s=e-t.length,i(n,s)+t}}},{"./helper/makeString":567,"./helper/strRepeat":568}],585:[function(t,e,n){var r=t("./helper/adjacent");e.exports=function(t){return r(t,-1)}},{"./helper/adjacent":562}],586:[function(t,e,n){var r=t("./helper/makeString"),i=t("./rtrim");e.exports=function(t,e,n){if(t=r(t),e=~~e,n=null!=n?String(n):"...",t.length<=e)return t;var o=function(t){return t.toUpperCase()!==t.toLowerCase()?"A":" "},s=t.slice(0,e+1).replace(/.(?=\W*\w*$)/g,o);return s=s.slice(s.length-2).match(/\w\w/)?s.replace(/\s*\S+$/,""):i(s.slice(0,s.length-1)),(s+n).length>t.length?t:t.slice(0,s.length)+n}},{"./helper/makeString":567,"./rtrim":592}],587:[function(t,e,n){var r=t("./surround");e.exports=function(t,e){return r(t,e||'"')}},{"./surround":603}],588:[function(t,e,n){var r=t("./helper/makeString"),i=t("./helper/strRepeat");e.exports=function(t,e,n){if(t=r(t),e=~~e,null==n)return i(t,e);for(var o=[];e>0;o[--e]=t);return o.join(n)}},{"./helper/makeString":567,"./helper/strRepeat":568}],589:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t,e,n,i){var o=!0===i?"gi":"g",s=new RegExp(e,o);return r(t).replace(s,n)}},{"./helper/makeString":567}],590:[function(t,e,n){var r=t("./chars");e.exports=function(t){return r(t).reverse().join("")}},{"./chars":550}],591:[function(t,e,n){var r=t("./pad");e.exports=function(t,e,n){return r(t,e,n,"right")}},{"./pad":584}],592:[function(t,e,n){var r=t("./helper/makeString"),i=t("./helper/defaultToWhiteSpace"),o=String.prototype.trimRight;e.exports=function(t,e){return t=r(t),!e&&o?o.call(t):(e=i(e),t.replace(new RegExp(e+"+$"),""))}},{"./helper/defaultToWhiteSpace":563,"./helper/makeString":567}],593:[function(t,e,n){var r=t("./trim"),i=t("./dasherize"),o=t("./cleanDiacritics");e.exports=function(t){return r(i(o(t).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")}},{"./cleanDiacritics":554,"./dasherize":556,"./trim":610}],594:[function(t,e,n){var r=t("./chars");e.exports=function(t,e,n,i){var o=r(t);return o.splice(~~e,~~n,i),o.join("")}},{"./chars":550}],595:[function(t,e,n){var r=t("util-deprecate");e.exports=r(t("sprintf-js").sprintf,"sprintf() will be removed in the next major release, use the sprintf-js package instead.")},{"sprintf-js":544,"util-deprecate":618}],596:[function(t,e,n){var r=t("./helper/makeString"),i=t("./helper/toPositive");e.exports=function(t,e,n){return t=r(t),e=""+e,n=null==n?0:Math.min(i(n),t.length),t.lastIndexOf(e,n)===n}},{"./helper/makeString":567,"./helper/toPositive":569}],597:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t,e){t=r(t),e=r(e);var n=e?t.indexOf(e):-1;return~n?t.slice(0,n):t}},{"./helper/makeString":567}],598:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t,e){t=r(t),e=r(e);var n=t.lastIndexOf(e);return~n?t.slice(0,n):t}},{"./helper/makeString":567}],599:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t,e){t=r(t),e=r(e);var n=e?t.indexOf(e):-1;return~n?t.slice(n+e.length,t.length):t}},{"./helper/makeString":567}],600:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t,e){t=r(t),e=r(e);var n=e?t.lastIndexOf(e):-1;return~n?t.slice(n+e.length,t.length):t}},{"./helper/makeString":567}],601:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t){return r(t).replace(/<\/?[^>]+>/g,"")}},{"./helper/makeString":567}],602:[function(t,e,n){var r=t("./helper/adjacent");e.exports=function(t){return r(t,1)}},{"./helper/adjacent":562}],603:[function(t,e,n){e.exports=function(t,e){return[e,t,e].join("")}},{}],604:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t){return r(t).replace(/\S/g,function(t){return t===t.toUpperCase()?t.toLowerCase():t.toUpperCase()})}},{"./helper/makeString":567}],605:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t){return r(t).toLowerCase().replace(/(?:^|\s|-)\S/g,function(t){return t.toUpperCase()})}},{"./helper/makeString":567}],606:[function(t,e,n){function r(t,e){var n,r,i=t.toLowerCase();for(e=[].concat(e),n=0;n<e.length;n+=1)if(r=e[n]){if(r.test&&r.test(t))return!0;if(r.toLowerCase()===i)return!0}}var i=t("./trim");e.exports=function(t,e,n){return"number"==typeof t&&(t=""+t),"string"!=typeof t?!!t:(t=i(t),!!r(t,e||["true","1"])||!r(t,n||["false","0"])&&void 0)}},{"./trim":610}],607:[function(t,e,n){e.exports=function(t,e){if(null==t)return 0;var n=Math.pow(10,isFinite(e)?e:0);return Math.round(t*n)/n}},{}],608:[function(t,e,n){var r=t("./rtrim");e.exports=function(t,e,n,i){e=e||", ",n=n||" and ";var o=t.slice(),s=o.pop();return t.length>2&&i&&(n=r(e)+n),o.length?o.join(e)+n+s:s}},{"./rtrim":592}],609:[function(t,e,n){var r=t("./toSentence");e.exports=function(t,e,n){return r(t,e,n,!0)}},{"./toSentence":608}],610:[function(t,e,n){var r=t("./helper/makeString"),i=t("./helper/defaultToWhiteSpace"),o=String.prototype.trim;e.exports=function(t,e){return t=r(t),!e&&o?o.call(t):(e=i(e),t.replace(new RegExp("^"+e+"+|"+e+"+$","g"),""))}},{"./helper/defaultToWhiteSpace":563,"./helper/makeString":567}],611:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t,e,n){return t=r(t),n=n||"...",e=~~e,t.length>e?t.slice(0,e)+n:t}},{"./helper/makeString":567}],612:[function(t,e,n){var r=t("./trim");e.exports=function(t){return r(t).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},{"./trim":610}],613:[function(t,e,n){var r=t("./helper/makeString"),i=t("./helper/htmlEntities");e.exports=function(t){return r(t).replace(/\&([^;]+);/g,function(t,e){var n;return e in i?i[e]:(n=e.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=e.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):t})}},{"./helper/htmlEntities":566,"./helper/makeString":567}],614:[function(t,e,n){e.exports=function(t,e){return e=e||'"',t[0]===e&&t[t.length-1]===e?t.slice(1,t.length-1):t}},{}],615:[function(t,e,n){var r=t("util-deprecate");e.exports=r(t("sprintf-js").vsprintf,"vsprintf() will be removed in the next major release, use the sprintf-js package instead.")},{"sprintf-js":544,"util-deprecate":618}],616:[function(t,e,n){var r=t("./isBlank"),i=t("./trim");e.exports=function(t,e){return r(t)?[]:i(t,e).split(e||/\s+/)}},{"./isBlank":574,"./trim":610}],617:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t,e){t=r(t),e=e||{};var n,i=e.width||75,o=e.seperator||"\n",s=e.cut||!1,a=e.preserveSpaces||!1,c=e.trailingSpaces||!1;if(i<=0)return t;if(s){var u=0;for(n="";u<t.length;)u%i==0&&u>0&&(n+=o),n+=t.charAt(u),u++;if(c)for(;u%i>0;)n+=" ",u++;return n}var l=t.split(" "),f=0;for(n="";l.length>0;){if(1+l[0].length+f>i&&f>0){if(a)n+=" ",f++;else if(c)for(;f<i;)n+=" ",f++;n+=o,f=0}f>0&&(n+=" ",f++),n+=l[0],f+=l[0].length,l.shift()}if(c)for(;f<i;)n+=" ",f++;return n}},{"./helper/makeString":567}],618:[function(t,e,n){(function(t){function n(t,e){function n(){if(!i){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}if(r("noDeprecation"))return t;var i=!1;return n}function r(e){try{if(!t.localStorage)return!1}catch(t){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],619:[function(t,e,n){arguments[4][421][0].apply(n,arguments)},{dup:421}],620:[function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.exports=function(t){return t&&"object"===(void 0===t?"undefined":r(t))&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],621:[function(t,e,n){(function(e,r){function i(t,e){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(e)?r.showHidden=e:e&&n._extend(r,e),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),c(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function c(t,e,r){if(t.customInspect&&e&&k(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return _(i)||(i=c(t,i,r)),i}var o=u(t,e);if(o)return o;var s=Object.keys(e),g=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),E(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(e);if(0===s.length){if(k(e)){var m=e.name?": "+e.name:"";return t.stylize("[Function"+m+"]","special")}if(x(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(j(e))return t.stylize(Date.prototype.toString.call(e),"date");if(E(e))return l(e)}var v="",y=!1,b=["{","}"];if(d(e)&&(y=!0,b=["[","]"]),k(e)){v=" [Function"+(e.name?": "+e.name:"")+"]"}if(x(e)&&(v=" "+RegExp.prototype.toString.call(e)),j(e)&&(v=" "+Date.prototype.toUTCString.call(e)),E(e)&&(v=" "+l(e)),0===s.length&&(!y||0==e.length))return b[0]+v+b[1];if(r<0)return x(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var w;return w=y?f(t,e,r,g,s):s.map(function(n){return p(t,e,r,g,n,y)}),t.seen.pop(),h(w,v,b)}function u(t,e){if(w(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)R(e,String(s))?o.push(p(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(t,e,n,r,i,!0))}),o}function p(t,e,n,r,i,o){var s,a,u;if(u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},u.get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),R(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=m(n)?c(t,u.value,null):c(t,u.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),w(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function h(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function m(t){return null===t}function v(t){return null==t}function y(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return"symbol"===(void 0===t?"undefined":I(t))}function w(t){return void 0===t}function x(t){return S(t)&&"[object RegExp]"===T(t)}function S(t){return"object"===(void 0===t?"undefined":I(t))&&null!==t}function j(t){return S(t)&&"[object Date]"===T(t)}function E(t){return S(t)&&("[object Error]"===T(t)||t instanceof Error)}function k(t){return"function"==typeof t}function C(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"===(void 0===t?"undefined":I(t))||void 0===t}function T(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}function A(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),L[t.getMonth()],e].join(" ")}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P=/%[sdj%]/g;n.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(t).replace(P,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];n<o;a=r[++n])m(a)||!S(a)?s+=" "+a:s+=" "+i(a);return s},n.deprecate=function(t,i){function o(){if(!s){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),s=!0}return t.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(!0===e.noDeprecation)return t;var s=!1;return o};var D,N={};n.debuglog=function(t){if(w(D)&&(D=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!N[t])if(new RegExp("\\b"+t+"\\b","i").test(D)){var r=e.pid;N[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else N[t]=function(){};return N[t]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=g,n.isNull=m,n.isNullOrUndefined=v,n.isNumber=y,n.isString=_,n.isSymbol=b,n.isUndefined=w,n.isRegExp=x,n.isObject=S,n.isDate=j,n.isError=E,n.isFunction=k,n.isPrimitive=C,n.isBuffer=t("./support/isBuffer");var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",A(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!S(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":620,_process:492,inherits:619}],622:[function(t,e,n){var r=t("./v1"),i=t("./v4"),o=i;o.v1=r,o.v4=i,e.exports=o},{"./v1":625,"./v4":626}],623:[function(t,e,n){function r(t,e){var n=e||0,r=i;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}for(var i=[],o=0;o<256;++o)i[o]=(o+256).toString(16).substr(1);e.exports=r},{}],624:[function(t,e,n){var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var i=new Uint8Array(16);e.exports=function(){return r(i),i}}else{var o=new Array(16);e.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},{}],625:[function(t,e,n){function r(t,e,n){var r=e&&n||0,l=e||[];t=t||{};var f=t.node||i,p=void 0!==t.clockseq?t.clockseq:o;if(null==f||null==p){var h=s();null==f&&(f=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=o=16383&(h[6]<<8|h[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),g=void 0!==t.nsecs?t.nsecs:u+1,m=d-c+(g-u)/1e4;if(m<0&&void 0===t.clockseq&&(p=p+1&16383),(m<0||d>c)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=d,u=g,o=p,d+=122192928e5;var v=(1e4*(268435455&d)+g)%4294967296;l[r++]=v>>>24&255,l[r++]=v>>>16&255,l[r++]=v>>>8&255,l[r++]=255&v;var y=d/4294967296*1e4&268435455;l[r++]=y>>>8&255,l[r++]=255&y,l[r++]=y>>>24&15|16,l[r++]=y>>>16&255,l[r++]=p>>>8|128,l[r++]=255&p;for(var _=0;_<6;++_)l[r+_]=f[_];return e||a(l)}var i,o,s=t("./lib/rng"),a=t("./lib/bytesToUuid"),c=0,u=0;e.exports=r},{"./lib/bytesToUuid":623,"./lib/rng":624}],626:[function(t,e,n){function r(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var s=t.random||(t.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[r+a]=s[a];return e||o(s)}var i=t("./lib/rng"),o=t("./lib/bytesToUuid");e.exports=r},{"./lib/bytesToUuid":623,"./lib/rng":624}],627:[function(t,e,n){var r,i;window.mozRTCPeerConnection||navigator.mozGetUserMedia?(r="moz",i=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10)):(window.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&(r="webkit",i=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10));var o=window.mozRTCPeerConnection||window.webkitRTCPeerConnection,s=window.mozRTCIceCandidate||window.RTCIceCandidate,a=window.mozRTCSessionDescription||window.RTCSessionDescription,c=window.webkitMediaStream||window.MediaStream,u="https:"===window.location.protocol&&("webkit"===r&&i>=26||"moz"===r&&i>=33),l=window.AudioContext||window.webkitAudioContext,f=document.createElement("video"),p=f&&f.canPlayType&&"probably"===f.canPlayType('video/webm; codecs="vp8", vorbis'),h=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;e.exports={prefix:r,browserVersion:i,support:!!o&&p&&!!h,supportRTCPeerConnection:!!o,supportVp8:p,supportGetUserMedia:!!h,supportDataChannel:!!(o&&o.prototype&&o.prototype.createDataChannel),supportWebAudio:!(!l||!l.prototype.createMediaStreamSource),supportMediaStream:!(!c||!c.prototype.removeTrack),supportScreenSharing:!!u,dataChannel:!!(o&&o.prototype&&o.prototype.createDataChannel),webAudio:!(!l||!l.prototype.createMediaStreamSource),mediaStream:!(!c||!c.prototype.removeTrack),screenSharing:!!u,AudioContext:l,PeerConnection:o,SessionDescription:a,IceCandidate:s,MediaStream:c,getUserMedia:h}},{}],628:[function(t,e,n){function r(){}e.exports=r,r.mixin=function(t){var e=t.prototype||t;e.isWildEmitter=!0,e.on=function(t,e,n){this.callbacks=this.callbacks||{};var r=3===arguments.length,i=r?arguments[1]:void 0,o=r?arguments[2]:arguments[1];return o._groupName=i,(this.callbacks[t]=this.callbacks[t]||[]).push(o),this},e.once=function(t,e,n){function r(){i.off(t,r),a.apply(this,arguments)}var i=this,o=3===arguments.length,s=o?arguments[1]:void 0,a=o?arguments[2]:arguments[1];return this.on(t,s,r),this},e.releaseGroup=function(t){this.callbacks=this.callbacks||{};var e,n,r,i;for(e in this.callbacks)for(i=this.callbacks[e],n=0,r=i.length;n<r;n++)i[n]._groupName===t&&(i.splice(n,1),n--,r--);return this},e.off=function(t,e){this.callbacks=this.callbacks||{};var n,r=this.callbacks[t];return r?1===arguments.length?(delete this.callbacks[t],this):(n=r.indexOf(e),r.splice(n,1),0===r.length&&delete this.callbacks[t],this):this},e.emit=function(t){this.callbacks=this.callbacks||{};var e,n,r,i=[].slice.call(arguments,1),o=this.callbacks[t],s=this.getWildcardCallbacks(t);if(o)for(r=o.slice(),e=0,n=r.length;e<n&&r[e];++e)r[e].apply(this,i);if(s)for(n=s.length,r=s.slice(),e=0,n=r.length;e<n&&r[e];++e)r[e].apply(this,[t].concat(i));return this},e.getWildcardCallbacks=function(t){this.callbacks=this.callbacks||{};var e,n,r=[];for(e in this.callbacks)n=e.split("*"),("*"===e||2===n.length&&t.slice(0,n[0].length)===n[0])&&(r=r.concat(this.callbacks[e]));return r}},r.mixin(r)},{}],629:[function(t,e,n){"use strict";function r(t,e){return t?t+"@"+e:e}function i(t,e,n){return n?r(t,e)+"/"+n:r(t,e)}var o=t("./lib/stringprep"),s=/^[\x00-\x7F]*$/;n.prep=function(t){var e=t.local,s=t.domain,a=t.resource,c=e;return e&&(e=o.nodeprep(e),c=n.unescape(e)),a&&(a=o.resourceprep(a)),"."===s[s.length-1]&&(s=s.slice(0,s.length-1)),s=o.nameprep(s.split(".").map(o.toUnicode).join(".")),{prepped:t.prepped||o.available,local:e,domain:s,resource:a,bare:r(e,s),full:i(e,s,a),unescapedLocal:c,unescapedBare:r(c,s),unescapedFull:i(c,s,a)}},n.parse=function(t,e){var r="",i="",o="";e=e||s.test(t);var a=t.indexOf("/");a>0&&(o=t.slice(a+1),t=t.slice(0,a));var c=t.indexOf("@");c>0&&(r=t.slice(0,c),t=t.slice(c+1)),i=t;var u=n.prep({local:r,domain:i,resource:o});return u.prepped=u.prepped||e,u},n.equal=function(t,e,r){return t=new n.JID(t),e=new n.JID(e),2===arguments.length&&(r=!0),t.local===e.local&&t.domain===e.domain&&t.resource===e.resource&&(!r||t.prepped&&e.prepped)},n.equalBare=function(t,e,r){return t=new n.JID(t),e=new n.JID(e),2===arguments.length&&(r=!0),t.local===e.local&&t.domain===e.domain&&(!r||t.prepped&&e.prepped)},n.isBare=function(t){return t=new n.JID(t),!!!t.resource},n.isFull=function(t){return t=new n.JID(t),!!t.resource},n.escape=function(t){return t.replace(/^\s+|\s+$/g,"").replace(/\\5c/g,"\\5c5c").replace(/\\20/g,"\\5c20").replace(/\\22/g,"\\5c22").replace(/\\26/g,"\\5c26").replace(/\\27/g,"\\5c27").replace(/\\2f/g,"\\5c2f").replace(/\\3a/g,"\\5c3a").replace(/\\3c/g,"\\5c3c").replace(/\\3e/g,"\\5c3e").replace(/\\40/g,"\\5c40").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},n.unescape=function(t){return t.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},n.create=function(t,e,r){return new n.JID(t,e,r)},n.JID=function(t,e,r){var i={};if(!t||e||r)if(e){var o=s.test(t)&&s.test(e);r&&(o=o&&s.test(r)),i=n.prep({local:n.escape(t),domain:e,resource:r,prepped:o})}else i={};else if("string"==typeof t)i=n.parse(t);else{if(!(t._isJID||t instanceof n.JID))throw new Error("Invalid argument type");i=t}this._isJID=!0,this.local=i.local||"",this.domain=i.domain||"",this.resource=i.resource||"",this.bare=i.bare||"",this.full=i.full||"",this.unescapedLocal=i.unescapedLocal||"",this.unescapedBare=i.unescapedBare||"",this.unescapedFull=i.unescapedFull||"",this.prepped=i.prepped},n.JID.prototype.toString=function(){return this.full},n.JID.prototype.toJSON=function(){return this.full}},{"./lib/stringprep":630}],630:[function(t,e,n){"use strict";var r=t("punycode");n.available=!1,n.toUnicode=r.toUnicode,n.nameprep=function(t){return t.toLowerCase()},n.nodeprep=function(t){return t.toLowerCase()},n.resourceprep=function(t){return t}},{punycode:495}],631:[function(t,e,n){function r(t){var e=this;if(e instanceof r||(e=new r),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach(function(t){e.push(t)});else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)e.push(arguments[n]);return e}function i(t,e){t.tail=new s(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function o(t,e){t.head=new s(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function s(t,e,n,r){if(!(this instanceof s))return new s(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null},r.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},r.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},r.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)i(this,arguments[t]);return this.length},r.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},r.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},r.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},r.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;null!==n;r++)t.call(e,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;null!==n;r--)t.call(e,n.value,r,this),n=n.prev},r.prototype.get=function(t){for(var e=0,n=this.head;null!==n&&e<t;e++)n=n.next;if(e===t&&null!==n)return n.value},r.prototype.getReverse=function(t){for(var e=0,n=this.tail;null!==n&&e<t;e++)n=n.prev;if(e===t&&null!==n)return n.value},r.prototype.map=function(t,e){e=e||this;for(var n=new r,i=this.head;null!==i;)n.push(t.call(e,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(t,e){e=e||this;for(var n=new r,i=this.tail;null!==i;)n.push(t.call(e,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=t(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=t(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;null!==n;e++)t[e]=n.value,n=n.next;return t},r.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;null!==n;e++)t[e]=n.value,n=n.prev;return t},r.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new r;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,o=this.head;null!==o&&i<t;i++)o=o.next;for(;null!==o&&i<e;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new r;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,o=this.tail;null!==o&&i>e;i--)o=o.prev;for(;null!==o&&i>t;i--,o=o.prev)n.push(o.value);return n},r.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this}},{}],632:[function(t,e,n){"use strict";function r(t){var e="";do{e=a[t%c]+e,t=Math.floor(t/c)}while(t>0);return e}function i(t){var e=0;for(f=0;f<t.length;f++)e=e*c+u[t.charAt(f)];return e}function o(){var t=r(+new Date);return t!==s?(l=0,s=t):t+"."+r(l++)}for(var s,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c=64,u={},l=0,f=0;f<c;f++)u[a[f]]=f;o.encode=r,o.decode=i,e.exports=o},{}],"extend-helper":[function(t,e,n){e.exports={extends:function(t,e){return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),t.__super__=e.prototype}}},{}],"socket.io-client":[function(t,e,n){function r(t,e){"object"===(void 0===t?"undefined":i(t))&&(e=t,t=void 0),e=e||{};var n,r=o(t),s=r.source,l=r.id,f=r.path,p=u[l]&&f in u[l].nsps,h=e.forceNew||e["force new connection"]||!1===e.multiplex||p;return h?(c("ignoring socket cache for %s",s),n=a(s,e)):(u[l]||(c("new io instance for %s",s),u[l]=a(s,e)),n=u[l]),r.query&&!e.query&&(e.query=r.query),n.socket(r.path,e)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("./url"),s=t("socket.io-parser"),a=t("./manager"),c=t("debug")("socket.io-client");e.exports=n=r;var u=n.managers={};n.protocol=s.protocol,n.connect=r,n.Manager=t("./manager"),n.Socket=t("./socket")},{"./manager":531,"./socket":533,"./url":534,debug:535,"socket.io-parser":538}]},{},[18,43])}}();
//# sourceMappingURL=/realtime/v1/lib/realtime.js.map